# WindChime Player - 未完成功能清单

**扫描日期**: 2025-10-02  
**代码库版本**: v0.3.1（重构后）

---

## 📋 代码中标记的待办事项

### 🎵 核心功能

#### 1. 歌词功能增强
**文件**: `src/components/ImmersiveLyricsView.tsx:1911`
```typescript
// TODO: 后续通过CSS动画实现卡拉OK效果
```
**优先级**: 低  
**描述**: 在沉浸式歌词视图中添加卡拉OK效果（逐字高亮）

---

#### 2. 流派筛选功能
**文件**: `src/components/LibraryPage.new.tsx:193`
```typescript
// TODO: 实现流派筛选逻辑
```
**优先级**: 中  
**描述**: 实现音乐流派的筛选和分类功能

---

#### 3. 背景渐变动画
**文件**: `src/components/ImmersiveLyricsView.tsx:1252`
```typescript
// 背景渐变动画 - 暂时禁用以调试重渲染问题
```
**优先级**: 低  
**描述**: 沉浸式歌词的背景渐变动画功能（已实现但暂时禁用）

---

#### 4. 单曲收藏移除
**文件**: `src/components/FavoritesView.tsx:72`
```typescript
// 从收藏中移除单首歌曲（保留以备将来使用）
```
**优先级**: 低  
**描述**: 单首歌曲的收藏移除功能（已预留接口）

---

#### 5. 后端模拟数据
**文件**: `src/components/LibraryPage.new.tsx:125,130`
```typescript
// 获取最近播放曲目（模拟数据，实际应从后端获取）
// 获取播放历史（模拟数据）
```
**优先级**: 中  
**描述**: 需要后端API支持的历史播放和最近播放功能

---

### 🎨 UI功能（标记为"即将推出"）

#### 6. 音乐分类页面
**位置**: `src/App.tsx:378`
```jsx
<div className="glass-badge brand">即将推出</div>
```
**优先级**: 中  
**描述**: genres页面（按风格和类型浏览音乐）

---

#### 7. 播放设置 - 高级功能
**位置**: `src/components/settings/PlaybackSettings.tsx`

**7.1 音效均衡器** (Line 89)
```jsx
<div className="px-2.5 py-1 bg-brand-100 text-brand-700 rounded-md">即将推出</div>
```
**优先级**: 低  
**描述**: 音频均衡器设置

**7.2 音频输出设备** (Line 119)
```jsx
<div className="px-2.5 py-1 bg-brand-100 text-brand-700 rounded-md">即将推出</div>
```
**优先级**: 中  
**描述**: 音频输出设备选择功能

---

#### 8. 音乐库设置 - 高级功能
**位置**: `src/components/settings/LibrarySettings.tsx`

**8.1 自动扫描** (Line 29)
```jsx
<div className="card-badge brand">即将推出</div>
```
**优先级**: 低  
**描述**: 自动监控文件夹变化并扫描新音乐

**8.2 元数据编辑** (Line 46)
```jsx
<div className="card-badge brand">即将推出</div>
```
**优先级**: 低  
**描述**: 编辑音乐文件的元数据（标题、艺术家、专辑等）

---

## 🔧 技术债务与优化点

### 已识别但未实现的优化

#### 9. 探索页面
**文件**: `src/components/ExplorePage.tsx:9`
```jsx
<p className="text-slate-500 dark:text-dark-600 empty-state-text">待开发</p>
```
**优先级**: 低  
**描述**: 探索页面整体功能待开发

---

#### 10. 歌词重新加载机制
**文件**: `src/components/PlaylistPlayer.tsx:975`
```typescript
// 触发LyricsDisplay重新加载，可以通过key变化来实现
```
**优先级**: 低  
**描述**: 歌词重新加载的优化机制

---

## 📊 功能完成度统计

### 核心功能模块

| 模块 | 完成度 | 待办项 |
|------|--------|--------|
| 播放器核心 | ✅ 100% | 0 |
| 音乐库管理 | ✅ 95% | 流派筛选 |
| 歌词显示 | ✅ 90% | 卡拉OK效果 |
| 设置面板 | ✅ 85% | 均衡器、设备选择 |
| 音乐分类 | ⏳ 0% | 整个模块 |

### UI/UX功能

| 功能 | 状态 | 说明 |
|------|------|------|
| 基础播放控制 | ✅ 完成 | - |
| 歌词同步显示 | ✅ 完成 | - |
| 主题切换 | ✅ 完成 | - |
| 音乐库浏览 | ✅ 完成 | - |
| 探索页面 | ⏳ 待开发 | 标记为"待开发" |
| 流派分类 | ⏳ 待开发 | UI已设计 |
| 卡拉OK歌词 | ⏳ 待开发 | 标记为TODO |
| 背景渐变动画 | 🔧 已禁用 | 已实现但暂时禁用 |
| 历史播放 | ⏳ 待开发 | 使用模拟数据 |
| 音频均衡器 | ⏳ 待开发 | 标记为"即将推出" |
| 设备选择 | ⏳ 待开发 | 标记为"即将推出" |
| 自动扫描 | ⏳ 待开发 | 标记为"即将推出" |
| 元数据编辑 | ⏳ 待开发 | 标记为"即将推出" |

---

## 🎯 推荐开发顺序

### Phase 1: 核心功能完善 (1-2周)
1. ✅ **流派筛选** - 完善音乐库功能
2. ✅ **音频输出设备选择** - 提升用户体验

### Phase 2: 高级功能 (2-3周)
3. ✅ **音乐分类页面** - 实现genres模块
4. ✅ **音频均衡器** - 增强音质控制

### Phase 3: 便利性功能 (1-2周)
5. ✅ **自动扫描** - 自动化音乐库管理
6. ✅ **卡拉OK歌词** - 娱乐功能增强

### Phase 4: 专业功能 (可选)
7. ✅ **元数据编辑** - 专业用户需求

---

## 📝 备注

### 已完成的重大优化
- ✅ Context分层架构重构
- ✅ 统一类型定义系统
- ✅ 事件管理优化
- ✅ 前端缓存系统
- ✅ 性能监控工具

### 不包含的项目
- 备份文件中的TODO（`.backup`, `.new.tsx`等）
- 已注释掉的功能代码
- 纯描述性注释

---

**总计待办事项**: 13个
- 核心功能: 5个
- UI功能: 6个
- 技术优化: 2个

**预计完成时间**: 6-8周（根据优先级排序）

