# 颜色系统快速参考指南

> 📌 **重要提示**：本项目的 `dark-*` 颜色编号是反直觉的！
> - `dark-50` 是**最深的**颜色（用于背景）
> - `dark-900` 是**最浅的**颜色（用于文字）

---

## 🎨 常用颜色组合

### 背景色

```tsx
// 主要背景（最浅/最深）
className="bg-white dark:bg-dark-100"

// 次要背景（稍深）
className="bg-slate-50 dark:bg-dark-200"

// 三级背景（更深）
className="bg-slate-100 dark:bg-dark-300"

// 悬浮效果
className="hover:bg-slate-50 dark:hover:bg-dark-200"
```

### 文字颜色

```tsx
// 主要文字（最深/最浅，对比度最高）
className="text-slate-900 dark:text-dark-900"

// 次要文字
className="text-slate-700 dark:text-dark-800"

// 辅助文字
className="text-slate-600 dark:text-dark-700"

// 禁用文字
className="text-slate-500 dark:text-dark-600"
```

### 边框颜色

```tsx
// 主要边框
className="border-slate-200 dark:border-dark-400"

// 次要边框（更细微）
className="border-slate-100 dark:border-dark-300"

// 焦点边框
className="focus:border-blue-500 dark:focus:border-blue-400"
```

### 卡片组件

```tsx
// 标准卡片
<div className="bg-white dark:bg-dark-200 border border-slate-200 dark:border-dark-400 rounded-xl">
  <h3 className="text-slate-900 dark:text-dark-900">标题</h3>
  <p className="text-slate-600 dark:text-dark-700">描述文字</p>
</div>
```

### 按钮组件

```tsx
// 主要按钮
<button className="bg-brand-600 dark:bg-brand-500 text-white">
  主要操作
</button>

// 次要按钮
<button className="bg-slate-100 dark:bg-dark-300 text-slate-900 dark:text-dark-900">
  次要操作
</button>

// 文字按钮
<button className="text-slate-600 dark:text-dark-700 hover:text-slate-900 dark:hover:text-dark-900">
  文字操作
</button>
```

---

## 📊 颜色对照表

### 浅色模式 → 深色模式映射

| 用途 | 浅色模式 | 深色模式 | 说明 |
|------|---------|---------|------|
| **背景** |
| 主背景 | `bg-white` | `dark:bg-dark-100` | 页面主要背景 |
| 次背景 | `bg-slate-50` | `dark:bg-dark-200` | 卡片、面板背景 |
| 三级背景 | `bg-slate-100` | `dark:bg-dark-300` | 嵌套元素背景 |
| **文字** |
| 主文字 | `text-slate-900` | `dark:text-dark-900` | 标题、重要文字 |
| 次文字 | `text-slate-700` | `dark:text-dark-800` | 副标题 |
| 辅助文字 | `text-slate-600` | `dark:text-dark-700` | 描述、说明 |
| 禁用文字 | `text-slate-500` | `dark:text-dark-600` | 禁用状态 |
| **边框** |
| 主边框 | `border-slate-200` | `dark:border-dark-400` | 明显的分隔线 |
| 次边框 | `border-slate-100` | `dark:border-dark-300` | 细微的分隔线 |

---

## ⚠️ 常见错误

### ❌ 错误示例

```tsx
// ❌ 错误：在浅色模式下直接使用 dark-* 颜色
className="bg-dark-100"  // 这会在浅色模式下显示深色背景！

// ❌ 错误：使用了错误的深色编号
className="bg-white dark:bg-dark-900"  // dark-900 是文字色，不是背景色！

// ❌ 错误：没有为深色模式提供对应颜色
className="bg-slate-50"  // 深色模式下仍然是浅色背景
```

### ✅ 正确示例

```tsx
// ✅ 正确：同时配置浅色和深色
className="bg-white dark:bg-dark-100"

// ✅ 正确：使用正确的编号
className="bg-slate-50 dark:bg-dark-200"

// ✅ 正确：完整的颜色配置
className="text-slate-900 dark:text-dark-900 bg-white dark:bg-dark-100"
```

---

## 🎯 颜色选择决策树

### 我需要什么颜色？

```
需要什么？
│
├─ 背景色
│  ├─ 主要表面 → bg-white dark:bg-dark-100
│  ├─ 次要表面 → bg-slate-50 dark:bg-dark-200
│  └─ 三级表面 → bg-slate-100 dark:bg-dark-300
│
├─ 文字颜色
│  ├─ 标题/重要 → text-slate-900 dark:text-dark-900
│  ├─ 正文 → text-slate-700 dark:text-dark-800
│  ├─ 说明 → text-slate-600 dark:text-dark-700
│  └─ 禁用 → text-slate-500 dark:text-dark-600
│
├─ 边框颜色
│  ├─ 明显分隔 → border-slate-200 dark:border-dark-400
│  └─ 细微分隔 → border-slate-100 dark:border-dark-300
│
└─ 品牌色
   ├─ 主色调 → bg-brand-600 dark:bg-brand-500
   └─ 文字 → text-brand-600 dark:text-brand-400
```

---

## 🔍 实用技巧

### 1. 使用 CSS 变量（推荐）

```css
/* 在 styles.css 中已定义 */
background: var(--surface-primary);     /* 自动适配主题 */
color: var(--text-primary);             /* 自动适配主题 */
border-color: var(--border-primary);    /* 自动适配主题 */
```

### 2. 检查对比度

确保文字和背景之间有足够的对比度：
- **主要文字**：至少 7:1 的对比度（WCAG AAA）
- **次要文字**：至少 4.5:1 的对比度（WCAG AA）
- **辅助文字**：至少 3:1 的对比度

### 3. 测试两种模式

在开发时，记得在两种模式下测试你的 UI：
```tsx
// 在 ThemeContext 中切换
setTheme('light');  // 测试浅色模式
setTheme('dark');   // 测试深色模式
```

---

## 📚 相关资源

- **主要配置**：`tailwind.config.js`
- **CSS 变量**：`src/styles.css`
- **主题管理**：`src/contexts/ThemeContext.tsx`
- **详细报告**：`docs/深色浅色模式颜色系统审查报告.md`
- **主题文档**：`docs/README-THEME-SYSTEM.md`

---

## 🆘 遇到问题？

### 问题：颜色在深色模式下不对
**检查**：是否添加了 `dark:` 前缀？
```tsx
// ❌ 错误
className="bg-slate-50"

// ✅ 正确
className="bg-slate-50 dark:bg-dark-200"
```

### 问题：文字看不清
**检查**：是否使用了正确的对比度？
```tsx
// ❌ 对比度不足
className="text-slate-500 dark:text-dark-700"  // 辅助文字色

// ✅ 对比度充足
className="text-slate-900 dark:text-dark-900"  // 主要文字色
```

### 问题：不确定用哪个编号
**记住**：
- 浅色模式：数字越大越深（正常直觉）
- 深色模式：数字越大越浅（反直觉！⚠️）
  - `dark-100` = 深色背景
  - `dark-900` = 浅色文字

---

## 📝 最佳实践

1. ✅ **总是同时配置浅色和深色**
2. ✅ **使用语义化的组合**（如卡片、按钮的标准组合）
3. ✅ **保持一致的层级关系**（主要、次要、三级）
4. ✅ **注意对比度**（特别是文字）
5. ✅ **在两种模式下测试**
6. ⚠️ **记住 dark-* 的编号是反直觉的**

---

**最后更新**: 2025-10-04  
**维护者**: 开发团队


