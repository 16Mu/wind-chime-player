@tailwind base;
@tailwind components;
@tailwind utilities;

/* ğŸ”¥ å¯¼å…¥å“åº”å¼å¸ƒå±€å’ŒUIå¢å¼º */
@import './styles-responsive.css';
@import './styles/ui-enhancements.css';
@import './styles/page-containers.css';

/* ===================================
   è¿›å…¥åŠ¨ç”»
   =================================== */

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translate3d(-20px, 0, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes fadeOutLeft {
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
  to {
    opacity: 0;
    transform: translate3d(-30px, 0, 0);
  }
}

@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOutRight {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(50px);
  }
}

@keyframes fadeInUpScale {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-fadeInUp {
  animation: fadeInUpScale 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  opacity: 0;
  will-change: transform, opacity;
}

.animate-fadeIn {
  animation: fadeIn 0.4s ease-out forwards;
  opacity: 0;
}

.animate-fadeOutLeft {
  animation: fadeOutLeft 0.28s cubic-bezier(0.4, 0, 0.6, 1) forwards;
  will-change: transform, opacity;
}

.drawer-enter {
  animation: slideInFromRight 0.55s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
}

.drawer-exit {
  animation: slideOutRight 0.28s cubic-bezier(0.4, 0, 1, 1) forwards;
}

/* ===================================
   éŸ³ä¹åº“ç®€æ´ä¸»é¢˜æ ·å¼ (æ¸©æŸ”ç±³ç™½ä¸»é¢˜)
   =================================== */

.library-simple {
  padding: 24px 32px 0 32px;
  width: 100%;
  height: 100%;
  background: transparent;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* é¡¶éƒ¨æ ‡é¢˜åŒº */
.library-header {
  margin-bottom: 16px;
  padding: 0 40px;
}

.library-title {
  font-size: 24px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 10px 0;
  letter-spacing: 0.01em;
}

/* ç»Ÿè®¡æ  */
.library-stats-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: var(--text-sm);
  color: var(--text-muted);
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

.stat-label {
  color: var(--text-muted);
  font-weight: 400;
}

.stat-value {
  color: var(--text-primary);
  font-weight: 600;
}

.stat-divider {
  color: var(--border-primary);
  opacity: 0.6;
}

.stat-item.search-result {
  color: var(--brand-600);
  font-weight: 500;
}

/* æ“ä½œæ  */
.library-actions {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
  padding: 0 40px 14px 40px;
  border-bottom: 1px solid rgba(217, 214, 208, 0.4);
}

.action-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 7px 14px;
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid rgba(217, 214, 208, 0.5);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all var(--dur-fast) var(--ease-productive);
  position: relative;
}

.action-btn:hover {
  background: rgba(255, 255, 255, 0.8);
  border-color: rgba(217, 214, 208, 0.7);
  transform: translateY(-1px);
}

/* ğŸ”„ åŠ¨ç”»æŒ‰é’®é€šç”¨æ ·å¼ */
.animated-button {
  width: 40px;
  height: 40px;
  padding: 0;
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(248, 247, 244, 0.7));
  border: 1px solid rgba(217, 214, 208, 0.4);
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  cursor: pointer;
  transition-duration: 0.3s;
  overflow: hidden;
  position: relative;
}

.animated-button .svgIcon {
  width: 14px;
  transition-duration: 0.3s;
}

.animated-button:hover {
  width: 100px;
  border-radius: 25px;
  transition-duration: 0.3s;
  box-shadow: 0 4px 16px rgba(43, 111, 255, 0.25);
  align-items: center;
}

.animated-button:hover .svgIcon {
  width: 18px;
  transition-duration: 0.3s;
  transform: translateY(60%);
}

.animated-button::before {
  position: absolute;
  top: -20px;
  left: 0;
  right: 0;
  text-align: center;
  color: white;
  transition-duration: 0.3s;
  font-size: 2px;
  font-weight: 500;
  white-space: nowrap;
}

.animated-button:hover::before {
  font-size: 13px;
  opacity: 1;
  transform: translateY(30px);
  transition-duration: 0.3s;
}

.animated-button:active {
  transform: scale(0.95);
}

/* ç¦ç”¨çŠ¶æ€ */
.animated-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
}

.animated-button:disabled:hover {
  width: 40px;
  border-radius: 50%;
  transform: none;
}

/* åˆ·æ–°æŒ‰é’® */
.refresh-button:hover {
  background: var(--brand-600);
  border-color: var(--brand-600);
}

.refresh-button::before {
  content: "åˆ·æ–°";
}

.refresh-button:hover .svgIcon {
  transform: translateY(60%) rotate(180deg);
}

.refresh-button:active .svgIcon {
  animation: refreshSpin 0.5s ease-in-out;
}

@keyframes refreshSpin {
  0% { transform: translateY(60%) rotate(180deg); }
  100% { transform: translateY(60%) rotate(540deg); }
}

/* æ’­æ”¾å…¨éƒ¨æŒ‰é’® */
.play-all-button:hover {
  background: linear-gradient(135deg, var(--brand-600), var(--brand-700));
  border-color: var(--brand-600);
  width: 110px;
}

.play-all-button::before {
  content: "æ’­æ”¾å…¨éƒ¨";
}

.play-all-button:active .svgIcon {
  animation: playPulse 0.4s ease-in-out;
}

@keyframes playPulse {
  0%, 100% { transform: translateY(60%) scale(1); }
  50% { transform: translateY(60%) scale(1.3); }
}

.action-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.action-btn-primary {
  background: var(--brand-600);
  border-color: var(--brand-600);
  color: white;
}

.action-btn-primary:hover {
  background: var(--brand-700);
  border-color: var(--brand-700);
  box-shadow: 0 4px 12px rgba(43, 111, 255, 0.2);
}

/* è§†å›¾åˆ‡æ¢æ ‡ç­¾ */
.view-tabs {
  display: flex;
  gap: 3px;
  margin-left: auto;
  background: rgba(217, 214, 208, 0.15);
  padding: 3px;
  border-radius: var(--radius-md);
  position: relative;
}

/* æ»‘åŠ¨æŒ‡ç¤ºå™¨ */
.view-tabs-slider {
  position: absolute;
  top: 3px;
  left: 3px;
  width: calc((100% - 12px) / 3);
  height: calc(100% - 6px);
  background: rgba(255, 255, 255, 0.9);
  border-radius: var(--radius-sm);
  box-shadow: 0 2px 8px rgba(43, 111, 255, 0.12);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 0;
}

.view-tab {
  padding: 6px 14px;
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-muted);
  cursor: pointer;
  transition: color 0.2s ease;
  position: relative;
  z-index: 1;
  flex: 1;
  text-align: center;
}

.view-tab:hover {
  color: var(--text-secondary);
}

.view-tab.active {
  color: var(--brand-600);
}

/* é”™è¯¯æç¤º */
.library-error {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: #FEF2F2;
  border: 1px solid #FCA5A5;
  border-radius: 8px;
  margin-bottom: 16px;
  color: #991B1B;
  font-size: 14px;
}

.library-error button {
  margin-left: auto;
  width: 24px;
  height: 24px;
  background: transparent;
  border: none;
  color: #991B1B;
  font-size: 20px;
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.15s;
}

.library-error button:hover {
  opacity: 1;
}

/* æ‰«æè¿›åº¦ */
.library-scanning {
  padding: 16px;
  background: #EFF6FF;
  border: 1px solid #BFDBFE;
  border-radius: 8px;
  margin-bottom: 16px;
}

.scanning-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #1E40AF;
}

.scanning-progress {
  font-size: 13px;
  color: #2563EB;
}

.progress-bar {
  height: 4px;
  background: #DBEAFE;
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 8px;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #2563EB 0%, #60A5FA 100%);
  transition: width 0.3s ease;
}

.scanning-file {
  font-size: 12px;
  color: #6B7280;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ä¸»å†…å®¹åŒº */
.library-content {
  background: transparent;
  border: none;
  border-radius: 0;
  overflow: hidden;
  flex: 1;
  min-height: 0;
}

/* åŠ è½½çŠ¶æ€ */
.library-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
  gap: 16px;
}

.library-loading .ring-loader {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(217, 214, 208, 0.3);
  border-top-color: var(--brand-600);
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.library-loading p {
  font-size: var(--text-base);
  color: var(--text-muted);
  font-weight: 500;
}

/* ç©ºçŠ¶æ€ */
.library-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 100px 20px;
  text-align: center;
}

.empty-icon {
  width: 56px;
  height: 56px;
  color: rgba(217, 214, 208, 0.6);
  margin-bottom: 16px;
}

.library-empty h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-secondary);
  margin: 0 0 8px 0;
}

.library-empty p {
  font-size: var(--text-sm);
  color: var(--text-muted);
  max-width: 400px;
  margin: 0;
  line-height: var(--leading-relaxed);
}

/* å“åº”å¼ */
@media (max-width: 1024px) {
  .library-header {
    padding: 0 32px;
  }
  
  .library-actions {
    flex-wrap: wrap;
    padding: 0 32px 14px 32px;
  }
  
  .view-tabs {
    margin-left: 0;
    width: 100%;
    justify-content: stretch;
  }
  
  .view-tab {
    flex: 1;
    text-align: center;
  }
}

@media (max-width: 768px) {
  .library-header {
    padding: 0 20px;
  }
  
  .library-actions {
    padding: 0 20px 14px 20px;
  }
  
  .library-title {
    font-size: 24px;
  }
  
  .library-stats-bar {
    flex-wrap: wrap;
    gap: 8px;
  }
}

/* æ­Œæ›²è¡Œæ ·å¼ - æ‚¬åœæ•ˆæœç”±å…¨å±€è·ŸéšæŒ‡ç¤ºå™¨æä¾› */
tbody tr {
  transition: all 0.2s ease-out;
}

/* æ·±è‰²æ¨¡å¼é€‚é… */
[data-theme="dark"] .library-simple {
  color: var(--text-primary);
}

[data-theme="dark"] .library-title {
  color: var(--text-primary);
}

[data-theme="dark"] .stat-label {
  color: var(--text-muted);
}

[data-theme="dark"] .stat-value {
  color: var(--text-primary);
}

[data-theme="dark"] .action-btn {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
  color: var(--text-secondary);
}

[data-theme="dark"] .action-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .view-tabs {
  background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .view-tabs-slider {
  background: var(--brand-600);
  box-shadow: 0 2px 8px rgba(43, 111, 255, 0.3);
}

[data-theme="dark"] .view-tab {
  color: var(--text-muted);
}

[data-theme="dark"] .view-tab:hover {
  color: var(--text-secondary);
}

[data-theme="dark"] .view-tab.active {
  color: white;
}

[data-theme="dark"] .library-content {
  background: transparent;
  border: none;
}

[data-theme="dark"] .library-empty h3 {
  color: var(--text-secondary);
}

[data-theme="dark"] .library-empty p {
  color: var(--text-muted);
}

[data-theme="dark"] .empty-icon {
  color: rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .library-loading .ring-loader {
  border-color: rgba(255, 255, 255, 0.1);
  border-top-color: var(--brand-600);
}

[data-theme="dark"] .animated-button {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05));
  border-color: rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .animated-button .svgIcon {
  color: var(--text-secondary);
}

[data-theme="dark"] .refresh-button:hover,
[data-theme="dark"] .play-all-button:hover {
  background: var(--brand-600);
  border-color: var(--brand-600);
}

[data-theme="dark"] .play-all-button:hover {
  background: linear-gradient(135deg, var(--brand-600), var(--brand-700));
}

/* ============================================
   æ­Œæ‰‹è§†å›¾æ ·å¼ - ç°ä»£æ¨ªå‘å¡ç‰‡å¸ƒå±€
   ============================================ */

/* è‰ºæœ¯å®¶å¡ç‰‡æ‚¬åœæ•ˆæœ - ä¸ä¸“è¾‘è§†å›¾ä¸€è‡´ */
.artist-card-hover {
  transition: transform 0.3s cubic-bezier(0.22, 0.61, 0.36, 1), 
              box-shadow 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);
}

.artist-card-hover:not(.bg-purple-50):hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.12),
    0 12px 32px rgba(0, 0, 0, 0.08);
}

/* æ·±è‰²æ¨¡å¼æ‚¬åœæ•ˆæœ */
[data-theme="dark"] .artist-card-hover:not(.bg-purple-50):hover {
  box-shadow: 
    0 6px 16px rgba(0, 0, 0, 0.45),
    0 12px 32px rgba(0, 0, 0, 0.40),
    0 20px 48px rgba(0, 0, 0, 0.35);
}

/* è‰ºæœ¯å®¶å¤´åƒé«˜å…‰æ•ˆæœ - ä¸ä¸“è¾‘è§†å›¾ä¸€è‡´ */
.artist-avatar-gloss {
  transition: transform 0.3s cubic-bezier(0.22, 0.61, 0.36, 1),
              box-shadow 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);
}

.artist-avatar-gloss::before {
  content: '';
  pointer-events: none;
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle at calc(var(--mx, 0.5) * 100%) calc(var(--my, 0.5) * 100%),
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.8)) 0%,
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.3)) 25%,
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.05)) 50%,
    rgba(0, 0, 0, 0) 70%
  );
  mix-blend-mode: soft-light;
  opacity: 1;
  will-change: background;
  z-index: 10;
}

/* æ·±è‰²æ¨¡å¼é«˜å…‰ */
[data-theme="dark"] .artist-avatar-gloss::before {
  background: radial-gradient(
    circle at calc(var(--mx, 0.5) * 100%) calc(var(--my, 0.5) * 100%),
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.6)) 0%,
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.2)) 25%,
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.05)) 50%,
    rgba(0, 0, 0, 0) 70%
  );
}

/* è‰ºæœ¯å®¶å¤´åƒåœ¨æ‚¬åœæ—¶å¢å¼ºé˜´å½± */
.artist-card-hover:hover .artist-avatar-gloss {
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.35);
}

.artists-modern-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 12px;
  padding: 4px;
}

.artist-card-modern {
  background: white;
  border: 1px solid rgba(217, 214, 208, 0.25);
  border-radius: 12px;
  padding: 14px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  /* hoveræ•ˆæœ */
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
  /* ç½‘æ ¼æ¨¡å¼ï¼šæ·¡å…¥äº¤é”™åŠ¨ç”» */
  opacity: 0;
  animation: gridFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* ç½‘æ ¼æ¨¡å¼äº¤é”™åŠ¨ç”» - å¢å¤§å»¶è¿Ÿé—´éš”ï¼Œè®©æ³¢æµªæ•ˆæœæ›´æ˜æ˜¾ */
.artist-card-modern:nth-child(1) { animation-delay: 0s; }
.artist-card-modern:nth-child(2) { animation-delay: 0.04s; }
.artist-card-modern:nth-child(3) { animation-delay: 0.08s; }
.artist-card-modern:nth-child(4) { animation-delay: 0.12s; }
.artist-card-modern:nth-child(5) { animation-delay: 0.16s; }
.artist-card-modern:nth-child(6) { animation-delay: 0.2s; }
.artist-card-modern:nth-child(7) { animation-delay: 0.24s; }
.artist-card-modern:nth-child(8) { animation-delay: 0.28s; }
.artist-card-modern:nth-child(9) { animation-delay: 0.32s; }
.artist-card-modern:nth-child(10) { animation-delay: 0.36s; }
.artist-card-modern:nth-child(11) { animation-delay: 0.4s; }
.artist-card-modern:nth-child(12) { animation-delay: 0.44s; }
.artist-card-modern:nth-child(13) { animation-delay: 0.48s; }
.artist-card-modern:nth-child(14) { animation-delay: 0.52s; }
.artist-card-modern:nth-child(15) { animation-delay: 0.56s; }
/* å‰©ä½™å¡ç‰‡ï¼šåœ¨å‰15ä¸ªä¹‹åç»Ÿä¸€å‡ºç° */
.artist-card-modern:nth-child(n+16) { animation-delay: 0.6s; }

.artist-card-modern:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
  border-color: rgba(102, 126, 234, 0.35);
  background: linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(243, 244, 246, 0.8) 100%);
}

.artist-avatar-modern {
  width: 60px;
  height: 60px;
  flex-shrink: 0;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  position: relative;
  transition: all 0.3s ease;
}

.artist-card-modern:hover .artist-avatar-modern {
  transform: scale(1.08);
  box-shadow: 0 6px 18px rgba(102, 126, 234, 0.45);
}

.artist-initial-modern {
  font-size: 24px;
  font-weight: 700;
  color: white;
  user-select: none;
  transition: opacity 0.3s ease;
}

.artist-play-btn-modern {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.65);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.artist-card-modern:hover .artist-play-btn-modern {
  opacity: 1;
  transform: scale(1);
}

.artist-card-modern:hover .artist-initial-modern {
  opacity: 0;
}

.artist-info-modern {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.artist-name-modern {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.3;
}

.artist-meta-modern {
  font-size: 12px;
  color: var(--text-muted);
  margin: 0;
  display: flex;
  align-items: center;
  gap: 5px;
  line-height: 1;
}

.artist-dot {
  color: var(--text-muted);
  opacity: 0.5;
}

/* ============================================
   æ’­æ”¾å™¨å“åº”å¼å¸ƒå±€ - æ­Œæ›²ä¿¡æ¯åŒºåŸŸåŠ¨æ€æ”¶ç¼©
   ============================================ */

/* ============================================
   ä¸“è¾‘è§†å›¾æ ·å¼ - ç½‘æ ¼å¡ç‰‡ + å³ä¾§æŠ½å±‰
   ============================================ */

.albums-view-container {
  position: relative;
  display: flex;
  flex-direction: row;
  gap: 0;
  height: calc(100vh - 200px);
  overflow: hidden;
  max-height: calc(100vh - 200px);
}

.albums-grid-container {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 16px;
  padding: 16px;
  /* å®¹å™¨è¿‡æ¸¡ï¼šç•¥å¾®æ”¾æ…¢ï¼Œè®©å¡ç‰‡åŠ¨ç”»æœ‰æ—¶é—´å®Œæˆ */
  transition: flex 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  overflow-y: auto;
  overflow-x: hidden;
  align-items: start;
  grid-auto-rows: min-content;
  height: 100%;
  max-height: 100%;
  will-change: flex;
}

/* æœ‰é€‰ä¸­æ—¶ï¼Œæ”¶ç¼©æˆå•åˆ— */
.albums-grid-container.has-selection {
  flex: 0 0 220px;
  display: flex;
  flex-direction: column;
  gap: 0;
  padding: 0;
  border-right: 1px solid rgba(217, 214, 208, 0.2);
  overflow-y: auto;
  overflow-x: hidden;
  height: 100%;
  max-height: 100%;
  background: transparent;
  /* æ€§èƒ½ä¼˜åŒ–ï¼šæç¤ºæµè§ˆå™¨ä½¿ç”¨GPUåŠ é€Ÿ */
  will-change: flex;
  contain: layout style;
}

.album-card {
  background: white;
  border: 1px solid rgba(217, 214, 208, 0.25);
  border-radius: 10px;
  padding: 10px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  /* hoveræ•ˆæœ */
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  /* ç½‘æ ¼æ¨¡å¼ï¼šæ·¡å…¥äº¤é”™åŠ¨ç”» */
  opacity: 0;
  animation: gridFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* ç½‘æ ¼æ¨¡å¼äº¤é”™åŠ¨ç”» - å¢å¤§å»¶è¿Ÿé—´éš”ï¼Œè®©æ³¢æµªæ•ˆæœæ›´æ˜æ˜¾ */
.album-card:nth-child(1) { animation-delay: 0s; }
.album-card:nth-child(2) { animation-delay: 0.04s; }
.album-card:nth-child(3) { animation-delay: 0.08s; }
.album-card:nth-child(4) { animation-delay: 0.12s; }
.album-card:nth-child(5) { animation-delay: 0.16s; }
.album-card:nth-child(6) { animation-delay: 0.2s; }
.album-card:nth-child(7) { animation-delay: 0.24s; }
.album-card:nth-child(8) { animation-delay: 0.28s; }
.album-card:nth-child(9) { animation-delay: 0.32s; }
.album-card:nth-child(10) { animation-delay: 0.36s; }
.album-card:nth-child(11) { animation-delay: 0.4s; }
.album-card:nth-child(12) { animation-delay: 0.44s; }
.album-card:nth-child(13) { animation-delay: 0.48s; }
.album-card:nth-child(14) { animation-delay: 0.52s; }
.album-card:nth-child(15) { animation-delay: 0.56s; }
/* å‰©ä½™å¡ç‰‡ï¼šåœ¨å‰15ä¸ªä¹‹åç»Ÿä¸€å‡ºç° */
.album-card:nth-child(n+16) { animation-delay: 0.6s; }

.album-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  border-color: rgba(168, 85, 247, 0.3);
}

/* æ”¶ç¼©æ¨¡å¼ä¸‹çš„å¡ç‰‡æ ·å¼ï¼ˆåˆ—è¡¨æ ·å¼ï¼Œæ— å¡ç‰‡æ•ˆæœï¼‰ */
.albums-grid-container.has-selection .album-card {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  flex-shrink: 0;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  border-bottom: 1px solid rgba(217, 214, 208, 0.1) !important;
  box-shadow: none !important;
  min-height: 68px;
  height: 68px;
  width: 100%;
  box-sizing: border-box;
  /* hoveræ•ˆæœ */
  transition: background 0.15s ease;
  /* åˆ—è¡¨æ¨¡å¼ï¼šä»å·¦æ»‘å…¥äº¤é”™åŠ¨ç”» */
  opacity: 0;
  animation: listSlideIn 0.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* åˆ—è¡¨æ¨¡å¼äº¤é”™åŠ¨ç”» - å¢å¤§å»¶è¿Ÿé—´éš”ï¼Œè®©æ³¢æµªæ•ˆæœæ›´æ˜æ˜¾ */
.albums-grid-container.has-selection .album-card:nth-child(1) { animation-delay: 0s; }
.albums-grid-container.has-selection .album-card:nth-child(2) { animation-delay: 0.04s; }
.albums-grid-container.has-selection .album-card:nth-child(3) { animation-delay: 0.08s; }
.albums-grid-container.has-selection .album-card:nth-child(4) { animation-delay: 0.12s; }
.albums-grid-container.has-selection .album-card:nth-child(5) { animation-delay: 0.16s; }
.albums-grid-container.has-selection .album-card:nth-child(6) { animation-delay: 0.2s; }
.albums-grid-container.has-selection .album-card:nth-child(7) { animation-delay: 0.24s; }
.albums-grid-container.has-selection .album-card:nth-child(8) { animation-delay: 0.28s; }
.albums-grid-container.has-selection .album-card:nth-child(9) { animation-delay: 0.32s; }
.albums-grid-container.has-selection .album-card:nth-child(10) { animation-delay: 0.36s; }
.albums-grid-container.has-selection .album-card:nth-child(11) { animation-delay: 0.4s; }
.albums-grid-container.has-selection .album-card:nth-child(12) { animation-delay: 0.44s; }
.albums-grid-container.has-selection .album-card:nth-child(13) { animation-delay: 0.48s; }
.albums-grid-container.has-selection .album-card:nth-child(14) { animation-delay: 0.52s; }
.albums-grid-container.has-selection .album-card:nth-child(15) { animation-delay: 0.56s; }
/* å‰©ä½™å¡ç‰‡ï¼šåœ¨å‰15ä¸ªä¹‹åç»Ÿä¸€å‡ºç° */
.albums-grid-container.has-selection .album-card:nth-child(n+16) { animation-delay: 0.6s; }

.albums-grid-container.has-selection .album-card:hover {
  background: rgba(168, 85, 247, 0.04) !important;
}

.albums-grid-container.has-selection .album-cover {
  width: 48px;
  height: 48px;
  margin-bottom: 0;
  flex-shrink: 0;
  border-radius: 4px;
  box-shadow: none;
}

.album-info-wrapper {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.albums-grid-container.has-selection .album-info-wrapper {
  flex: 1;
}

.albums-grid-container.has-selection .album-name,
.albums-grid-container.has-selection .album-artist,
.albums-grid-container.has-selection .album-track-count {
  text-align: left;
  margin: 0;
}

.albums-grid-container.has-selection .album-name {
  font-size: 13px;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.albums-grid-container.has-selection .album-artist {
  font-size: 11px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.albums-grid-container.has-selection .album-track-count {
  font-size: 10px;
}

.albums-grid-container.has-selection .album-selected-indicator {
  display: none;
}

.albums-grid-container.has-selection .album-play-overlay {
  display: none;
}

/* é€‰ä¸­çŠ¶æ€ */
.album-card-selected {
  border-color: rgba(168, 85, 247, 0.5) !important;
  border-width: 2px;
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.08) 0%, rgba(236, 72, 153, 0.08) 100%) !important;
  box-shadow: 0 4px 12px rgba(168, 85, 247, 0.25) !important;
}

/* åˆ—è¡¨æ¨¡å¼ä¸‹çš„é€‰ä¸­çŠ¶æ€ */
.albums-grid-container.has-selection .album-card-selected {
  background: rgba(168, 85, 247, 0.08) !important;
  border: none !important;
  border-left: 3px solid #a855f7 !important;
  box-shadow: none !important;
  padding-left: 9px !important;
}

/* ==================== è‰ºæœ¯å®¶å¡ç‰‡ - åˆ—è¡¨æ¨¡å¼é€‚é… ==================== */

/* è‰ºæœ¯å®¶å¡ç‰‡åœ¨é€‰ä¸­çŠ¶æ€ä¸‹çš„å¸ƒå±€ */
.albums-grid-container.has-selection .artist-card-modern {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  flex-shrink: 0;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  border-bottom: 1px solid rgba(217, 214, 208, 0.1) !important;
  /* hoveræ•ˆæœ */
  transition: background 0.15s ease;
  /* åˆ—è¡¨æ¨¡å¼ï¼šä»å·¦æ»‘å…¥äº¤é”™åŠ¨ç”» */
  opacity: 0;
  animation: listSlideIn 0.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* åˆ—è¡¨æ¨¡å¼äº¤é”™åŠ¨ç”» - å¢å¤§å»¶è¿Ÿé—´éš”ï¼Œè®©æ³¢æµªæ•ˆæœæ›´æ˜æ˜¾ */
.albums-grid-container.has-selection .artist-card-modern:nth-child(1) { animation-delay: 0s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(2) { animation-delay: 0.04s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(3) { animation-delay: 0.08s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(4) { animation-delay: 0.12s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(5) { animation-delay: 0.16s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(6) { animation-delay: 0.2s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(7) { animation-delay: 0.24s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(8) { animation-delay: 0.28s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(9) { animation-delay: 0.32s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(10) { animation-delay: 0.36s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(11) { animation-delay: 0.4s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(12) { animation-delay: 0.44s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(13) { animation-delay: 0.48s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(14) { animation-delay: 0.52s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(15) { animation-delay: 0.56s; }
/* å‰©ä½™å¡ç‰‡ï¼šåœ¨å‰15ä¸ªä¹‹åç»Ÿä¸€å‡ºç° */
.albums-grid-container.has-selection .artist-card-modern:nth-child(n+16) { animation-delay: 0.6s; }

.albums-grid-container.has-selection .artist-card-modern:hover {
  background: rgba(102, 126, 234, 0.04) !important;
}

/* è‰ºæœ¯å®¶å¤´åƒåœ¨åˆ—è¡¨æ¨¡å¼ä¸‹ */
.albums-grid-container.has-selection .artist-avatar-modern {
  width: 48px;
  height: 48px;
  flex-shrink: 0;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
}

.albums-grid-container.has-selection .artist-card-modern:hover .artist-avatar-modern {
  transform: none;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.25);
}

/* è‰ºæœ¯å®¶ä¿¡æ¯åœ¨åˆ—è¡¨æ¨¡å¼ä¸‹ */
.albums-grid-container.has-selection .artist-info-modern {
  flex: 1;
  gap: 2px;
}

.albums-grid-container.has-selection .artist-name-modern {
  font-size: 13px;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.albums-grid-container.has-selection .artist-meta-modern {
  font-size: 11px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  gap: 4px;
}

/* éšè—æ‚¬åœæ’­æ”¾æŒ‰é’®å’Œé€‰ä¸­æŒ‡ç¤ºå™¨ */
.albums-grid-container.has-selection .artist-play-btn-modern {
  display: none;
}

.albums-grid-container.has-selection .album-selected-indicator {
  display: none;
}

.albums-grid-container.has-selection .artist-initial-modern {
  font-size: 20px;
  opacity: 1 !important;
}

/* è‰ºæœ¯å®¶å¡ç‰‡é€‰ä¸­çŠ¶æ€ */
.albums-grid-container.has-selection .artist-card-modern.album-card-selected {
  background: rgba(102, 126, 234, 0.08) !important;
  border: none !important;
  border-left: 3px solid #667eea !important;
  box-shadow: none !important;
  padding-left: 9px !important;
}

.album-cover {
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  position: relative;
  transition: all 0.3s ease;
  background: linear-gradient(135deg, #f5f3f0 0%, #e8e5e1 100%);
}

.album-card:hover .album-cover {
  box-shadow: 0 4px 16px rgba(168, 85, 247, 0.25);
}

.album-cover-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.album-cover-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ä¸“è¾‘ç½‘æ ¼å®¹å™¨ - ä½¿ç”¨ CSS Grid è‡ªé€‚åº”å¸ƒå±€ */
.albums-grid-container {
  grid-template-columns: repeat(auto-fill, minmax(var(--cover-size, 150px), 1fr));
}

/* ä¸“è¾‘å¡ç‰‡ - ç½‘æ˜“äº‘éŸ³ä¹é£æ ¼ */
.album-tile {
  position: relative;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.album-tile:hover .album-art-wrapper {
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.25), 0 6px 12px rgba(0, 0, 0, 0.15);
  transform: scale(1.06);
}

/* ä¸“è¾‘å°é¢å®¹å™¨ - æ–¹å‘æ€§é«˜å…‰æ•ˆæœ */
.album-art-wrapper {
  position: relative;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
}

.album-art-wrapper::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle at calc(var(--mx, 0.5) * 100%) calc(var(--my, 0.5) * 100%),
    rgba(255, 255, 255, var(--gloss, 0)) 0%,
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.5)) 30%,
    transparent 60%
  );
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  z-index: 10;
  border-radius: inherit;
}

.album-tile:hover .album-art-wrapper::before {
  opacity: 1;
}

/* ä¸“è¾‘ä¿¡æ¯åŒºåŸŸ */
.album-meta {
  line-height: 1.4;
  padding: 0 2px;
}

.album-name {
  letter-spacing: -0.01em;
  font-weight: 600;
  line-height: 1.3;
  margin-bottom: 4px;
  color: rgb(15, 23, 42);
}

.album-artist {
  font-weight: 400;
  color: rgb(100, 116, 139);
  font-size: 12px;
  line-height: 1.4;
}

/* æ·±è‰²æ¨¡å¼é€‚é… */
.dark .album-name {
  color: rgb(248, 250, 252);
}

.dark .album-artist {
  color: rgb(148, 163, 184);
}

.dark .album-art-wrapper::before {
  background: radial-gradient(
    circle at calc(var(--mx, 0.5) * 100%) calc(var(--my, 0.5) * 100%),
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.7)) 0%,
    rgba(255, 255, 255, calc(var(--gloss, 0) * 0.35)) 30%,
    transparent 60%
  );
}

.dark .album-tile:hover .album-art-wrapper {
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.4), 0 6px 12px rgba(0, 0, 0, 0.25);
}

/* ç§»é™¤æ—§çš„é‡å¤æ ·å¼ */
.old-album-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 3px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.3;
}

.album-artist {
  font-size: 11px;
  color: var(--text-secondary);
  margin: 0 0 2px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.3;
}

.album-track-count {
  font-size: 10px;
  color: var(--text-muted);
  margin: 0;
  line-height: 1.3;
}

.album-selected-indicator {
  position: absolute;
  top: 8px;
  right: 8px;
  background: linear-gradient(135deg, #a855f7, #ec4899);
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  box-shadow: 0 2px 8px rgba(168, 85, 247, 0.4);
  animation: scaleIn 0.3s ease;
}

@keyframes scaleIn {
  from {
    transform: scale(0);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* é®ç½©å±‚ - éšè—ä¸ç”¨ */
.album-drawer-overlay {
  display: none;
}

/* å³ä¾§è¯¦æƒ…é¢æ¿ */
.album-drawer {
  flex: 1;
  background: transparent;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  /* ä¸€é•œåˆ°åº•ï¼šä»å³ä¾§æ»‘å…¥ï¼Œæ—¶é•¿ä¸å®¹å™¨åŒ¹é… */
  animation: slideInFromRight 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 16px 24px;
  height: 100%;
  max-height: 100%;
  min-height: 0;
  /* æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ transform è€Œä¸æ˜¯ä½ç½®å±æ€§ */
  will-change: transform, opacity;
}

@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ç½‘æ ¼æ¨¡å¼ï¼šæ·¡å…¥åŠ¨ç”» */
@keyframes gridFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* åˆ—è¡¨æ¨¡å¼ï¼šä»å·¦æ»‘å…¥åŠ¨ç”» */
@keyframes listSlideIn {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* æŠ½å±‰è¿”å›æŒ‰é’® - å³ä¸Šè§’ */
.album-drawer-back-btn {
  position: absolute;
  top: 16px;
  right: 16px;
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(217, 214, 208, 0.3);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  /* ä¼˜åŒ–ï¼šåªå¯¹å¿…è¦å±æ€§æ·»åŠ è¿‡æ¸¡ */
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), 
              background-color 0.15s ease,
              border-color 0.15s ease,
              color 0.15s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  will-change: transform;
}

.album-drawer-back-btn:hover {
  background: rgba(102, 126, 234, 0.1);
  border-color: rgba(102, 126, 234, 0.4);
  color: #667eea;
  /* Qå¼¹æ•ˆæœï¼šè½»å¾®æ”¾å¤§ */
  transform: scale(1.05);
}

.album-drawer-back-btn:active {
  /* Qå¼¹æ•ˆæœï¼šæŒ‰ä¸‹æ—¶ç¼©å° */
  transform: scale(0.95);
  transition-duration: 0.1s;
}

.album-drawer-close {
  display: none;
}

/* æŠ½å±‰å¤´éƒ¨ */
.album-drawer-header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(217, 214, 208, 0.15);
  flex-shrink: 0;
  margin-bottom: 0;
}

.album-drawer-cover {
  width: 120px;
  height: 120px;
  margin: 0;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  flex-shrink: 0;
}

.album-drawer-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.album-drawer-cover-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

.album-drawer-info {
  flex: 1;
  min-width: 0;
  text-align: left;
}

.album-drawer-badge {
  display: none;
}

.album-drawer-name {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 6px 0;
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.album-drawer-artist {
  font-size: 13px;
  color: var(--text-secondary);
  margin: 0 0 6px 0;
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.album-drawer-stats {
  font-size: 12px;
  color: var(--text-muted);
  margin: 0 0 10px 0;
  display: flex;
  align-items: center;
  gap: 4px;
}

.album-drawer-play-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 20px;
  background: linear-gradient(135deg, #a855f7, #ec4899);
  border: none;
  border-radius: 20px;
  color: white;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(168, 85, 247, 0.3);
}

.album-drawer-play-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(168, 85, 247, 0.4);
}

.album-drawer-play-btn:active {
  transform: translateY(0);
}

/* æŠ½å±‰æ­Œæ›²åˆ—è¡¨ - è¡¨æ ¼å¼ */
.album-drawer-tracks {
  flex: 1;
  min-height: 0;
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.album-drawer-tracks-header {
  display: grid;
  grid-template-columns: 40px 1fr 1fr 80px;
  gap: 16px;
  padding: 0 0 12px 0;
  border-bottom: 1px solid rgba(217, 214, 208, 0.15);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.album-drawer-tracks-body {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 0;
}

.album-drawer-track-row {
  display: grid;
  grid-template-columns: 40px 1fr 1fr 80px;
  gap: 16px;
  padding: 10px 0;
  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 1px solid rgba(217, 214, 208, 0.06);
}

.album-drawer-track-row:hover {
  background: rgba(168, 85, 247, 0.04);
}

.drawer-track-col-number {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.drawer-track-number {
  font-size: 13px;
  color: var(--text-muted);
  font-weight: 500;
}

.drawer-track-play-icon {
  position: absolute;
  color: #a855f7;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.2s ease;
}

.album-drawer-track-row:hover .drawer-track-number {
  opacity: 0;
}

.album-drawer-track-row:hover .drawer-track-play-icon {
  opacity: 1;
  transform: scale(1);
}

.drawer-track-col-title {
  display: flex;
  align-items: center;
  font-size: 13px;
  font-weight: 500;
  color: var(--text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.drawer-track-col-artist {
  display: flex;
  align-items: center;
  font-size: 12px;
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.drawer-track-col-duration {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  font-size: 12px;
  color: var(--text-muted);
  font-variant-numeric: tabular-nums;
}

/* ============================================
   æ·±è‰²æ¨¡å¼é€‚é… - æ­Œæ‰‹å’Œä¸“è¾‘è§†å›¾
   ============================================ */

[data-theme="dark"] .artist-card-modern,
[data-theme="dark"] .album-card {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .artist-card-modern:hover {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.03) 100%);
  border-color: rgba(102, 126, 234, 0.4);
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
}

[data-theme="dark"] .album-card:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .albums-grid-container.has-selection {
  border-right-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .album-card-selected {
  border-color: rgba(168, 85, 247, 0.6) !important;
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.12) 0%, rgba(236, 72, 153, 0.12) 100%) !important;
  box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3) !important;
}

/* æ·±è‰²æ¨¡å¼ - è‰ºæœ¯å®¶åˆ—è¡¨æ¨¡å¼ */
[data-theme="dark"] .albums-grid-container.has-selection .artist-card-modern:hover {
  background: rgba(102, 126, 234, 0.08) !important;
}

[data-theme="dark"] .albums-grid-container.has-selection .artist-card-modern.album-card-selected {
  background: rgba(102, 126, 234, 0.12) !important;
  border-left-color: #7c8ef7 !important;
}

[data-theme="dark"] .artist-name-modern,
[data-theme="dark"] .album-name {
  color: rgba(255, 255, 255, 0.9);
}

[data-theme="dark"] .artist-meta-modern,
[data-theme="dark"] .album-artist {
  color: rgba(255, 255, 255, 0.5);
}

[data-theme="dark"] .album-track-count {
  color: rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] .album-drawer {
  background: rgba(20, 20, 20, 0.98);
  border-left-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .album-drawer-back-btn {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.12);
  color: rgba(255, 255, 255, 0.9);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .album-drawer-back-btn:hover {
  background: rgba(102, 126, 234, 0.15);
  border-color: rgba(102, 126, 234, 0.4);
  color: #7c8ef7;
  /* æ·±è‰²æ¨¡å¼ä¸‹ä¹Ÿä½¿ç”¨ç›¸åŒçš„Qå¼¹æ•ˆæœ */
}

[data-theme="dark"] .album-drawer-close {
  background: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 0.6);
}

[data-theme="dark"] .album-drawer-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.9);
}

[data-theme="dark"] .album-drawer-header {
  border-bottom-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .album-drawer-name {
  color: rgba(255, 255, 255, 0.95);
}

[data-theme="dark"] .album-drawer-artist {
  color: rgba(255, 255, 255, 0.7);
}

[data-theme="dark"] .album-drawer-stats {
  color: rgba(255, 255, 255, 0.5);
}

[data-theme="dark"] .album-drawer-tracks-header {
  background: rgba(20, 20, 20, 0.98);
  border-bottom-color: rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.5);
}

[data-theme="dark"] .album-drawer-track-row:hover {
  background: linear-gradient(90deg, rgba(168, 85, 247, 0.08) 0%, rgba(168, 85, 247, 0.12) 50%, rgba(168, 85, 247, 0.08) 100%);
}

[data-theme="dark"] .drawer-track-col-title {
  color: rgba(255, 255, 255, 0.85);
}

[data-theme="dark"] .drawer-track-number,
[data-theme="dark"] .drawer-track-col-duration {
  color: rgba(255, 255, 255, 0.4);
}



:root {
  /* ğŸ¨ macOS/iOS Music é£æ ¼é…è‰²æ–¹æ¡ˆ */
  
  /* ä¸»è‰²ç³»ç»Ÿ - iOS è“è‰² */
  --brand-700: #0051D5;                 /* æ·±iOSè“ */
  --brand-600: #007AFF;                 /* ä¸»iOSè“ â­ */
  --brand-500: #3395FF;                 /* ä¸­ç­‰iOSè“ */
  --brand-400: #66B0FF;                 /* æµ…iOSè“ */
  --sky-400: #80C7FF;                   /* å¤©ç©ºè“è¾…è‰² */
  
  /* ä¸­æ€§è‰²ç³»ç»Ÿ - macOS ç°åº¦ */
  --slate-900: #1D1D1F;                 /* macOS æ·±ç°ï¼ˆæ ‡é¢˜ï¼‰ */
  --slate-700: #3A3A3C;                 /* macOS æ¬¡è¦ç° */
  --slate-500: #86868B;                 /* macOS è¾…åŠ©ç° */
  --slate-300: #D1D1D6;                 /* macOS åˆ†éš”çº¿ */
  --slate-100: #F5F5F7;                 /* macOS æµ…èƒŒæ™¯ */

  /* ğŸ¯ æ–‡å­—é¢œè‰²ç³»ç»Ÿ - Apple æ ‡å‡† */
  --text-primary: #000000;              /* çº¯é»‘æ ‡é¢˜ */
  --text-secondary: #3A3A3C;            /* æ·±ç°å‰¯æ ‡é¢˜ */
  --text-muted: #86868B;                /* Apple æ ‡å‡†ç° */
  --text-disabled: #C7C7CC;             /* ç¦ç”¨ç°è‰² */
  
  /* èƒŒæ™¯è‰²ç³»ç»Ÿ - macOS é£æ ¼ */
  --surface-primary: #FFFFFF;           /* çº¯ç™½å¡ç‰‡ */
  --surface-secondary: #F5F5F7;         /* macOS æµ…ç°èƒŒæ™¯ */
  --surface-tertiary: #EBEBF0;          /* macOS ä¾§è¾¹æ  */
  --surface-overlay: rgba(255, 255, 255, 0.98); /* è¦†ç›–å±‚ */
  
  /* è¾¹æ¡†ç³»ç»Ÿ - Apple é£æ ¼ */
  --border-primary: #D1D1D6;            /* Apple æ ‡å‡†è¾¹æ¡† */
  --border-secondary: #E5E5EA;          /* æ¬¡è¦è¾¹æ¡† */
  --border-focus: #007AFF;              /* iOS è“ç„¦ç‚¹ */
  
  /* é˜´å½±ç³»ç»Ÿ - é€‚åº¦å‡å¼± */
  --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08);
  --shadow-moderate: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-prominent: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
  
  /* å­—ä½“ç³»ç»Ÿ - Windows ä¼˜åŒ– */
  --font-primary: "Segoe UI Variable", "Microsoft YaHei UI", "Segoe UI", system-ui, -apple-system, sans-serif;
  --font-mono: "Cascadia Code", "Consolas", "Courier New", monospace;
  
  /* å­—å·ç³»ç»Ÿ - æå‡å¯è¯»æ€§ */
  --text-xs: 0.8125rem;      /* 13px */
  --text-sm: 0.875rem;       /* 14px */
  --text-base: 0.9375rem;    /* 15px - æå‡åŸºç¡€å­—å· */
  
  /* æ€§èƒ½ä¼˜åŒ– - æ­Œè¯æ»šåŠ¨ */
  --lyrics-scroll-optimization: contain layout paint; /* CSS containment */
  --text-lg: 1rem;           /* 16px */
  --text-xl: 1.125rem;       /* 18px */
  --text-2xl: 1.25rem;       /* 20px */
  
  /* è¡Œé«˜ç³»ç»Ÿ - æ”¹å–„é˜…è¯»ä½“éªŒ */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 1.75;
  
  /* çŠ¶æ€è‰²ç³»ç»Ÿ */
  --success: #18C37E;
  --warning: #FDBA4D;
  --danger: #F05252;
  
  
  /* ğŸŒˆ èƒŒæ™¯ç³»ç»Ÿ - æ¸©æŸ”ç±³ç™½æ¸å˜ */
  --bg-app: linear-gradient(135deg, 
    #FDFDFB 0%,                        /* æ¸©æŸ”ç±³ç™½ */
    #F8F7F4 50%,                       /* æ·¡ç±³ç°ç™½ */
    #F2F1ED 100%);                     /* æµ…ç±³ç° */
  --bg-noise: none;                    /* ç§»é™¤å™ªç‚¹çº¹ç† */
  
  /* ğŸ“ é—´è·ä¸å°ºå¯¸ç³»ç»Ÿ */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;

  /* ğŸ¯ Qå¼¹åŠ¨ç”»ç¼“åŠ¨å‡½æ•° */
  --ease-bounce-out: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-bounce-in: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --ease-elastic: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-back-out: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --space-16: 64px;
  
  /* ğŸ¯ åœ†è§’ç³»ç»Ÿ */
  --radius-sm: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 20px;
  --radius-3xl: 24px;
  
  /* ğŸŒŸ é˜´å½±ç³»ç»Ÿ */
  --shadow-soft: 0 8px 24px rgba(43, 111, 255, 0.10);
  --shadow-medium: 0 12px 32px rgba(43, 111, 255, 0.14);
  --shadow-deep: 0 18px 48px rgba(43, 111, 255, 0.18);
  --shadow-glow: 0 0 24px rgba(43, 111, 255, 0.3);
  
  /* â±ï¸ åŠ¨ç”»ç³»ç»Ÿ */
  --ease-productive: cubic-bezier(0.2, 0, 0, 1);
  --ease-expressive: cubic-bezier(0.4, 0, 0.2, 1);
  --dur-fast: 150ms;
  --dur-normal: 220ms;
  --dur-slow: 280ms;
  --dur-slower: 350ms;
  
  /* ğŸµ æ¸å˜ç³»ç»Ÿ */
  --gradient-brand: linear-gradient(135deg, var(--brand-600) 0%, var(--sky-400) 100%);
  --gradient-brand-soft: linear-gradient(135deg, var(--brand-500) 0%, var(--sky-400) 100%);
  
  /* ğŸµ è¿›åº¦æ¡ä¸»é¢˜è‰² - æµ…è‰²æ¨¡å¼ï¼ˆæ·±é‚ƒå¤œç©ºè“æ¸å˜ï¼‰ */
  --progress-color-from: #1E40AF;       /* æ·±é›è“èµ·ç‚¹ (blue-800) */
  --progress-color-to: #1E3A8A;         /* æ·±è“è‰²ç»ˆç‚¹ (blue-900) */
  --progress-glow: rgba(30, 64, 175, 0.4);  /* æ·±é›è“å…‰æ™• */
  --progress-shadow: rgba(30, 64, 175, 0.3); /* æ·±é›è“é˜´å½± */
}

/* =================================
   ğŸŒ™ DARK THEME VARIABLES
   ================================= */

[data-theme="dark"] {
  /* ğŸ¯ æ·±è‰²æ¨¡å¼è®¾è®¡ä»¤ç‰Œç³»ç»Ÿ */
  
  /* èƒŒæ™¯è‰²ç³»ç»Ÿ - æ·±è‰²è°ƒ */
  --surface-primary: #0B1220;              /* ä¸»è¦è¡¨é¢ - æ·±è“é»‘ */
  --surface-secondary: #0F172A;            /* æ¬¡è¦è¡¨é¢ - æ·±ç°è“ */
  --surface-tertiary: #111827;             /* ä¸‰çº§è¡¨é¢ - æš–æ·±ç° */
  --surface-overlay: rgba(15, 23, 42, 0.95); /* è¦†ç›–å±‚ - é«˜ä¸é€æ˜æ·±è‰² */
  
  /* æ–‡æœ¬ç³»ç»Ÿ - äº®è‰²å¯¹æ¯” */
  --text-primary: #E5EAF3;                 /* ä¸»è¦æ–‡å­— - äº®ç™½è“ */
  --text-secondary: #C7D2FE;               /* æ¬¡è¦æ–‡å­— - æ·¡ç´«ç™½ */
  --text-muted: #94A3B8;                   /* è¾…åŠ©æ–‡å­— - ä¸­æ€§ç° */
  --text-disabled: #64748B;                /* ç¦ç”¨æ–‡å­— - æš—ç° */
  
  /* è¾¹æ¡†ç³»ç»Ÿ - æŸ”å’Œäº®æè¾¹ */
  --border-primary: rgba(148, 163, 184, 0.2);  /* ä¸»è¦è¾¹æ¡† - æŸ”å’Œç° */
  --border-secondary: rgba(100, 116, 139, 0.15); /* æ¬¡è¦è¾¹æ¡† - æ›´æ·¡ */
  --border-focus: #6366F1;                     /* ç„¦ç‚¹è¾¹æ¡† - äº®è“ç´« */
  
  /* ğŸ´ ç®€çº¦å¡ç‰‡ç³»ç»Ÿï¼ˆæ·±è‰²æ¨¡å¼é€‚é…ï¼‰ */
  --card-bg: #0F172A;                          /* å¡ç‰‡èƒŒæ™¯ - æ·±ç°è“ */
  --card-bg-secondary: #111827;                /* æ¬¡è¦å¡ç‰‡ - æš–æ·±ç° */
  --card-border: rgba(148, 163, 184, 0.15);    /* å¡ç‰‡è¾¹æ¡† - æŸ”å’Œ */
  --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2); /* æ·±è‰²é˜´å½± */
  --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2); /* æ‚¬åœé˜´å½± */
  --card-radius: 12px;                         /* åœ†è§’ */
  
  /* ğŸµ è¿›åº¦æ¡ä¸»é¢˜è‰² - æ·±è‰²æ¨¡å¼ï¼ˆæ·±é‚ƒå¤œç©ºè“æ¸å˜ï¼‰ */
  --progress-color-from: #3B82F6;       /* æ·±è“èµ·ç‚¹ (blue-500) */
  --progress-color-to: #2563EB;         /* æ›´æ·±è“ç»ˆç‚¹ (blue-600) */
  --progress-glow: rgba(59, 130, 246, 0.5);  /* æ·±è“å…‰æ™• */
  --progress-shadow: rgba(59, 130, 246, 0.35); /* æ·±è“é˜´å½± */
  
  
  /* ğŸŒˆ æ·±è‰²èƒŒæ™¯ç³»ç»Ÿ */
  --bg-app: linear-gradient(135deg, 
    #020617 0%,                            /* ææ·±è“é»‘ */
    #0F172A 50%,                           /* æ·±è“ç° */
    #1E293B 100%);                         /* æš–æ·±ç° */
  --bg-noise: none;                        /* ç§»é™¤å™ªç‚¹çº¹ç† */
  
  /* ğŸŒŸ æ·±è‰²é˜´å½±ç³»ç»Ÿ - æŸ”å’Œå‘å…‰ */
  --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.3), 0 0 12px rgba(99, 102, 241, 0.1);
  --shadow-medium: 0 12px 32px rgba(0, 0, 0, 0.4), 0 0 16px rgba(99, 102, 241, 0.12);
  --shadow-deep: 0 18px 48px rgba(0, 0, 0, 0.5), 0 0 24px rgba(99, 102, 241, 0.15);
  --shadow-glow: 0 0 24px rgba(99, 102, 241, 0.4), 0 0 48px rgba(99, 102, 241, 0.2);
  
  
  /* çŠ¶æ€è‰²ç³»ç»Ÿ - æ·±è‰²é€‚é… */
  --success: #22C55E;
  --warning: #F59E0B;
  --danger: #EF4444;
}

/* =================================
   ğŸŒ™ ç³»ç»Ÿåå¥½æ·±è‰²æ¨¡å¼è‡ªåŠ¨é€‚é…
   ================================= */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    /* è‡ªåŠ¨åº”ç”¨æ·±è‰²æ¨¡å¼å˜é‡ï¼ˆå½“ç”¨æˆ·æœªæ‰‹åŠ¨è®¾ç½®ä¸»é¢˜æ—¶ï¼‰ */
    --surface-primary: #0B1220;
    --surface-secondary: #0F172A;
    --surface-tertiary: #111827;
    --surface-overlay: rgba(15, 23, 42, 0.95);
    
    --text-primary: #E5EAF3;
    --text-secondary: #C7D2FE;
    --text-muted: #94A3B8;
    --text-disabled: #64748B;
    
    --border-primary: rgba(148, 163, 184, 0.2);
    --border-secondary: rgba(100, 116, 139, 0.15);
    --border-focus: #6366F1;
    
    /* å¡ç‰‡ç³»ç»Ÿ */
    --card-bg: #0F172A;
    --card-bg-secondary: #111827;
    --card-border: rgba(148, 163, 184, 0.15);
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
    --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2);
    --card-radius: 12px;
    
    --bg-app: linear-gradient(135deg, #020617 0%, #0F172A 50%, #1E293B 100%);
    
    --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.3), 0 0 12px rgba(99, 102, 241, 0.1);
    --shadow-medium: 0 12px 32px rgba(0, 0, 0, 0.4), 0 0 16px rgba(99, 102, 241, 0.12);
    --shadow-deep: 0 18px 48px rgba(0, 0, 0, 0.5), 0 0 24px rgba(99, 102, 241, 0.15);
    --shadow-glow: 0 0 24px rgba(99, 102, 241, 0.4), 0 0 48px rgba(99, 102, 241, 0.2);
  }
}

/* ğŸ¯ é«˜å¯¹æ¯”åº¦æ¨¡å¼ */
[data-contrast="high"] {
  /* è¦†ç›–æ–‡å­—é¢œè‰² */
  --slate-900: var(--text-primary);
  --slate-700: var(--text-secondary);
  --slate-500: var(--text-muted);
  
  
  /* ä½¿ç”¨æ¸…æ™°é˜´å½± */
  --shadow-soft: var(--shadow-subtle);
  --shadow-medium: var(--shadow-moderate);
  --shadow-deep: var(--shadow-prominent);
}

/* ğŸ¯ ç³»ç»Ÿé«˜å¯¹æ¯”åº¦åå¥½æ”¯æŒ */
@media (prefers-contrast: more) {
  :root {
    --slate-900: var(--text-primary);
    --slate-700: var(--text-secondary);
    --slate-500: var(--text-muted);
    /* ç»ç’ƒå˜é‡å…¼å®¹å±‚ */
    --card-bg: var(--card-bg-secondary);
    --card-bg-strong: var(--card-bg);
    --card-bg-overlay: var(--card-bg);
    --card-border: var(--card-border);
    --card-border-outer: var(--border-focus);
    --card-blur: 0px;
    --shadow-soft: var(--shadow-subtle);
    --shadow-medium: var(--shadow-moderate);
    --shadow-deep: var(--shadow-prominent);
  }
}

/* ğŸ”¤ æ–‡æœ¬æˆªæ–­å·¥å…· */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ğŸŒ™ æ·±è‰²ä¸»é¢˜å…¼å®¹æ€§ç±» - åªåœ¨darkæ¨¡å¼ä¸‹ç”Ÿæ•ˆ */
.dark .dark\:text-dark-900 {
  color: var(--text-primary);
}

.dark .dark\:text-dark-700 {
  color: var(--text-secondary);
}

.dark .dark\:text-dark-600 {
  color: var(--text-muted);
}

.dark .dark\:bg-dark-100 {
  background-color: var(--surface-secondary);
}

.dark .dark\:bg-dark-200 {
  background-color: var(--surface-tertiary);
}

.dark .dark\:border-dark-500 {
  border-color: var(--border-primary);
}

.dark .dark\:border-dark-400 {
  border-color: var(--border-secondary);
}

.dark .dark\:hover\:border-dark-400:hover {
  border-color: var(--border-secondary);
}

.dark .dark\:bg-card-bg {
  background-color: var(--card-bg-secondary);
}

.dark .dark\:bg-card-bg-strong {
  background-color: var(--card-bg);
}

.dark .dark\:border-card-border {
  border-color: var(--card-border);
}

.dark .dark\:hover\:bg-dark-200\/50:hover {
  background-color: rgba(var(--surface-tertiary), 0.5);
}

.dark .dark\:placeholder-dark-600::placeholder {
  color: var(--text-muted);
}

.dark .dark\:bg-green-900\/30 {
  background-color: rgba(34, 197, 94, 0.3);
}

.dark .dark\:text-green-300 {
  color: #86efac;
}

.dark .dark\:text-blue-300 {
  color: #93c5fd;
}

.dark .dark\:bg-brand-900\/30 {
  background-color: rgba(99, 102, 241, 0.3);
}

.dark .dark\:text-brand-400 {
  color: #a78bfa;
}

.dark .dark\:bg-dark-300 {
  background-color: rgba(17, 24, 39, 1);
}

.dark .dark\:hover\:bg-dark-300:hover {
  background-color: rgba(17, 24, 39, 1);
}

.dark .dark\:bg-dark-500 {
  border-color: var(--border-primary);
}

.dark .dark\:hover\:border-brand-600:hover {
  border-color: var(--brand-600);
}

.dark .dark\:hover\:bg-brand-900\/20:hover {
  background-color: rgba(99, 102, 241, 0.2);
}

/* ğŸµ éŸ³ä¹åº“è¡Œçº§é€æ˜åº¦ç±» - å¾®å¦™å±‚çº§æ„Ÿ */
.dark .dark\:bg-white\/02 {
  background-color: rgba(255, 255, 255, 0.02);
}

.dark .dark\:hover\:bg-white\/05:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

.dark .dark\:active\:bg-white\/08:active {
  background-color: rgba(255, 255, 255, 0.08);
}

.dark .dark\:border-white\/10 {
  border-color: rgba(255, 255, 255, 0.1);
}

@layer base {
  * {
    box-sizing: border-box;
  }
  
  body {
    background: var(--bg-app);
    background-attachment: fixed;
    color: var(--slate-900);
    font-family: var(--font-primary);
    font-feature-settings: "rlig" 1, "calt" 1;
    font-weight: 400;
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    height: 100vh;
    margin: 0;
    padding: 0;
    overflow: hidden; /* å½»åº•é˜²æ­¢bodyæ»šåŠ¨ */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* ç¦ç”¨é€‰ä¸­æ–‡æœ¬çš„é»˜è®¤æ ·å¼ */
  ::selection {
    background: rgba(43, 111, 255, 0.2);
    color: var(--slate-900);
  }
  
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: var(--surface-tertiary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--card-border);
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: var(--border-primary);
  }
}

@layer components {
  /* ğŸ´ ç®€çº¦å¡ç‰‡åŸºç¡€ç±» */
  .card-surface {
    background: var(--surface-secondary);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
  }
  
  .card-surface-strong {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
  }
  
  .card-overlay {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow-hover);
  }
  
  /* ğŸµ éŸ³ä¹åº“ä¸“ç”¨ç®€çº¦å¡ç‰‡ */
  .card-music-library {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
  }
  
  /* æ·±è‰²æ¨¡å¼ä¸‹çš„éŸ³ä¹åº“å¡ç‰‡ */
  [data-theme="dark"] .card-music-library {
    background: var(--surface-secondary);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }
  
  /* ğŸ¯ äº¤äº’çŠ¶æ€ */
  .card-interactive {
    transition: transform var(--dur-normal) var(--ease-productive),
                box-shadow var(--dur-normal) var(--ease-productive),
                border-color var(--dur-normal) var(--ease-productive);
    cursor: pointer;
    will-change: transform;
    transform: translateZ(0); /* å¼ºåˆ¶GPUåˆæˆ */
  }
  
  .card-interactive:hover {
    transform: translateY(-1px) scale(1.01) translateZ(0);
    box-shadow: var(--shadow-medium);
    border-color: var(--border-focus);
  }
  
  .card-interactive:active {
    transform: translateY(0) scale(0.99) translateZ(0);
    transition: transform var(--dur-fast) var(--ease-productive);
  }
  
  /* ğŸµ å“ç‰ŒæŒ‰é’® */
  .btn-brand {
    background: var(--gradient-brand);
    color: var(--surface-primary);
    border: none;
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-6);
    font-weight: 600;
    font-size: 14px;
    line-height: 1.4;
    box-shadow: var(--shadow-soft);
    position: relative;
    overflow: hidden;
    transition: transform var(--dur-normal) var(--ease-productive),
                box-shadow var(--dur-normal) var(--ease-productive),
                filter var(--dur-normal) var(--ease-productive);
    cursor: pointer;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    will-change: transform;
    transform: translateZ(0); /* å¼ºåˆ¶GPUåˆæˆ */
  }
  
  .btn-brand::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: rgba(255, 255, 255, 0.2);
  }
  
  .btn-brand:hover {
    transform: translateY(-2px) translateZ(0);
    box-shadow: var(--shadow-glow), var(--shadow-medium);
    filter: brightness(1.05);
  }
  
  .btn-brand:active {
    transform: translateY(-1px) scale(0.98) translateZ(0);
    transition: transform var(--dur-fast) var(--ease-productive);
  }
  
  .btn-brand:disabled {
    background: var(--slate-300);
    color: var(--slate-500);
    cursor: not-allowed;
    transform: none;
    box-shadow: var(--shadow-soft);
    filter: none;
  }
  
  /* ğŸ”˜ æ¬¡è¦æŒ‰é’® */
  .btn-secondary {
    background: transparent;
    color: var(--brand-600);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-6);
    font-weight: 500;
    font-size: 14px;
    line-height: 1.4;
    transition: all var(--dur-normal) var(--ease-productive);
    cursor: pointer;
  }
  
  .btn-secondary:hover {
    background: var(--card-bg);
    border-color: var(--brand-400);
    transform: translateY(-1px);
    box-shadow: var(--shadow-soft);
  }
  
  .btn-secondary:active {
    transform: translateY(0) scale(0.98);
    transition: all var(--dur-fast) var(--ease-productive);
  }
  
  /* ğŸ” è¾“å…¥æ¡†å’Œæœç´¢ */
  .card-input {
    background: var(--surface-secondary);
    border: 1px solid var(--card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-4);
    color: var(--slate-900);
    font-size: 14px;
    transition: all var(--dur-normal) var(--ease-productive);
    outline: none;
  }
  
  .card-input::placeholder {
    color: var(--slate-500);
  }
  
  .card-input:focus {
    border-color: var(--brand-400);
    background: var(--card-bg);
    box-shadow: 0 0 0 3px rgba(43, 111, 255, 0.1), var(--shadow-soft);
  }
  
  /* ğŸ“Š æ ‡ç­¾é¡µç³»ç»Ÿ */
  .card-tabs {
    display: inline-flex;
    background: var(--surface-secondary);
    border: 1px solid var(--card-border);
    border-radius: var(--radius-2xl);
    padding: var(--space-1);
    position: relative;
  }
  
  .card-tab {
    position: relative;
    padding: var(--space-3) var(--space-6);
    border-radius: var(--radius-xl);
    font-size: 14px;
    font-weight: 500;
    color: var(--text-muted);
    cursor: pointer;
    transition: all var(--dur-normal) var(--ease-productive);
    z-index: 2;
    border: none;
    background: transparent;
  }
  
  .card-tab.active {
    color: var(--text-primary);
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  .card-tab:not(.active):hover {
    color: var(--brand-600);
    background: var(--surface-secondary);
  }
  
  /* æ»‘åŠ¨æŒ‡ç¤ºå™¨ */
  .tab-indicator {
    position: absolute;
    background: var(--surface-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-soft);
    transition: all 0.7s var(--ease-bounce-out);
    z-index: 1;
    border: 1px solid var(--card-border);
  }
  
  /* ğŸµ è¿›åº¦æ¡ */
  .card-progress {
    width: 100%;
    height: 6px;
    background: var(--card-bg);
    border-radius: var(--radius-sm);
    border: 1px solid var(--card-border);
    overflow: hidden;
    position: relative;
  }
  
  .card-progress-fill {
    height: 100%;
    background: var(--gradient-brand);
    border-radius: var(--radius-sm);
    transition: width var(--dur-normal) var(--ease-productive);
    position: relative;
  }
  
  .card-progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 8px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 100%);
  }
  
  /* ğŸ·ï¸ å¾½ç« å’Œæ ‡ç­¾ */
  .card-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: var(--surface-secondary);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
  }
  
  .card-badge.brand {
    background: var(--gradient-brand);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  .card-badge.success {
    background: var(--success);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  .card-badge.warning {
    background: var(--warning);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  .card-badge.danger {
    background: var(--danger);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  /* ğŸ¶ å¡ç‰‡å’Œå®¹å™¨ */
  .card-card {
    background: #FFFFFF;
    border: 1px solid rgba(217, 214, 208, 0.5);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.03);
    position: relative;
    overflow: hidden;
  }
  
  .card-card-compact {
    padding: var(--space-4);
  }
  
  .card-card-interactive {
    cursor: pointer;
    transition: all var(--dur-normal) var(--ease-productive);
  }
  
  .card-card-interactive:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: var(--shadow-medium);
    border-color: var(--card-border-outer);
  }
  
  /* ğŸ¯ åº”ç”¨å¸ƒå±€ - ä¼˜åŒ–åçš„å±‚æ¬¡ç³»ç»Ÿ */
  .app-container {
    height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    background: #F8FAFC; /* surface-secondary - é¡µé¢æ•´ä½“èƒŒæ™¯ */
  }
  
  [data-theme="dark"] .app-container,
  .dark .app-container {
    background: #0B1220; /* dark-50 */
  }
  
  .app-header {
    position: sticky;
    top: 0;
    z-index: 50;
    background: rgba(255, 255, 255, 0.8); /* ğŸ¨ é™ä½ä¸é€æ˜åº¦ï¼Œæ›´è½»ç›ˆ */
    border-bottom: 1px solid rgba(226, 232, 240, 0.6); /* border-primary */
    color: #1E293B; /* text-primary */
    overflow: hidden;
    /* ğŸ¨ å¢å¼ºé˜´å½±å’Œæ¯›ç»ç’ƒæ•ˆæœ */
    box-shadow: 
      0 1px 0 0 rgba(255, 255, 255, 0.5) inset,  /* é¡¶éƒ¨é«˜å…‰ */
      0 4px 16px rgba(0, 0, 0, 0.04),             /* æŸ”å’Œé˜´å½± */
      0 1px 4px rgba(0, 0, 0, 0.02);              /* è¾¹ç¼˜ç»†èŠ‚ */
    backdrop-filter: blur(12px) saturate(180%);   /* å¢å¼ºæ¯›ç»ç’ƒ */
    -webkit-backdrop-filter: blur(12px) saturate(180%);
    transform: none;
    opacity: 1;
  }
  
  [data-theme="dark"] .app-header,
  .dark .app-header {
    background: rgba(15, 23, 42, 0.8); /* ğŸ¨ ç»Ÿä¸€é€æ˜åº¦ */
    border-bottom-color: rgba(148, 163, 184, 0.2);
    color: #E5EAF3;
    /* ğŸ¨ æ·±è‰²æ¨¡å¼é˜´å½±ä¼˜åŒ– */
    box-shadow: 
      0 1px 0 0 rgba(255, 255, 255, 0.05) inset,  /* ç»†å¾®é«˜å…‰ */
      0 4px 16px rgba(0, 0, 0, 0.3),               /* æŸ”å’Œé˜´å½± */
      0 1px 4px rgba(0, 0, 0, 0.2);                /* è¾¹ç¼˜ç»†èŠ‚ */
    backdrop-filter: blur(12px) saturate(180%);    /* ç»Ÿä¸€æ¯›ç»ç’ƒæ•ˆæœ */
    -webkit-backdrop-filter: blur(12px) saturate(180%);
  }
  
  .app-main {
    flex: 1;
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    height: calc(100vh - 64px); /* åªå‡å»é¡¶éƒ¨æ ‡é¢˜æ é«˜åº¦ï¼Œæ’­æ”¾å™¨æ˜¯å›ºå®šå®šä½ä¸å½±å“å¸ƒå±€ */
    transition: grid-template-columns 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
    --sidebar-width: 240px; /* ğŸ”¥ é»˜è®¤æœ€å¤§å®½åº¦ */
  }
  
  .app-main.sidebar-collapsed {
    --sidebar-width: 80px;
  }
  
  /* ğŸ¯ ä¾§è¾¹æ å“åº”å¼å®½åº¦ - æ ¹æ®çª—å£å¤§å°åŠ¨æ€è°ƒæ•´ */
  
  /* è¶…å¤§å±å¹•ï¼ˆ1920px+ï¼‰- æœ€å¤§å®½åº¦ 240px */
  @media (min-width: 1920px) {
    .app-main:not(.sidebar-collapsed) {
      --sidebar-width: 240px;
    }
  }
  
  /* å¤§å±å¹•ï¼ˆ1600-1919pxï¼‰- 230px */
  @media (max-width: 1919px) and (min-width: 1600px) {
    .app-main:not(.sidebar-collapsed) {
      --sidebar-width: 230px;
    }
  }
  
  /* ä¸­å¤§å±å¹•ï¼ˆ1400-1599pxï¼‰- 220px */
  @media (max-width: 1599px) and (min-width: 1400px) {
    .app-main:not(.sidebar-collapsed) {
      --sidebar-width: 220px;
    }
  }
  
  /* ä¸­ç­‰å±å¹•ï¼ˆ1200-1399pxï¼‰- 210px */
  @media (max-width: 1399px) and (min-width: 1200px) {
    .app-main:not(.sidebar-collapsed) {
      --sidebar-width: 210px;
    }
  }
  
  /* å°å±å¹•ï¼ˆ1000-1199pxï¼‰- 200px */
  @media (max-width: 1199px) and (min-width: 1000px) {
    .app-main:not(.sidebar-collapsed) {
      --sidebar-width: 200px;
    }
  }
  
  /* æ›´å°å±å¹•ï¼ˆ<1000pxï¼‰- æœ€å°å®½åº¦ 190px */
  @media (max-width: 999px) {
    .app-main:not(.sidebar-collapsed) {
      --sidebar-width: 190px;
    }
  }
  
  .app-sidebar {
    background: #F1F5F9; /* surface-tertiary - ä¾§è¾¹æ èƒŒæ™¯ */
    border-right: 1px solid #E2E8F0; /* border-primary */
    position: relative;
    overflow-y: auto;
    overflow-x: hidden;
    height: 100%;
    width: 100%;
    /* æŸ”å’Œçš„å³ä¾§åˆ†éš”é˜´å½± */
    box-shadow: 1px 0 3px rgba(0, 0, 0, 0.03);
  }
  
  /* æ·±è‰²æ¨¡å¼ä¾§è¾¹æ  */
  [data-theme="dark"] .app-sidebar,
  .dark .app-sidebar {
    background: #111827; /* dark-200 */
    border-right-color: rgba(148, 163, 184, 0.15);
    box-shadow: 1px 0 6px rgba(0, 0, 0, 0.25);
  }
  
  .animating .shadow-lg {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  }
  
  /* æ”¶ç¼©çŠ¶æ€ä¸‹çš„æŒ‡ç¤ºå™¨è°ƒæ•´ */
  .app-sidebar-collapsed .bounce-indicator {
    left: 12px;
    right: 12px;
  }

  /* ä¾§è¾¹æ å¯è§æ»šåŠ¨æ¡æ ·å¼ */
  .app-sidebar::-webkit-scrollbar {
    width: 6px;
    display: block !important;
  }
  
  .app-sidebar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
  }
  
  .app-sidebar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;  }
  
  .app-sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4);
  }
  
  .app-content {
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: #F8FAFC; /* surface-secondary - ä¸»å†…å®¹åŒºèƒŒæ™¯ */
    scrollbar-width: thin;
    scrollbar-color: #94A3B8 rgba(0, 0, 0, 0.05);
  }
  
  [data-theme="dark"] .app-content,
  .dark .app-content {
    background: #0B1220; /* dark-50 */
    scrollbar-color: #475569 rgba(255, 255, 255, 0.05);
  }

  /* ä¸»å†…å®¹åŒºåŸŸæ»šåŠ¨æ¡æ ·å¼ */
  .app-content::-webkit-scrollbar {
    width: 8px;
    display: block !important;
  }
  
  .app-content::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 4px;
  }
  
  .app-content::-webkit-scrollbar-thumb {
    background: var(--brand-400);
    border-radius: 4px;    transition: background-color 0.2s ease;
  }
  
  .app-content::-webkit-scrollbar-thumb:hover {
    background: var(--brand-600);
  }

  /* ä¾§è¾¹æ Firefoxæ»šåŠ¨æ¡æ ·å¼ */
  .app-sidebar {
    scrollbar-width: thin !important;
    scrollbar-color: rgba(255, 255, 255, 0.3) rgba(255, 255, 255, 0.1) !important;
  }
  
  .app-footer {
    position: sticky;
    bottom: 0;
    z-index: 50;
    background: #FFFFFF;
    border-top: 1px solid rgba(217, 214, 208, 0.5);
  }
  
  /* ğŸ´ ç®€çº¦å¡ç‰‡æ ·å¼ - æ›¿ä»£ç»ç’ƒæ•ˆæœ */
  .glass-surface,
  .glass-card {
    background: #FFFFFF;
    border: 1px solid rgba(217, 214, 208, 0.5);
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.03);
  }

  .glass-music-library {
    background: transparent;
    border: none;
    border-radius: 0;
    box-shadow: none;
  }

  .glass-interactive {
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .glass-interactive:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04);
  }

  /* æ·±è‰²æ¨¡å¼é€‚é… */
  [data-theme="dark"] .glass-surface,
  [data-theme="dark"] .glass-card {
    background: #0F172A;
    border-color: rgba(148, 163, 184, 0.15);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
  }

  [data-theme="dark"] .glass-music-library {
    background: transparent;
    border: none;
    box-shadow: none;
  }

  [data-theme="dark"] .glass-interactive:hover {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* ğŸ¬ åŠ¨ç”»æ•ˆæœ */
  @keyframes card-float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-2px);
    }
  }
  
  @keyframes card-glow {
    0%, 100% {
      box-shadow: var(--shadow-soft);
    }
    50% {
      box-shadow: var(--shadow-glow), var(--shadow-medium);
    }
  }

  /* ğŸŠ Toasté€šçŸ¥åŠ¨ç”» */
  @keyframes toast-slide-in {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes toast-slide-out {
    from {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
    to {
      opacity: 0;
      transform: translateX(100%) scale(0.9);
    }
  }

  .animate-toast-slide-in {
    animation: toast-slide-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .animate-toast-slide-out {
    animation: toast-slide-out 0.3s cubic-bezier(0.4, 0, 1, 1);
  }

  /* ğŸ“Š æ€§èƒ½ç›‘æ§æ•°æ®åˆ·æ–°åŠ¨ç”» */
  @keyframes metric-refresh {
    0%, 100% {
      background-color: transparent;
    }
    50% {
      background-color: rgba(59, 130, 246, 0.08);
    }
  }

  .metric-refreshing {
    animation: metric-refresh 0.6s ease-out;
  }

  /* ğŸšï¸ éŸ³é¢‘å¢å¼ºé¢æ¿äº¤äº’åŠ¨ç”» */
  @keyframes eq-slider-active {
    0%, 100% {
      background-color: rgba(99, 102, 241, 0.1);
    }
    50% {
      background-color: rgba(99, 102, 241, 0.2);
    }
  }

  .eq-slider-active {
    animation: eq-slider-active 0.3s ease-out;
  }

  @keyframes toggle-switch {
    0% {
      transform: scale(0.95);
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1);
    }
  }

  .toggle-switch-animate {
    animation: toggle-switch 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes preset-select {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.02);
    }
    100% {
      transform: scale(1);
    }
  }

  .preset-select-animate {
    animation: preset-select 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* ğŸ“ æ–‡ä»¶å¤¹åˆ—è¡¨åŠ¨ç”» */
  @keyframes folder-item-enter {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes folder-item-exit {
    from {
      opacity: 1;
      transform: scale(1);
      max-height: 100px;
    }
    to {
      opacity: 0;
      transform: scale(0.8);
      max-height: 0;
    }
  }

  .folder-item-enter {
    animation: folder-item-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .folder-item-exit {
    animation: folder-item-exit 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
  }

  @keyframes scanning-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .scanning-pulse {
    animation: scanning-pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* ğŸ’€ éª¨æ¶å±åŠ è½½åŠ¨ç”» */
  @keyframes skeleton-shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .skeleton-box {
    background: linear-gradient(
      90deg,
      rgba(148, 163, 184, 0.1) 0%,
      rgba(148, 163, 184, 0.2) 50%,
      rgba(148, 163, 184, 0.1) 100%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
  }

  .dark .skeleton-box {
    background: linear-gradient(
      90deg,
      rgba(71, 85, 105, 0.1) 0%,
      rgba(71, 85, 105, 0.2) 50%,
      rgba(71, 85, 105, 0.1) 100%
    );
    background-size: 200% 100%;
  }

  /* ğŸµ éŸ³ä¹åº“æ­Œæ›²è¡Œæ‚¬åœåŠ¨ç”» */
  
  /* 1. èƒŒæ™¯é«˜äº®åŠ¨ç”» */
  @keyframes track-row-highlight {
    from {
      background-color: transparent;
    }
    to {
      background: linear-gradient(
        90deg,
        rgba(77, 134, 255, 0.03) 0%,
        rgba(77, 134, 255, 0.06) 50%,
        rgba(77, 134, 255, 0.03) 100%
      );
    }
  }

  .track-row-hover {
    animation: track-row-highlight 0.2s ease-out forwards;
  }

  /* 2. å°é¢æ—‹è½¬è¿›å…¥åŠ¨ç”» */
  @keyframes album-cover-pop {
    0% {
      transform: scale(1) rotate(0deg);
    }
    50% {
      transform: scale(1.08) rotate(2deg);
    }
    100% {
      transform: scale(1.05) rotate(0deg);
    }
  }

  .album-cover-hover {
    animation: album-cover-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 3. æ“ä½œæŒ‰é’®æ»‘å…¥åŠ¨ç”» */
  @keyframes action-button-slide-in {
    from {
      opacity: 0;
      transform: translateX(10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .action-button-enter {
    animation: action-button-slide-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 4. éŸ³ç¬¦å›¾æ ‡è„‰åŠ¨ */
  @keyframes music-note-pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.8;
    }
  }

  .music-note-pulse {
    animation: music-note-pulse 1.5s ease-in-out infinite;
  }

  /* 5. æ—¶é•¿æ•°å­—è·³åŠ¨ */
  @keyframes duration-bounce {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-2px);
    }
  }

  .duration-bounce {
    animation: duration-bounce 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 6. æ³¢çº¹æ‰©æ•£æ•ˆæœ */
  @keyframes ripple-effect {
    0% {
      box-shadow: 0 0 0 0 rgba(77, 134, 255, 0.2);
    }
    100% {
      box-shadow: 0 0 0 8px rgba(77, 134, 255, 0);
    }
  }

  .ripple-active {
    animation: ripple-effect 0.6s ease-out;
  }

  /* 7. æ”¶è—æŒ‰é’®å¿ƒè·³åŠ¨ç”» */
  @keyframes favorite-heartbeat {
    0%, 100% {
      transform: scale(1);
    }
    10%, 30% {
      transform: scale(1.2);
    }
    20%, 40% {
      transform: scale(1.1);
    }
  }

  .favorite-heartbeat {
    animation: favorite-heartbeat 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 8. ç›¸é‚»è¡Œè”åŠ¨æ•ˆæœ */
  .track-row-neighbor-1 {
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    transition-delay: 50ms;
  }

  .track-row-neighbor-2 {
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    transition-delay: 100ms;
  }
  
  @keyframes card-shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
  
  .card-float:hover {
    animation: card-float 2s ease-in-out infinite;
  }
  
  .card-glow:hover {
    animation: card-glow 2s ease-in-out infinite;
  }
  
  .card-shimmer {
    position: relative;
    overflow: hidden;
  }
  
  .card-shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: card-shimmer 3s ease-in-out infinite;
    pointer-events: none;
  }
  
  /* ğŸŒŸ é¡µé¢åˆ‡æ¢åŠ¨ç”» */
  .page-transition {
    animation: pageSlideIn var(--dur-slower) var(--ease-expressive);
  }
  
  /* ğŸ¯ ä¸ºå¯æ»šåŠ¨çš„é¡µé¢å†…å®¹ç•™å‡ºåº•éƒ¨ç©ºé—´ï¼ˆé¿å…è¢«æ’­æ”¾å™¨é®æŒ¡ï¼‰ */
  .page-transition.overflow-y-auto {
    padding-bottom: 120px !important; /* æ’­æ”¾å™¨é«˜åº¦ 80px + ç¼“å†² 40px */
  }
  
  @keyframes pageSlideIn {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  /* ğŸ”„ Loading åŠ¨ç”» */
  .loading-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  /* âš¡ çŠ¶æ€åˆ‡æ¢åŠ¨ç”» */
  .state-transition {
    transition: all var(--dur-normal) var(--ease-productive);
  }
  
  .fade-in {
    animation: fadeIn var(--dur-normal) var(--ease-productive);
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      transform: translateX(-50%) scaleX(0);
      opacity: 0;
    }
    to {
      transform: translateX(-50%) scaleX(1);
      opacity: 1;
    }
  }

  /* æ­Œæ›²åç§°åŠ¨ç”»æ•ˆæœ */
  .song-title {
    margin: 0;
    height: auto;
    background: transparent;
    padding: 0;
    border: none;
    cursor: pointer;
    --border-right: 2px;
    --text-stroke-color: rgba(124, 92, 255, 0.6);
    --animation-color: #7C5CFF;
    --fs-size: 1em;
    letter-spacing: 1px;
    text-decoration: none;
    font-size: var(--fs-size);
    font-family: inherit;
    position: relative;
    color: transparent;
    -webkit-text-stroke: 1px var(--text-stroke-color);
    transition: all 0.3s ease;
  }

  .song-title .hover-text {
    position: absolute;
    box-sizing: border-box;
    color: var(--animation-color);
    width: 0%;
    inset: 0;
    border-right: var(--border-right) solid var(--animation-color);
    overflow: hidden;
    transition: 0.5s;
    -webkit-text-stroke: 1px var(--animation-color);
    white-space: nowrap;
  }

  .song-title:hover .hover-text {
    width: 100%;
    filter: drop-shadow(0 0 15px var(--animation-color));
  }

  /* å½“å‰æ’­æ”¾æ­Œæ›²çš„ç‰¹æ®Šæ•ˆæœ */
  .song-title.playing {
    --animation-color: #37FF8B;
    --text-stroke-color: rgba(55, 255, 139, 0.6);
  }

  .song-title.playing .hover-text {
    width: 100%;
    filter: drop-shadow(0 0 20px var(--animation-color));
    animation: glow-pulse 2s ease-in-out infinite alternate;
  }

  @keyframes glow-pulse {
    from {
      filter: drop-shadow(0 0 15px var(--animation-color));
    }
    to {
      filter: drop-shadow(0 0 25px var(--animation-color));
    }
  }

  /* ç°ä»£åŒ–åº”ç”¨æ ‡é¢˜è®¾è®¡ */
  .app-title-container {
    position: relative;
    cursor: pointer;
  }

  .app-title-modern {
    margin: 0;
    padding: 0;
    position: relative;
    font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 700;
    font-size: 1.375rem;
    line-height: 1.2;
    letter-spacing: -0.025em;
    background: linear-gradient(135deg, #7C5CFF 0%, #9333EA 50%, #7C5CFF 100%);
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    animation: gradient-shift 6s ease-in-out infinite;
  }

  .app-title-modern .brand-text {
    position: relative;
    font-weight: 800;
    background: linear-gradient(135deg, #7C5CFF 0%, #A855F7 50%, #7C5CFF 100%);
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    text-shadow: 0 0 30px rgba(124, 92, 255, 0.3);
  }

  .app-title-modern .sub-text {
    font-weight: 600;
    margin-left: 0.5rem;
    background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%);
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    opacity: 0.85;
  }

  .hover-text-modern {
    position: absolute;
    inset: 0;
    width: 0%;
    overflow: hidden;
    background: linear-gradient(135deg, #7C5CFF 0%, #EC4899 50%, #F59E0B 100%);
    background-size: 300% 300%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    border-right: 3px solid transparent;
    border-image: linear-gradient(135deg, #7C5CFF, #EC4899, #F59E0B) 1;
    animation: rainbow-flow 3s linear infinite;
  }

  .hover-text-modern .brand-text {
    font-weight: 800;
    filter: drop-shadow(0 0 20px rgba(124, 92, 255, 0.6));
  }

  .hover-text-modern .sub-text {
    font-weight: 600;
    margin-left: 0.5rem;
    filter: drop-shadow(0 0 15px rgba(139, 92, 246, 0.5));
  }

  .app-title-container:hover .hover-text-modern {
    width: 100%;
    filter: drop-shadow(0 0 25px rgba(124, 92, 255, 0.8)) 
            drop-shadow(0 0 40px rgba(236, 72, 153, 0.4));
  }

  .app-title-container:hover .app-title-modern {
    transform: translateY(-1px);
    filter: drop-shadow(0 0 20px rgba(124, 92, 255, 0.4));
  }

  .brand-tagline {
    font-size: 0.75rem;
    font-weight: 500;
    color: #8B5CF6;
    opacity: 0.7;
    margin-top: 1px;
    letter-spacing: 0.5px;
    font-family: 'Inter', sans-serif;
    transition: all 0.3s ease;
  }

  .app-title-container:hover .brand-tagline {
    opacity: 1;
    color: #7C5CFF;
    transform: translateY(-1px);
  }

  /* èƒŒæ™¯æ¸å˜åŠ¨ç”» */
  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* å½©è™¹æµåŠ¨æ•ˆæœ */
  @keyframes rainbow-flow {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 200% 50%;
    }
  }

  /* å¯æ‹–æ‹½åŒºåŸŸ */
  .draggable-header {
    -webkit-app-region: drag;
  }

  .draggable-header .non-draggable {
    -webkit-app-region: no-drag;
  }

  /* ä¾§è¾¹å¯¼èˆªæ åŠ¨ç”»æ•ˆæœ */
  .radio-container {
    --main-color: #3B82F6;
    --main-color-opacity: rgba(59, 130, 246, 0.1);
    --total-radio: 5;

    display: flex;
    flex-direction: column;
    position: relative;
    padding-left: 0.5rem;
  }

  .radio-container input {
    cursor: pointer;
    appearance: none;
  }

  .radio-container .glider-container {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    background: linear-gradient(
      0deg,
      rgba(0, 0, 0, 0) 0%,
      rgba(124, 92, 255, 0.1) 50%,
      rgba(0, 0, 0, 0) 100%
    );
    width: 2px;
    border-radius: 1px;
  }

  .radio-container .glider-container .glider {
    position: relative;
    height: calc(100% / var(--total-radio));
    width: 100%;
    background: linear-gradient(
      0deg,
      rgba(0, 0, 0, 0) 0%,
      var(--main-color) 50%,
      rgba(0, 0, 0, 0) 100%
    );
    transition: transform 0.5s cubic-bezier(0.37, 1.95, 0.66, 0.56);
    border-radius: 1px;
  }

  .radio-container .glider-container .glider::before {
    content: "";
    position: absolute;
    height: 60%;
    width: 300%;
    top: 50%;
    transform: translateY(-50%);
    background: var(--main-color);
    filter: blur(8px);
    border-radius: 2px;
  }

  .radio-container .glider-container .glider::after {
    content: "";
    position: absolute;
    left: 0;
    height: 100%;
    width: 150px;
    background: linear-gradient(
      90deg,
      var(--main-color-opacity) 0%,
      rgba(0, 0, 0, 0) 100%
    );
    border-radius: 1px;
  }

  .radio-container label {
    cursor: pointer;
    padding: 0.75rem 1rem;
    position: relative;
    color: #6b7280;
    transition: all 0.3s ease-in-out;
    border-radius: 0.5rem;
    margin: 0.125rem 0;
    font-weight: 500;
  }

  .radio-container input:checked + label {
    color: var(--main-color);
    background-color: rgba(59, 130, 246, 0.05);
  }

  .radio-container input:nth-of-type(1):checked ~ .glider-container .glider {
    transform: translateY(0);
  }

  .radio-container input:nth-of-type(2):checked ~ .glider-container .glider {
    transform: translateY(100%);
  }

  .radio-container input:nth-of-type(3):checked ~ .glider-container .glider {
    transform: translateY(200%);
  }

  .radio-container input:nth-of-type(4):checked ~ .glider-container .glider {
    transform: translateY(300%);
  }

  .radio-container input:nth-of-type(5):checked ~ .glider-container .glider {
    transform: translateY(400%);
  }

  .radio-container input:nth-of-type(6):checked ~ .glider-container .glider {
    transform: translateY(500%);
  }

  .radio-container input:nth-of-type(7):checked ~ .glider-container .glider {
    transform: translateY(600%);
  }

  .radio-container input:nth-of-type(8):checked ~ .glider-container .glider {
    transform: translateY(700%);
  }

  /* æ¯›ç»ç’ƒæœç´¢æ¡†æ ·å¼ */
  .search-container {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: var(--surface-secondary);
    padding: 30px;
    border-radius: 15px;
    transition: background 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.03);
  }

  .label {
    position: absolute;
    top: 50%;
    left: 20px;
    transform: translateY(-50%);
    color: #e5e5e5;
    pointer-events: none;
    transition: transform 0.3s ease, font-size 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
  }

  .search-input {
    position: relative;
    width: 230px;
    height: 40px;
    padding: 12px;
    border: 1px solid var(--border-primary);
    border-radius: 8px;
    background: var(--surface-secondary);
    font-size: 16px;
    color: var(--text-primary);
    outline: none;
    transition: box-shadow 0.3s ease, background 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.03);
  }

  .search-input:focus,
  .search-input:not(:placeholder-shown) {
    border-color: #4caf50;
    background: rgba(76, 175, 80, 0.1);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1), 0 0 10px rgba(0, 0, 0, 0.2) inset;
  }

  .search-input:focus + .label,
  .search-input:not(:placeholder-shown) + .label {
    transform: translateY(-120%) scale(0.8);
    font-size: 12px;
    color: #4caf50;
    text-shadow: 0 0 5px rgba(76, 175, 80, 0.6);
  }

  .search-input:hover {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1), 0 0 10px rgba(0, 0, 0, 0.2) inset;
  }

  .clear-button {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    color: #e5e5e5;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease, color 0.3s ease;
  }

  .clear-button:hover {
    color: #4caf50;
    transform: scale(1.1);
  }

  .search-input:not(:focus):not(:placeholder-shown) + .clear-button {
    opacity: 1;
  }

  .shine {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom right, rgba(255, 255, 255, 0.6), transparent);
    border-radius: 8px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .search-input:focus + .shine {
    opacity: 1;
  }

  .search-icon {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    color: #e5e5e5;
    cursor: pointer;
    transition: color 0.3s ease, transform 0.3s ease, filter 0.3s ease;
    border-radius: 50%;
  }

  .search-input:focus + .search-icon {
    color: #4caf50;
    transform: translateY(-50%) scale(1.1);
    filter: drop-shadow(0 0 5px rgba(76, 175, 80, 0.6));
  }

  @keyframes inputPulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  .search-input:focus {
    animation: inputPulse 0.5s ease;
  }

  /* é€‚é…ç™½è‰²èƒŒæ™¯çš„æ¯›ç»ç’ƒæœç´¢æ¡†æ ·å¼ */
  .label-light {
    position: absolute;
    top: 50%;
    left: 16px;
    transform: translateY(-50%);
    color: #6b7280; /* æ·±ç°è‰²ï¼Œé€‚åˆç™½è‰²èƒŒæ™¯ */
    pointer-events: none;
    transition: transform 0.3s ease, font-size 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
    font-size: 14px;
  }

  .search-input-light {
    position: relative;
    width: 100%;
    height: 40px;
    padding: 8px 50px 8px 16px;
    border: 1px solid rgba(124, 92, 255, 0.2);
    border-radius: 10px;
    background: #FFFFFF;
    font-size: 14px;
    color: #374151;
    outline: none;
    transition: box-shadow 0.3s ease, background 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.03);
  }

  .search-input-light:focus,
  .search-input-light:not(:placeholder-shown) {
    border-color: #7c5cff; /* ä¸»é¢˜è‰²è¾¹æ¡† */
    background: rgba(124, 92, 255, 0.05); /* æ·¡ç´«è‰²èƒŒæ™¯ */
    box-shadow: 0 4px 16px rgba(124, 92, 255, 0.15), 
                inset 0 1px 3px rgba(255, 255, 255, 0.6),
                inset 0 -1px 3px rgba(0, 0, 0, 0.05);
  }

  .search-input-light:focus + .label-light,
  .search-input-light:not(:placeholder-shown) + .label-light {
    transform: translateY(-140%) scale(0.8);
    font-size: 12px;
    color: #7c5cff; /* ä¸»é¢˜è‰² */
    text-shadow: 0 0 5px rgba(124, 92, 255, 0.3);
  }

  .search-input-light:hover {
    background: rgba(255, 255, 255, 0.8);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1), 
                inset 0 1px 3px rgba(255, 255, 255, 0.6),
                inset 0 -1px 3px rgba(0, 0, 0, 0.08);
  }

  .clear-button-light {
    position: absolute;
    top: 50%;
    right: 35px;
    transform: translateY(-50%);
    color: #6b7280;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease, color 0.3s ease;
    font-size: 14px;
    font-weight: bold;
  }

  .clear-button-light:hover {
    color: #7c5cff;
    transform: translateY(-50%) scale(1.1);
  }

  .search-input-light:not(:placeholder-shown) ~ .clear-button-light {
    opacity: 1;
  }

  .search-icon-light {
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    color: #6b7280;
    cursor: pointer;
    transition: color 0.3s ease, transform 0.3s ease, filter 0.3s ease;
    border-radius: 50%;
    font-size: 16px;
  }

  .search-input-light:focus ~ .search-icon-light {
    color: #7c5cff;
    transform: translateY(-50%) scale(1.1);
    filter: drop-shadow(0 0 8px rgba(124, 92, 255, 0.4));
  }

  .search-input-light:focus {
    animation: inputPulse 0.5s ease;
  }

  /* ç»ç’ƒè´¨æ„Ÿå•é€‰æŒ‰é’®ç»„æ ·å¼ - é€‚é…ç™½è‰²èƒŒæ™¯ */
  .card-radio-group {
    --bg: rgba(255, 255, 255, 0.08);
    --text: #374151;

    display: flex;
    position: relative;
    background: var(--bg);
    border-radius: 1rem;    box-shadow:
      inset 0.5px 0.5px 2px rgba(255, 255, 255, 0.3),
      inset -0.5px -0.5px 2px rgba(0, 0, 0, 0.1),
      0 2px 8px rgba(0, 0, 0, 0.08);
    border: 0.5px solid rgba(255, 255, 255, 0.2);
    overflow: hidden;
    width: fit-content;
  }

  .card-radio-group input {
    display: none;
  }

  .card-radio-group label {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 80px;
    font-size: 14px;
    padding: 0.8rem 1.6rem;
    cursor: pointer;
    font-weight: 600;
    letter-spacing: 0.3px;
    color: var(--text);
    position: relative;
    z-index: 2;
    transition: color 0.3s ease-in-out;
  }

  .card-radio-group label:hover {
    color: white;
  }

  .card-radio-group input:checked + label {
    color: #fff;
  }

  .card-glider {
    position: absolute;
    top: 0;
    bottom: 0;
    width: calc(100% / 3);
    border-radius: 1rem;
    z-index: 1;
    transition:
      transform 0.5s cubic-bezier(0.37, 1.95, 0.66, 0.56),
      background 0.4s ease-in-out,
      box-shadow 0.4s ease-in-out;
  }

  /* Silver */
  #card-silver:checked ~ .card-glider {
    transform: translateX(0%);
    background: linear-gradient(135deg, #c0c0c055, #e0e0e0);
    box-shadow:
      0 0 18px rgba(192, 192, 192, 0.5),
      0 0 10px rgba(255, 255, 255, 0.4) inset;
  }

  /* Gold */
  #card-gold:checked ~ .card-glider {
    transform: translateX(100%);
    background: linear-gradient(135deg, #ffd70055, #ffcc00);
    box-shadow:
      0 0 18px rgba(255, 215, 0, 0.5),
      0 0 10px rgba(255, 235, 150, 0.4) inset;
  }

  /* Platinum */
  #card-platinum:checked ~ .card-glider {
    transform: translateX(200%);
    background: linear-gradient(135deg, #d0e7ff55, #a0d8ff);
    box-shadow:
      0 0 18px rgba(160, 216, 255, 0.5),
      0 0 10px rgba(200, 240, 255, 0.4) inset;
  }

  /* æ­Œæ›²åˆ—è¡¨å¼¹æ€§æ‚¬åœæ•ˆæœ */
  .track-list-container {
    position: relative;
    overflow: hidden;
  }

  .track-hover-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 0;
    border-radius: 0.75rem;
    background: linear-gradient(135deg, 
      rgba(124, 92, 255, 0.05), 
      rgba(147, 51, 234, 0.03)
    );
    box-shadow: 0 1px 6px rgba(124, 92, 255, 0.04);
    border: 0.5px solid rgba(124, 92, 255, 0.08);
    transform: translateY(-100%);
    transition: 
      transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1),
      height 0.3s ease-out,
      opacity 0.3s ease-out;
    opacity: 0;
    pointer-events: none;
    z-index: 1;
  }

  .track-hover-background.active {
    opacity: 1;
  }

  .track-item {
    position: relative;
    z-index: 2;
    transition: 
      transform 0.2s ease-out,
      color 0.2s ease-out;
  }

  .track-item:hover {
    transform: translateX(2px);
  }

  .track-item:hover .track-title {
    color: #7c5cff;
  }

  .track-item:hover .track-meta {
    color: #6366f1;
  }

  .track-item:hover .track-duration {
    color: #7c5cff;
  }

  .track-item:hover .track-number {
    color: #7c5cff;
    font-weight: 600;
  }

  /* æ’­æ”¾å™¨å¼¹æ€§åŠ¨ç”»æ•ˆæœ - å·²å¼ƒç”¨ï¼Œæ”¹ç”¨å›ºå®šåº•æ  */
  .player-tray {
    transform: translateY(100%);
    opacity: 0;
    transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .player-tray.visible {
    transform: translateY(0);
    opacity: 1;
  }

  .player-tray.hiding {
    transform: translateY(120%);
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.55, 0.085, 0.68, 0.53);
  }

  /* æ’­æ”¾å™¨å®¹å™¨è¿›å…¥åŠ¨ç”»å˜ä½“ */
  @keyframes playerSlideUp {
    0% {
      transform: translateY(100%);
      opacity: 0;
    }
    60% {
      transform: translateY(-8px);
      opacity: 0.9;
    }
    80% {
      transform: translateY(4px);
      opacity: 1;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes playerSlideDown {
    0% {
      transform: translateY(0);
      opacity: 1;
    }
    20% {
      transform: translateY(-4px);
      opacity: 0.9;
    }
    100% {
      transform: translateY(120%);
      opacity: 0;
    }
  }

  .player-tray.animate-up {
    animation: playerSlideUp 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .player-tray.animate-down {
    animation: playerSlideDown 0.5s cubic-bezier(0.55, 0.085, 0.68, 0.53) forwards;
  }

  /* æ’­æ”¾å™¨è§¦å‘æŒ‰é’® */
  .player-toggle-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 60;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: linear-gradient(135deg, #7c5cff, #9333ea);
    box-shadow: 
      0 4px 20px rgba(124, 92, 255, 0.3),
      0 0 0 0 rgba(124, 92, 255, 0.4);
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s ease;
    animation: pulse-ring 2s infinite;
  }

  .player-toggle-btn:hover {
    transform: scale(1.1);
    box-shadow: 
      0 8px 30px rgba(124, 92, 255, 0.4),
      0 0 0 0 rgba(124, 92, 255, 0.6);
  }

  .player-toggle-btn:active {
    transform: scale(0.95);
  }

  .player-toggle-btn.hidden {
    transform: translateY(100px);
    opacity: 0;
  }

  @keyframes pulse-ring {
    0% {
      box-shadow: 
        0 4px 20px rgba(124, 92, 255, 0.3),
        0 0 0 0 rgba(124, 92, 255, 0.4);
    }
    50% {
      box-shadow: 
        0 4px 20px rgba(124, 92, 255, 0.3),
        0 0 0 10px rgba(124, 92, 255, 0.1);
    }
    100% {
      box-shadow: 
        0 4px 20px rgba(124, 92, 255, 0.3),
        0 0 0 0 rgba(124, 92, 255, 0);
    }
  }

  /* å®è‰²å¡ç‰‡ - ä¸»è¦å†…å®¹å®¹å™¨ */
  .surface-card {
    background: var(--surface);
    border-radius: var(--radius);
    box-shadow: var(--shadow-sm);
    border: 1px solid rgba(44, 123, 229, 0.08);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .surface-card:hover {
    box-shadow: var(--shadow-lg);
    border-color: rgba(44, 123, 229, 0.12);
  }

  /* ä¸»å†…å®¹åŒºåŸŸå¡ç‰‡ - æ›´å¼ºçš„å¯¹æ¯” */
  .main-content-card {
    background: var(--surface);
    border-radius: var(--radius);
    box-shadow: 
      0 8px 32px rgba(12,30,70,0.08),
      0 2px 8px rgba(44,123,229,0.04);
    border: 1px solid rgba(44, 123, 229, 0.06);
    position: relative;
    overflow: hidden;
  }

  .main-content-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(44, 123, 229, 0.1) 20%,
      rgba(44, 123, 229, 0.15) 50%,
      rgba(44, 123, 229, 0.1) 80%,
      transparent 100%
    );
  }

  /* ä¿ç•™è£…é¥°æ€§æ¶²æ€æ•ˆæœï¼ˆä»…ç”¨äºç‰¹æ®Šåœºæ™¯ï¼‰ */
  .liquid-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.8);
    /* backdrop-filterå·²ç§»é™¤ - æ”¹ç”¨å®ä½“èƒŒæ™¯ */
    border: 1px solid transparent;
    background-clip: padding-box;
    border-image: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.18) 0%,
      rgba(199, 225, 254, 0.15) 20%,
      rgba(147, 197, 253, 0.12) 40%,
      rgba(59, 130, 246, 0.1) 60%,
      rgba(147, 197, 253, 0.12) 80%,
      rgba(255, 255, 255, 0.18) 100%
    ) 1;
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 
      0 6px 24px rgba(59, 130, 246, 0.08),
      0 2px 8px rgba(147, 197, 253, 0.06),
      inset 0 1px 0 rgba(255, 255, 255, 0.15),
      inset 0 -1px 0 rgba(59, 130, 246, 0.05);
  }

  .liquid-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.08) 0%,
      rgba(199, 225, 254, 0.06) 10%,
      rgba(147, 197, 253, 0.04) 25%,
      rgba(93, 164, 252, 0.03) 40%,
      rgba(59, 130, 246, 0.02) 50%,
      rgba(93, 164, 252, 0.03) 60%,
      rgba(147, 197, 253, 0.04) 75%,
      rgba(199, 225, 254, 0.06) 90%,
      rgba(255, 255, 255, 0.08) 100%
    );
    background-size: 300% 300%;
    animation: liquid-shimmer 10s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
  }

  /* ç¡®ä¿æ‰€æœ‰æ¶²æ€ç»ç’ƒå®¹å™¨çš„å­å…ƒç´ åœ¨æ­£ç¡®å±‚çº§ */
  .liquid-glass > * {
    position: relative;
    z-index: 10;
  }

  .liquid-glass::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
      circle at center,
      rgba(255, 255, 255, 0.15) 0%,
      rgba(59, 130, 246, 0.08) 20%,
      transparent 70%
    );
    opacity: 0;
    transition: opacity 0.6s ease;
    pointer-events: none;
    z-index: 2;
  }

  .liquid-glass:hover::after {
    /* ç§»é™¤æ‚¬åœæ¶Ÿæ¼ªæ•ˆæœ */
    opacity: 0;
  }


  /* ç®€åŒ–æ¶²æ€æ•ˆæœå†…å®¹å±‚ */
  .liquid-card-content {
    position: relative;
    z-index: 3;
  }

  /* é«˜çº§æ¶²æ€ç»ç’ƒ - å¸¦æŠ˜å°„æ•ˆæœ */
  .liquid-card-advanced {
    background: rgba(255, 255, 255, 0.06);    border: 1px solid rgba(59, 130, 246, 0.25);
    box-shadow: 
      0 4px 24px rgba(59, 130, 246, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.15),
      inset 0 -1px 0 rgba(59, 130, 246, 0.08);
  }

  .liquid-card-advanced::before {
    background: linear-gradient(
      45deg,
      rgba(255, 255, 255, 0.12) 0%,
      rgba(59, 130, 246, 0.06) 25%,
      rgba(147, 197, 253, 0.04) 50%,
      rgba(59, 130, 246, 0.08) 75%,
      rgba(255, 255, 255, 0.15) 100%
    );
    background-size: 400% 400%;
    animation: liquid-flow 12s ease-in-out infinite;
  }

  /* ä¾§è¾¹æ ä¸“ç”¨æ¶²æ€ç»ç’ƒ */
  .liquid-card-sidebar {
    background: rgba(255, 255, 255, 0.04);    border-right: 1px solid rgba(59, 130, 246, 0.15);
  }

  /* é¡¶éƒ¨æ ä¸“ç”¨æ¶²æ€ç»ç’ƒ */
  .liquid-card-header {
    background: rgba(255, 255, 255, 0.1);    border-bottom: 1px solid rgba(59, 130, 246, 0.2);
    box-shadow: 0 1px 20px rgba(59, 130, 246, 0.08);
    /* ç¡®ä¿æ‹–æ‹½åŒºåŸŸæ­£å¸¸å·¥ä½œ */
    position: relative;
  }

  /* æ‹–æ‹½åŒºåŸŸæ ·å¼ - ç¦ç”¨æ–‡æœ¬é€‰æ‹©ï¼Œé¿å…ä¸æ‹–æ‹½å†²çª */
  [data-tauri-drag-region] {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  /* ğŸµ å†…å®¹åŒºæ’­æ”¾å™¨å®¹å™¨ */
  .content-player-container {
    position: fixed;
    bottom: 0;
    left: var(--sidebar-width, 240px); /* æ ¹æ®CSSå˜é‡åŠ¨æ€è°ƒæ•´ */
    right: 0;
    width: calc(100% - var(--sidebar-width, 240px)); /* æ ¹æ®CSSå˜é‡åŠ¨æ€è°ƒæ•´ */
    padding: 0; /* ç§»é™¤å†…è¾¹è·ï¼Œè®©æ’­æ”¾å™¨è´´åˆè¾¹ç¼˜ */
    background: transparent;
    z-index: 100;
    transition: left 0.7s cubic-bezier(0.34, 1.56, 0.64, 1),
                width 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  /* ğŸ¯ ä¸»å†…å®¹åŒºåº•éƒ¨ç•™ç™½ - é¿å…å†…å®¹è¢«æ’­æ”¾å™¨é®æŒ¡ */
  .app-content > div[class*="overflow-y-auto"] {
    padding-bottom: 96px !important; /* æ’­æ”¾å™¨é«˜åº¦ 80px + é€‚åº¦ç•™ç™½ 16px */
  }
  
  /* ğŸ¯ ä¼˜åŒ–ï¼šä½¿ç”¨æ›´è‡ªç„¶çš„æ¸å˜è¿‡æ¸¡ï¼Œé¿å…æ˜æ˜¾çš„ç™½æ¡ */
  .app-content > div[class*="overflow-y-auto"]::after {
    content: '';
    display: block;
    height: 0;
    pointer-events: none;
  }

  /* ğŸµ ç°ä»£æ’­æ”¾å™¨æ ·å¼ - è‡ªç„¶èå…¥è®¾è®¡ */
  .modern-player {
    position: relative;
    width: 100%;
    height: 80px;
    
    /* ğŸ¨ è¶…é«˜é€æ˜åº¦æ¯›ç»ç’ƒ - è‡ªç„¶èå…¥èƒŒæ™¯ */
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(40px) saturate(120%);
    -webkit-backdrop-filter: blur(40px) saturate(120%);
    
    /* æç®€è¾¹æ¡† - å‡ ä¹çœ‹ä¸è§ */
    border-top: 1px solid rgba(0, 0, 0, 0.03);
    border-bottom: none;
    border-radius: 0;
    color: var(--text-primary);
    overflow: visible;
    
    /* ğŸ¨ è¶…è½»å¾®é˜´å½± - åªæœ‰ç»†å¾®çš„æ·±åº¦ */
    box-shadow: 
      0 -1px 3px rgba(0, 0, 0, 0.02);
    
    transition: all 0.3s ease;
  }
  
  /* ğŸŒ™ æ·±è‰²æ¨¡å¼ - è‡ªç„¶èå…¥è®¾è®¡ */
  [data-theme="dark"] .modern-player {
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(40px) saturate(120%);
    -webkit-backdrop-filter: blur(40px) saturate(120%);
    border-top: 1px solid rgba(255, 255, 255, 0.03);
    border-bottom: none;
    box-shadow: 
      0 -1px 3px rgba(0, 0, 0, 0.1);
  }

  /* æ·±è‰²æ¨¡å¼ - æ’­æ”¾æŒ‰é’® */
  [data-theme="dark"] .control-main-btn {
    background: var(--brand-500);
    box-shadow: 0 2px 8px rgba(77, 134, 255, 0.25);
  }

  [data-theme="dark"] .control-main-btn:hover {
    box-shadow: 0 4px 12px rgba(77, 134, 255, 0.35);
  }

  /* æ·±è‰²æ¨¡å¼ - ä¸­ç­‰æŒ‰é’® */
  [data-theme="dark"] .control-medium-btn {
    background: transparent;
  }

  [data-theme="dark"] .control-medium-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--brand-500);
  }

  /* æ·±è‰²æ¨¡å¼ - å°æŒ‰é’® */
  [data-theme="dark"] .control-small-btn {
    background: transparent;
  }

  [data-theme="dark"] .control-small-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--brand-500);
  }

  [data-theme="dark"] .control-small-btn.active {
    background: var(--brand-500);
    box-shadow: 0 2px 6px rgba(96, 165, 250, 0.3);
  }


  /* æ·±è‰²æ¨¡å¼ - åŠŸèƒ½æŒ‰é’® */
  [data-theme="dark"] .function-square-btn {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.08);
  }

  [data-theme="dark"] .function-square-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--brand-500);
    color: var(--brand-500);
  }

  /* æ·±è‰²æ¨¡å¼ - éŸ³é‡æ§åˆ¶ */
  [data-theme="dark"] .volume-icon-btn:hover {
    background: rgba(255, 255, 255, 0.08);
  }

  [data-theme="dark"] .volume-slider-container {
    background: rgba(148, 163, 184, 0.1);
  }

  [data-theme="dark"] .volume-slider-fill {
    background: linear-gradient(90deg, var(--brand-500) 0%, var(--brand-600) 100%);
  }

  /* ä¸»å®¹å™¨ - å·¦ä¸­å³ä¸‰æ å¸ƒå±€ */
  .player-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 100%;
    padding: 0 20px;
    gap: 16px;
    min-width: 0; /* ğŸ”¥ å…è®¸å­å…ƒç´ æ”¶ç¼© */
    position: relative; /* ğŸ”¥ ä¸ºç»å¯¹å®šä½çš„ä¸­é—´åŒºåŸŸæä¾›å‚ç…§ */
  }

  /* ğŸ¯ å·¦ä¾§åŒºåŸŸ - æ°´å¹³å¸ƒå±€ï¼šå°é¢ + ä¿¡æ¯åŒº */
  .player-left-section {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 0 1 auto; /* ğŸ”¥ ä¸æ‰©å±•ï¼Œå¯æ”¶ç¼© */
    flex-shrink: 1; /* ğŸ”¥ å…è®¸æ”¶ç¼© */
    min-width: 200px; /* ğŸ”¥ æœ€å°å®½åº¦ */
    width: clamp(200px, 25vw, 400px); /* ğŸ”¥ åŠ¨æ€å®½åº¦ï¼šæ ¹æ®è§†å£å®½åº¦è‡ªåŠ¨è°ƒæ•´ */
    padding: 8px 0 8px 8px; /* ğŸ”¥ å·¦ä¾§å¢åŠ paddingï¼Œä¸ºé˜´å½±ç•™å‡ºç©ºé—´ */
    overflow: visible; /* ğŸ”¥ æ”¹ä¸ºvisibleï¼Œè®©å°é¢é˜´å½±å®Œæ•´æ˜¾ç¤º */
    z-index: 1; /* ğŸ”¥ åœ¨èƒŒæ™¯ä¸Šæ–¹ï¼Œä½†åœ¨ä¸­é—´åŒºåŸŸä¸‹æ–¹ */
  }

  /* ä¿¡æ¯åŒºï¼šæ­Œæ›²ä¿¡æ¯+æ­Œè¯+æŒ‰é’®ç»„ - å‚ç›´å †å  */
  .left-info-wrapper {
    display: flex;
    flex-direction: column;
    gap: 4px; /* ğŸ”¥ å¢åŠ é—´è·ï¼Œè®©ä¸¤è¡Œæ›´æ¸…æ™° */
    flex: 1 1 auto;
    min-width: 0; /* ğŸ”¥ å…³é”®ï¼šå…è®¸æ”¶ç¼© */
    max-width: 100%; /* ğŸ”¥ å…è®¸å……åˆ†åˆ©ç”¨çˆ¶å®¹å™¨ç©ºé—´ */
    justify-content: center;
    padding-top: 0; /* ğŸ”¥ ç§»é™¤é¡¶éƒ¨padding */
    overflow: hidden; /* ğŸ”¥ é˜²æ­¢æº¢å‡º */
  }

  /* æ­Œæ›²ä¿¡æ¯è¡Œï¼šæ­Œå - æ­Œæ‰‹ */
  .left-top-area {
    display: flex;
    align-items: baseline; /* ğŸ”¥ æ”¹ä¸ºåŸºçº¿å¯¹é½ */
    gap: 6px;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.5; /* ğŸ”¥ å¢åŠ è¡Œé«˜ï¼Œä¸æ­Œè¯å¯¹é½ */
    overflow: hidden; /* ğŸ”¥ é˜²æ­¢æº¢å‡º */
    margin-bottom: 0; /* ğŸ”¥ ç§»é™¤margin */
    min-width: 0; /* ğŸ”¥ å…è®¸æ”¶ç¼© */
  }

  .left-song-info {
    display: flex;
    align-items: baseline; /* ğŸ”¥ æ”¹ä¸ºåŸºçº¿å¯¹é½ */
    gap: 6px;
    overflow: hidden; /* ğŸ”¥ é˜²æ­¢æº¢å‡º */
    min-width: 0; /* ğŸ”¥ å…è®¸æ”¶ç¼© */
    max-width: 100%; /* ğŸ”¥ é™åˆ¶å®½åº¦ */
  }

  .track-title {
    flex-shrink: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 0; /* ğŸ”¥ å…è®¸æ”¶ç¼©åˆ°0 */
    max-width: 160px; /* ğŸ”¥ é™åˆ¶æ­Œåæœ€å¤§å®½åº¦ */
    transition: max-width 0.3s ease; /* ğŸ”¥ å¹³æ»‘è¿‡æ¸¡ */
  }

  .track-artist {
    flex-shrink: 1; /* ğŸ”¥ æ”¹ä¸ºå¯æ”¶ç¼© */
    font-size: 14px;
    font-weight: 400;
    color: var(--text-muted);
    overflow: hidden; /* ğŸ”¥ é˜²æ­¢æº¢å‡º */
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 0; /* ğŸ”¥ å…è®¸æ”¶ç¼© */
    max-width: 100px; /* ğŸ”¥ é™åˆ¶æ­Œæ‰‹åæœ€å¤§å®½åº¦ */
    transition: max-width 0.3s ease; /* ğŸ”¥ å¹³æ»‘è¿‡æ¸¡ */
  }

  /* å½“å‰æ­Œè¯æ˜¾ç¤ºåŒºåŸŸ - å®¹å™¨ */
  .current-lyric-display {
    position: relative;
    font-size: 13px;
    font-weight: 400;
    color: var(--text-muted);
    line-height: 1.5; /* ğŸ”¥ ä¸æ­Œæ›²ä¿¡æ¯ä¿æŒä¸€è‡´ */
    height: auto; /* ğŸ”¥ æ”¹ä¸ºè‡ªåŠ¨é«˜åº¦ */
    min-height: 28px; /* ğŸ”¥ å¢åŠ æœ€å°é«˜åº¦ */
    overflow: hidden;
    white-space: nowrap;
    max-width: 100%; /* ğŸ”¥ é™åˆ¶æœ€å¤§å®½åº¦ */
    text-overflow: ellipsis; /* ğŸ”¥ é•¿æ­Œè¯æ˜¾ç¤ºçœç•¥å· */
    padding: 2px 0; /* ğŸ”¥ æ·»åŠ ä¸Šä¸‹å†…è¾¹è· */
  }

  .current-lyric-display.empty {
    font-style: italic;
    opacity: 0.6;
  }

  /* æ­Œè¯å†…å®¹åŒ…è£…å™¨ */
  .lyric-content-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: inline-block;
    white-space: nowrap;
  }

  /* ===============================================
     æ’­æ”¾å™¨åˆ‡æ­ŒåŠ¨ç”» - å°é¢ç¿»è½¬ + ä¿¡æ¯æ»‘åŠ¨
     =============================================== */
  
  /* ä¸“è¾‘å°é¢ç¿»è½¬åŠ¨ç”» */
  .album-cover-container {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* å°é¢åŒé¢å¡ç‰‡ç»“æ„ */
  .album-cover-front,
  .album-cover-back {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* æ­£é¢ï¼šå½“å‰æ’­æ”¾çš„å°é¢ */
  .album-cover-front {
    transform: rotateY(0deg);
    z-index: 2;
  }
  
  /* èƒŒé¢ï¼šä¸‹ä¸€é¦–çš„å°é¢ï¼ˆé¢„å…ˆæ—‹è½¬180åº¦ï¼Œè¿™æ ·ç¿»è½¬åæ‰æ˜¯æ­£çš„ï¼‰ */
  .album-cover-back {
    transform: rotateY(180deg);
    z-index: 1;
  }
  
  /* ç¡®ä¿å›¾ç‰‡å’Œå ä½ç¬¦å¡«å……æ•´ä¸ªå®¹å™¨ */
  .album-cover-front .album-image,
  .album-cover-back .album-image,
  .album-cover-front .album-placeholder,
  .album-cover-back .album-placeholder {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  /* å°é¢ç¿»è½¬ - ä¸‹ä¸€é¦–ï¼ˆä»å³è¾¹ç¿»å‡ºæ–°å°é¢ï¼Œåƒç¿»ä¹¦é¡µä¸€æ ·ï¼‰ */
  @keyframes coverFlipNext {
    0% {
      transform: rotateY(0deg);
    }
    100% {
      transform: rotateY(180deg);
    }
  }
  
  /* å°é¢ç¿»è½¬ - ä¸Šä¸€é¦–ï¼ˆä»å·¦è¾¹ç¿»å‡ºæ–°å°é¢ï¼Œåƒåå‘ç¿»ä¹¦é¡µï¼‰ */
  @keyframes coverFlipPrev {
    0% {
      transform: rotateY(0deg);
    }
    100% {
      transform: rotateY(-180deg);
    }
  }
  
  .album-cover-container.flip-next {
    animation: coverFlipNext 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  
  .album-cover-container.flip-prev {
    animation: coverFlipPrev 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  
  /* æ­Œæ›²ä¿¡æ¯æ»‘åŠ¨åŠ¨ç”» - ä¸‹ä¸€é¦–ï¼ˆä»å³å‘å·¦æ»‘å‡ºï¼‰ */
  @keyframes infoSlideOutNext {
    0% {
      transform: translateX(0);
      opacity: 1;
    }
    100% {
      transform: translateX(-30px);
      opacity: 0;
    }
  }
  
  /* æ­Œæ›²ä¿¡æ¯æ»‘åŠ¨åŠ¨ç”» - ä¸Šä¸€é¦–ï¼ˆä»å·¦å‘å³æ»‘å‡ºï¼‰ */
  @keyframes infoSlideOutPrev {
    0% {
      transform: translateX(0);
      opacity: 1;
    }
    100% {
      transform: translateX(30px);
      opacity: 0;
    }
  }
  
  /* æ­Œæ›²ä¿¡æ¯æ»‘å…¥åŠ¨ç”» - ä¸‹ä¸€é¦–ï¼ˆä»å³å‘å·¦æ»‘å…¥ï¼‰ */
  @keyframes infoSlideInNext {
    0% {
      transform: translateX(30px);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }
  
  /* æ­Œæ›²ä¿¡æ¯æ»‘å…¥åŠ¨ç”» - ä¸Šä¸€é¦–ï¼ˆä»å·¦å‘å³æ»‘å…¥ï¼‰ */
  @keyframes infoSlideInPrev {
    0% {
      transform: translateX(-30px);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }
  
  .left-song-info.slide-out-next {
    animation: infoSlideOutNext 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
  }
  
  .left-song-info.slide-out-prev {
    animation: infoSlideOutPrev 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
  }
  
  .left-song-info.slide-in-next {
    animation: infoSlideInNext 0.4s cubic-bezier(0, 0, 0.2, 1) forwards;
  }
  
  .left-song-info.slide-in-prev {
    animation: infoSlideInPrev 0.4s cubic-bezier(0, 0, 0.2, 1) forwards;
  }
  
  /* æ­Œè¯æ»‘åŠ¨åŠ¨ç”» - ä¸‹ä¸€é¦–ï¼ˆä»å³å‘å·¦ï¼‰ */
  @keyframes lyricSlideOutNext {
    0% {
      transform: translateX(0);
      opacity: 1;
    }
    100% {
      transform: translateX(-20px);
      opacity: 0;
    }
  }
  
  @keyframes lyricSlideInNext {
    0% {
      transform: translateX(20px);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }
  
  /* æ­Œè¯æ»‘åŠ¨åŠ¨ç”» - ä¸Šä¸€é¦–ï¼ˆä»å·¦å‘å³ï¼‰ */
  @keyframes lyricSlideOutPrev {
    0% {
      transform: translateX(0);
      opacity: 1;
    }
    100% {
      transform: translateX(20px);
      opacity: 0;
    }
  }
  
  @keyframes lyricSlideInPrev {
    0% {
      transform: translateX(-20px);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  /* æ­Œè¯åˆ‡æ¢åŠ¨ç”»ï¼šæ—§çš„ä»å·¦ä¾§é€€å‡ºï¼ˆæ¸éš+ç¼©å°ï¼‰ */
  @keyframes lyricSlideOut {
    0% {
      transform: translateX(0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateX(-30%) scale(0.85); /* ç¼©å°å¹¶å‘å·¦é€€å‡º */
      opacity: 0;
    }
  }

  /* æ­Œè¯åˆ‡æ¢åŠ¨ç”»ï¼šæ–°çš„ä»å³ä¾§è¿›å…¥ï¼ˆæ¸æ˜¾+ç¼©æ”¾ï¼Œç¼“æ…¢åœä¸‹ï¼‰ */
  @keyframes lyricSlideIn {
    0% {
      transform: translateX(20%) scale(0.9); /* ä»å³ä¾§è¿›å…¥ï¼Œç•¥å° */
      opacity: 0;
    }
    100% {
      transform: translateX(0) scale(1); /* ç¼“æ…¢å‡é€Ÿåˆ°æœ€ç»ˆä½ç½® */
      opacity: 1;
    }
  }

  .lyric-slide-out {
    animation: lyricSlideOut 0.3s cubic-bezier(0.4, 0, 0.6, 1) forwards;
  }

  .lyric-slide-in {
    animation: lyricSlideIn 0.5s cubic-bezier(0.2, 0.8, 0.3, 1) forwards; /* æŸ”å’Œå‡é€Ÿ */
  }

  /* è·‘é©¬ç¯åŠ¨ç”»ï¼ˆè¶…é•¿æ­Œè¯ï¼‰ */
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .lyric-marquee {
    animation: marquee linear infinite;
    display: inline-block;
  }

  /* è·‘é©¬ç¯å†…å®¹éœ€è¦é‡å¤ä¸€æ¬¡ä»¥å®ç°æ— ç¼å¾ªç¯ */
  .lyric-marquee::after {
    content: attr(data-text);
    padding-left: 2em;
  }

  /* æ­Œè¯åŠ è½½çŠ¶æ€ */
  .loading-lyrics {
    display: inline-flex;
    align-items: center;
    color: var(--brand-primary);
    font-style: italic;
    opacity: 0.8;
  }

  /* æ—‹è½¬åŠ¨ç”» */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin {
    animation: spin 1s linear infinite;
  }

  .lyric-fade-in {
    opacity: 1;
    transform: translateY(0);
  }

  .lyric-fade-out {
    opacity: 0;
    transform: translateY(-4px);
  }

  /* æŒ‰é’®ç»„ */
  /* ç¬¬ä¸‰è¡Œï¼šå·¦ä¸‹è§’æŒ‰é’®ç»„ï¼ˆæ”¶è—ç­‰ï¼‰ */
  .left-bottom-buttons {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 4px; /* ğŸ”¥ ä¸æ­Œè¯ä¿æŒé—´è· */
  }

  /* ä¸“è¾‘ç¼©ç•¥å›¾ - æ­£æ–¹å½¢ */
  .album-thumbnail {
    width: 56px;
    height: 56px;
    border-radius: 8px;
    overflow: hidden; /* ğŸ”¥ ç¡®ä¿åœ†è§’ç”Ÿæ•ˆ */
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    flex-shrink: 0;
    position: relative;
    z-index: 10;
    perspective: 1000px; /* ğŸ¬ ä¸º3Dç¿»è½¬æä¾›é€è§† */
  }

  .album-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    border-radius: 8px; /* ğŸ”¥ å°†åœ†è§’ç§»åˆ°imgä¸Š */
  }

  .album-thumbnail:hover {
    transform: scale(1.08) translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2), 0 0 20px rgba(59, 130, 246, 0.3);
  }
  
  .album-thumbnail:hover img {
    border: 1px solid rgba(59, 130, 246, 0.4); /* ğŸ”¥ è¾¹æ¡†ç§»åˆ°imgä¸Š */
  }
  
  .album-thumbnail:active {
    transform: scale(1.12) translateY(-3px);
    transition: transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25), 0 0 30px rgba(59, 130, 246, 0.5);
  }
  
  .album-thumbnail:active img {
    border: 1px solid rgba(59, 130, 246, 0.6); /* ğŸ”¥ è¾¹æ¡†ç§»åˆ°imgä¸Š */
  }

  /* ä¸“è¾‘å›¾ç‰‡ */
  .album-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* ä¸“è¾‘å ä½ç¬¦ */
  .album-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #F3F4F6; /* æµ…ç°è‰²èƒŒæ™¯ */
  }
  
  [data-theme="dark"] .album-placeholder {
    background: #1e293b; /* æ·±è‰²æ¨¡å¼èƒŒæ™¯ */
  }



  /* ğŸ¯ ä¸­é—´åŒºåŸŸ - å‚ç›´ä¸¤å±‚ï¼šä¸Šå±‚æ’­æ”¾æ§åˆ¶ + ä¸‹å±‚è¿›åº¦æ¡ */
  .transport-area {
    display: flex;
    flex-direction: column;
    align-items: stretch; /* ğŸ”¥ æ”¹ä¸º stretchï¼Œè®©å­å…ƒç´ å®½åº¦ä¸€è‡´ */
    justify-content: center;
    gap: 2px; /* ğŸ”¥ æ›´ç´§å‡‘çš„é—´è· */
    width: clamp(220px, 30vw, 450px); /* ğŸ”¥ ç¼©å°å®½åº¦ï¼Œå› ä¸ºåªæœ‰3ä¸ªæŒ‰é’® */
    
    /* ğŸ”¥ ç»å¯¹å®šä½å®ç°çœŸæ­£å±…ä¸­ */
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 5; /* ğŸ”¥ åœ¨å·¦å³åŒºåŸŸä¸Šæ–¹ */
    pointer-events: none; /* ğŸ”¥ è®©é¼ æ ‡äº‹ä»¶ç©¿é€å®¹å™¨ */
    height: auto; /* ğŸ”¥ ç¡®ä¿é«˜åº¦è‡ªé€‚åº”å†…å®¹ */
    
    /* ğŸ”¥ ç§»é™¤èƒŒæ™¯ï¼Œé¿å…è¦†ç›–å·¦ä¾§å†…å®¹ */
    background: transparent;
    border: none !important; /* ğŸ”¥ å¼ºåˆ¶ç§»é™¤ä»»ä½•è¾¹æ¡† */
    outline: none !important; /* ğŸ”¥ å¼ºåˆ¶ç§»é™¤è½®å»“çº¿ */
    box-shadow: none !important; /* ğŸ”¥ ç§»é™¤é˜´å½± */
  }
  
  .transport-area::before,
  .transport-area::after {
    display: none !important; /* ğŸ”¥ ç§»é™¤ä¼ªå…ƒç´  */
  }

  /* ä¸Šå±‚ï¼šæ’­æ”¾æ§åˆ¶æŒ‰é’®ç»„ - ä¸‰æ å¸ƒå±€ç¡®ä¿æ’­æ”¾æŒ‰é’®å±…ä¸­ */
  .transport-controls {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between; /* å·¦å³ä¸¤ä¾§åˆ†æ•£å¯¹é½ */
    flex-shrink: 0;
    pointer-events: auto;
    background: transparent;
    height: 48px;
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }
  
  .transport-controls::before,
  .transport-controls::after {
    display: none !important;
  }
  
  /* ğŸ¯ å·¦ä¾§æŒ‰é’®ç»„ */
  .controls-left {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1; /* å æ®å·¦ä¾§ç©ºé—´ */
    justify-content: flex-end; /* é å³å¯¹é½ï¼Œå‘ä¸­é—´é æ‹¢ */
    padding-right: 12px; /* ä¸æ’­æ”¾æŒ‰é’®ä¿æŒé—´è· */
  }
  
  /* ğŸ¯ æ’­æ”¾/æš‚åœæŒ‰é’® - å±…ä¸­ */
  .transport-controls > .control-main-btn {
    flex-shrink: 0; /* ä¸ç¼©æ”¾ */
  }
  
  /* ğŸ¯ å³ä¾§æŒ‰é’®ç»„ */
  .controls-right {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1; /* å æ®å³ä¾§ç©ºé—´ */
    justify-content: flex-start; /* é å·¦å¯¹é½ï¼Œå‘ä¸­é—´é æ‹¢ */
    padding-left: 12px; /* ä¸æ’­æ”¾æŒ‰é’®ä¿æŒé—´è· */
  }

  /* å°é”®ï¼šéšæœº/å¾ªç¯ç­‰ */
  /* ğŸ”€ å°æŒ‰é’®ï¼ˆéšæœº/å¾ªç¯ï¼‰- æ‰å¹³è®¾è®¡ */
  .control-small-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
    justify-self: center;
  }

  .control-small-btn:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--brand-600);
    transform: scale(1.05);
  }

  .control-small-btn:active {
    transform: scale(0.97);
    transition-duration: 0.1s;
  }

  /* æ¿€æ´»çŠ¶æ€ - æ‰å¹³é«˜äº® */
  .control-small-btn.active {
    background: var(--brand-600);
    color: white;
    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.25);
  }

  .control-small-btn.active:hover {
    transform: scale(1.05);
    box-shadow: 0 3px 8px rgba(59, 130, 246, 0.35);
  }

  /* ğŸµ ä¸­ç­‰æŒ‰é’®ï¼ˆä¸Šä¸€é¦–/ä¸‹ä¸€é¦–ï¼‰- æ‰å¹³è®¾è®¡ */
  .control-medium-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    justify-self: center;
  }

  .control-medium-btn:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--brand-600);
    transform: scale(1.05);
  }

  .control-medium-btn:active {
    transform: scale(0.97);
    transition-duration: 0.1s;
  }

  /* ä¸»é”®ï¼šæ’­æ”¾/æš‚åœ - å±…ä¸­å¯¹é½ */
  /* ğŸ¯ æ’­æ”¾æŒ‰é’® - æ‰å¹³åœ†è§’çŸ©å½¢è®¾è®¡ */
  .control-main-btn {
    width: 48px;
    height: 32px;
    border-radius: 16px;
    background: #3B82F6;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
    justify-self: center;
    position: relative;
  }

  /* æ·±è‰²æ¨¡å¼ï¼šæŸ”å’Œçš„è“è‰²ç³» */
  .dark .control-main-btn {
    background: #60A5FA;
    box-shadow: 0 2px 8px rgba(96, 165, 250, 0.25);
  }

  /* æ‚¬åœæ•ˆæœï¼šè½»å¾®æ”¾å¤§ */
  .control-main-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  }

  .dark .control-main-btn:hover {
    box-shadow: 0 4px 12px rgba(96, 165, 250, 0.35);
  }

  /* æŒ‰ä¸‹æ•ˆæœï¼šè½»å¾®ç¼©å° */
  .control-main-btn:active {
    transform: scale(0.97);
    transition-duration: 0.1s;
  }

  .play-icon {
    margin-left: 1px; /* æ’­æ”¾å›¾æ ‡ç¨å‘å³åç§» */
  }

  /* åº•éƒ¨æ’­æ”¾å™¨å…‰æ•ˆå·²åˆ é™¤ - ä»…ä¿ç•™åŸºç¡€å®¹å™¨ */
  .mouse-light-container {
    position: relative;
  }

  .mouse-light-container > * {
    position: relative;
    z-index: 1;
  }






  /* ä¸‹å±‚ï¼šè¿›åº¦æ¡åŒºåŸŸ */
  .progress-area {
    display: flex;
    align-items: center;
    justify-content: space-between; /* ğŸ”¥ ä¸¤ç«¯å¯¹é½ï¼Œæ—¶é—´æ˜¾ç¤ºåœ¨ä¸¤è¾¹ */
    width: 100%; /* ğŸ”¥ å æ»¡çˆ¶å®¹å™¨ */
    gap: 12px;
    pointer-events: auto; /* ğŸ”¥ æ¢å¤è¿›åº¦æ¡çš„é¼ æ ‡äº‹ä»¶ */
    height: 24px; /* ğŸ”¥ å›ºå®šé«˜åº¦ç¡®ä¿å‚ç›´å¯¹é½ */
    border: none !important; /* ğŸ”¥ å¼ºåˆ¶ç§»é™¤ä»»ä½•è¾¹æ¡† */
    outline: none !important; /* ğŸ”¥ å¼ºåˆ¶ç§»é™¤è½®å»“çº¿ */
    box-shadow: none !important; /* ğŸ”¥ ç§»é™¤é˜´å½± */
  }
  
  .progress-area::before,
  .progress-area::after {
    display: none !important; /* ğŸ”¥ ç§»é™¤ä¼ªå…ƒç´  */
  }

  /* æ—¶é—´æ˜¾ç¤º - å½“å‰æ—¶é—´ */
  .time-current {
    font-size: 11px;
    font-weight: 500;
    color: rgba(0, 0, 0, 0.6); /* ğŸ”¥ æµ…è‰²æ¨¡å¼ï¼šæ·±è‰²æ–‡å­— */
    font-family: 'Courier New', monospace;
    text-align: right; /* ğŸ”¥ å³å¯¹é½ï¼Œé è¿‘è¿›åº¦æ¡ */
    line-height: 24px; /* ğŸ”¥ ä¸è¿›åº¦æ¡é«˜åº¦ä¸€è‡´ */
    flex-shrink: 0;
    min-width: 40px;
  }

  .dark .time-current {
    color: rgba(255, 255, 255, 0.7); /* ğŸ”¥ æ·±è‰²æ¨¡å¼ï¼šæµ…è‰²æ–‡å­— */
  }

  /* æ—¶é—´æ˜¾ç¤º - æ€»æ—¶é•¿ */
  .time-total {
    font-size: 11px;
    font-weight: 500;
    color: rgba(0, 0, 0, 0.6); /* ğŸ”¥ æµ…è‰²æ¨¡å¼ï¼šæ·±è‰²æ–‡å­— */
    font-family: 'Courier New', monospace;
    text-align: left; /* ğŸ”¥ å·¦å¯¹é½ï¼Œé è¿‘è¿›åº¦æ¡ */
    line-height: 24px; /* ğŸ”¥ ä¸è¿›åº¦æ¡é«˜åº¦ä¸€è‡´ */
    flex-shrink: 0;
    min-width: 40px;
  }

  .dark .time-total {
    color: rgba(255, 255, 255, 0.7); /* ğŸ”¥ æ·±è‰²æ¨¡å¼ï¼šæµ…è‰²æ–‡å­— */
  }

  /* ğŸµ Apple Music é£æ ¼è¿›åº¦æ¡å®¹å™¨ */
  .progress-container {
    flex: 1 1 auto;
    min-width: 100px;
    max-width: 100%;
    height: 24px; /* å¢å¤§ç‚¹å‡»åŒºåŸŸ */
    position: relative;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }

  .progress-container::before,
  .progress-container::after {
    display: none !important;
  }

  /* Apple Music é£æ ¼è½¨é“ - ç»†é•¿åœ†è§’ */
  .progress-track {
    position: relative;
    width: 100%;
    height: 6px;
    margin-top: 9px;
    margin-bottom: 4px;
    background: rgba(15, 23, 42, 0.12);
    border-radius: 9999px;
    overflow: visible;
  }

  .dark .progress-track {
    background: rgba(255, 255, 255, 0.24);
  }

  /* Apple Music é£æ ¼è¿›åº¦å¡«å…… */
  .progress-fill {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: calc(var(--progress-ratio, 0) * 100%);
    background: linear-gradient(90deg, rgba(59, 130, 246, 0.92), rgba(37, 99, 235, 0.98));
    border-radius: inherit;
    transition: width 0.1s linear;
  }

  .dark .progress-fill {
    background: rgba(255, 255, 255, 0.92);
  }

  /* Apple Music é£æ ¼æ‹–æ‹½æ‰‹æŸ„ - å°åœ†ç‚¹ */
  .progress-handle {
    position: absolute;
    right: -7px;
    top: 50%;
    transform: translateY(-50%);
    width: 14px;
    height: 14px;
    background: rgba(0, 0, 0, 0.75); /* æµ…è‰²æ¨¡å¼ï¼šæ·±è‰²æ‰‹æŸ„ */
    border: 2px solid #FFFFFF;
    border-radius: 50%;
    opacity: 0; /* é»˜è®¤éšè— */
    transition: all 0.2s ease;
    pointer-events: none;
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.15),
      0 1px 3px rgba(0, 0, 0, 0.1);
    z-index: 2;
  }

  .dark .progress-handle {
    background: rgba(255, 255, 255, 0.9); /* æ·±è‰²æ¨¡å¼ï¼šç™½è‰²æ‰‹æŸ„ */
    border: 2px solid rgba(0, 0, 0, 0.2);
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.4),
      0 1px 3px rgba(0, 0, 0, 0.2);
  }

  /* æ‚¬åœæ—¶æ˜¾ç¤ºæ‹–æ‹½ç‚¹ */
  .progress-container:hover .progress-handle {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }

  /* æ‹–æ‹½æ—¶æ”¾å¤§æ‹–æ‹½ç‚¹ */
  .progress-handle.active {
    opacity: 1;
    transform: translateY(-50%) scale(1.2);
    box-shadow: 
      0 3px 12px var(--progress-glow),
      0 6px 20px var(--progress-shadow),
      0 0 0 3px rgba(255, 255, 255, 0.3); /* æ›´æ˜æ˜¾çš„ç™½è‰²å¤–åœˆ */
  }

  /* ğŸ¯ å³ä¾§ï¼šåŠŸèƒ½åŒº - æŒ‰é’®ç»„ */
  .player-right-section {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 0 1 auto; /* ğŸ”¥ æ”¹ä¸ºå¯æ”¶ç¼© */
    flex-shrink: 2; /* ğŸ”¥ æ”¶ç¼©é€Ÿåº¦æ˜¯å·¦ä¾§çš„4å€ï¼Œä¼˜å…ˆæ”¶ç¼© */
    justify-content: flex-end;
    min-width: 180px; /* ğŸ”¥ é™ä½æœ€å°å®½åº¦ï¼Œå…è®¸æ›´å¤šæ”¶ç¼© */
    z-index: 10; /* ğŸ”¥ åœ¨ä¸­é—´åŒºåŸŸä¸Šæ–¹ */
  }

  /* ğŸ”Š éŸ³é‡æ§åˆ¶ç»„ - å›¾æ ‡+æ¨ªå‘æ»‘å— */
  .volume-control {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 1; /* ğŸ”¥ éŸ³é‡æ§åˆ¶å¯æ”¶ç¼© */
  }

  .volume-icon-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.2s;
    flex-shrink: 0;
  }

  .volume-icon-btn:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--brand-600);
    transform: scale(1.1);
  }

  /* éŸ³é‡æ»‘å—å®¹å™¨ */
  .volume-slider-container {
    width: 80px;
    min-width: 40px; /* ğŸ”¥ å…è®¸ç¼©å°åˆ°40px */
    height: 4px;
    position: relative;
    cursor: pointer;
    border-radius: 2px;
    background: rgba(100, 116, 139, 0.15);
    flex-shrink: 1; /* ğŸ”¥ æ»‘å—å¯æ”¶ç¼© */
  }

  /* éŸ³é‡æ»‘å—å¡«å…… */
  .volume-slider-fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--brand-600) 0%, var(--brand-500) 100%);
    border-radius: 2px;
    transition: width 0.1s linear;
    pointer-events: none;
  }

  /* éŸ³é‡æ»‘å—æ‰‹æŸ„ */
  .volume-slider-handle {
    position: absolute;
    right: -6px;
    top: 50%;
    transform: translateY(-50%) scale(0);
    width: 12px;
    height: 12px;
    background: white;
    border: 2px solid var(--brand-600);
    border-radius: 50%;
    opacity: 0;
    transition: all 0.2s;
    pointer-events: none;
    box-shadow: 0 2px 6px rgba(43, 111, 255, 0.25);
  }

  .volume-slider-container:hover .volume-slider-handle,
  .volume-slider-handle.active {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }

  .volume-slider-handle.active {
    transform: translateY(-50%) scale(1.15);
    box-shadow: 0 2px 8px rgba(43, 111, 255, 0.35);
  }

  /* æ–¹å½¢åœ†è§’åŠŸèƒ½æŒ‰é’® - "å¹½çµ"æ ·å¼ */
  /* âš™ï¸ åŠŸèƒ½æŒ‰é’® - çº¯å›¾æ ‡æ ·å¼ï¼ˆæ— æ¡†æ¶ï¼‰ */
  .function-square-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%; /* æ”¹ä¸ºåœ†å½¢ */
    background: transparent; /* é€æ˜èƒŒæ™¯ */    border: none; /* ç§»é™¤è¾¹æ¡† */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: none; /* ç§»é™¤é˜´å½± */
  }

  .function-square-btn:hover {
    background: rgba(0, 0, 0, 0.05); /* è½»å¾®èƒŒæ™¯ */
    color: var(--brand-600);
    transform: scale(1.1);
    box-shadow: none;
  }

  .function-square-btn:active {
    transform: scale(0.9);
    transition-duration: 0.1s;
  }

  /* æ¿€æ´»çŠ¶æ€ï¼ˆå¦‚æ”¶è—æŒ‰é’®ï¼‰ */
  .function-square-btn.active {
    background: transparent;
    border: none;
    color: #FF4D6D;
    box-shadow: none;
  }

  .function-square-btn.active:hover {
    background: rgba(255, 77, 109, 0.1);
    transform: scale(1.1);
    box-shadow: none;
  }

  /* é‡å¤æ’­æ”¾æŒ‡ç¤ºå™¨ */
  .repeat-indicator {
    position: absolute;
    top: -2px;
    right: -2px;
    font-size: 10px;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  /* ğŸ¯ é‡æ–°è®¾è®¡çš„ä¸»è¦å†…å®¹åŒºåŸŸ - ä¼˜åŒ–å¸ƒå±€ */
  .player-main-content {
    height: 120px; /* ä¸æ’­æ”¾å™¨æ€»é«˜åº¦ä¸€è‡´ */
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: var(--space-4) var(--space-6);
    position: relative;
    z-index: 2;
    gap: var(--space-3);
  }

  /* é¡¶éƒ¨åŒºåŸŸ - ä¸“è¾‘ä¿¡æ¯å’Œæ“ä½œæŒ‰é’®ï¼Œæ›´å®½æ¾çš„å¸ƒå±€ */
  .player-top-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    height: 48px; /* å›ºå®šé«˜åº¦ç¡®ä¿ä¸€è‡´æ€§ */
  }

  /* å·¦ä¾§ä¿¡æ¯åŒºåŸŸ - ä¸“è¾‘å°é¢å’Œæ›²ç›®ä¿¡æ¯ï¼Œä¼˜åŒ–é—´è· */
  .player-info-section {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex: 1;
    min-width: 0;
    max-width: 380px; /* é€‚å½“å‡å°å®½åº¦ */
  }

  /* å³ä¾§æ“ä½œæŒ‰é’®ç»„ - ç´§å‡‘æ’åˆ— */
  .player-actions-group {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex-shrink: 0;
  }

  /* ä¸­éƒ¨æ§åˆ¶åŒºåŸŸ - ç´§å‡‘ä½†æ¸…æ™°çš„å¸ƒå±€ */
  .player-control-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px; /* å›ºå®šé—´è· */
    width: 100%;
    height: 40px; /* å›ºå®šé«˜åº¦ */
  }

  .player-album-cover {
    position: relative;
    width: 48px; /* ç¨å¾®å‡å°å°ºå¯¸ */
    height: 48px;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);
    flex-shrink: 0;
  }

  /* ğŸ¯ å¯ç‚¹å‡»ä¸“è¾‘å°é¢æ ·å¼ */
  .clickable-album-cover {
    cursor: pointer;
    transition: all 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .clickable-album-cover:hover {
    transform: scale(1.02);
    box-shadow: 
      0 6px 20px rgba(0, 0, 0, 0.2),
      0 0 16px rgba(124, 92, 255, 0.15);
  }

  .clickable-album-cover:active {
    transform: scale(0.98);
    transition: transform 0.12s ease;
  }

  /* æ­Œè¯æç¤ºè¦†ç›–å±‚ */
  .album-lyrics-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.4);    opacity: 0;
    transition: opacity 0.25s ease;
    border-radius: 12px;
    color: #fff;
  }

  .clickable-album-cover:hover .album-lyrics-overlay {
    opacity: 1;
  }

  .album-lyrics-overlay svg {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }

  .album-cover-container {
    width: 100%;
    height: 100%;
    position: relative;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.6, 1);
    transform-style: preserve-3d;
    perspective: 200px;
  }

  .album-cover-face {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    overflow: hidden;
  }

  .album-cover-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .album-cover-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(108, 156, 255, 0.3), rgba(138, 108, 255, 0.3));
  }

  .album-cover-placeholder-new {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.3), rgba(59, 130, 246, 0.3));
  }

  /* æ­Œæ›²ä¿¡æ¯åŒºåŸŸ - ä¼˜åŒ–å¸ƒå±€ */
  .player-track-info {
    flex: 1;
    min-width: 0;
    position: relative;
    overflow: hidden;
    height: 40px; /* å›ºå®šé«˜åº¦ */
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .track-info-container {
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .track-info-new {
    position: absolute;
    inset: 0;
  }

  /* æ­Œæ›²ä¿¡æ¯ä¼˜åŒ– - ç´§å‡‘å¸ƒå±€ */
  .track-title {
    color: var(--text-primary); /* ä½¿ç”¨ä¸»é¢˜å˜é‡ */
    font-weight: 700; /* åŠ ç²—å­—ä½“ */
    font-size: 15px; /* ç¨å¾®å‡å° */
    line-height: 1.3; /* ç´§å‡‘è¡Œé«˜ */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin: 0 0 1px 0; /* å‡å°åº•éƒ¨é—´è· */
    letter-spacing: 0.2px;
  }

  .track-artist {
    color: var(--text-muted); /* ä½¿ç”¨ä¸»é¢˜å˜é‡ */
    font-size: 13px; /* ç¨å¾®å‡å° */
    font-weight: 500; /* å‡è½»å­—é‡ */
    line-height: 1.3; /* ç´§å‡‘è¡Œé«˜ */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin: 0;
    letter-spacing: 0.1px;
  }

  /* æ”¶è—åˆ†äº«æŒ‰é’® - é‡æ–°æ’åˆ—åçš„æ ·å¼ */
  .player-action-buttons {
    display: flex;
    gap: var(--space-2);
  }

  /* åŠŸèƒ½æŒ‰é’®ç»„ */
  .player-function-buttons {
    display: flex;
    gap: var(--space-2);
  }

  /* ğŸ¯ ç»ç’ƒæè´¨ç®€çº¦æŒ‰é’®æ ·å¼ - ä¼˜åŒ–å°ºå¯¸ */
  .card-action-btn {
    width: 32px; /* ç¨å¾®å¢å¤§ */
    height: 32px;
    border-radius: 8px;
    /* ç»ç’ƒæè´¨èƒŒæ™¯ */
    background: rgba(255, 255, 255, 0.12);    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted); /* ä½¿ç”¨ä¸»é¢˜å˜é‡ */
    cursor: pointer;
    transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }

  .card-action-btn:hover {
    background: rgba(255, 255, 255, 0.18);
    border-color: rgba(124, 92, 255, 0.3);
    color: #7C5CFF;
    transform: translateY(-1px) scale(1.05);
    box-shadow: 
      0 4px 16px rgba(0, 0, 0, 0.1),
      0 0 12px rgba(124, 92, 255, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.25);
  }

  .card-action-btn:active {
    transform: translateY(0) scale(0.95);
    transition: all 0.15s ease;
  }

  .card-action-btn.favorite-btn.active {
    background: linear-gradient(135deg, 
      rgba(124, 92, 255, 0.9), 
      rgba(99, 102, 241, 0.8)
    );
    border-color: rgba(124, 92, 255, 0.4);
    color: #fff;
    box-shadow: 
      0 4px 18px rgba(124, 92, 255, 0.25),
      0 0 16px rgba(124, 92, 255, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    animation: card-heart-pulse 2s ease-in-out infinite;
  }

  .card-action-btn.share-btn:hover {
    box-shadow: 
      0 4px 16px rgba(0, 0, 0, 0.12),
      0 0 20px rgba(124, 92, 255, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.25);
  }

  /* ç»ç’ƒæè´¨å¿ƒè·³åŠ¨ç”» */
  @keyframes card-heart-pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 
        0 4px 18px rgba(124, 92, 255, 0.25),
        0 0 16px rgba(124, 92, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 
        0 6px 22px rgba(124, 92, 255, 0.35),
        0 0 24px rgba(124, 92, 255, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
  }

  /* ä¸­é—´æ§åˆ¶åŒºåŸŸ - é‡æ–°æ’åˆ—åçš„æ ·å¼ */
  .player-center-controls {
    display: flex;
    align-items: center;
    gap: var(--space-3); /* å‡å°é—´è· */
    justify-content: center;
    height: 24px; /* å›ºå®šé«˜åº¦ */
  }

  .control-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    cursor: pointer;
    transition: all 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    color: #fff;
    position: relative;
  }

  /* ä¸»æ’­æ”¾æŒ‰é’® - ä¼˜åŒ–å°ºå¯¸é€‚é… */
  .primary-play-btn {
    width: 48px; /* å‡å°å°ºå¯¸ */
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #7C5CFF, #6366F1);
    box-shadow: 
      0 4px 14px rgba(124, 92, 255, 0.25),
      0 0 12px rgba(99, 102, 241, 0.15);
    position: relative;
    overflow: hidden;
    border: none;
    color: #fff;
  }

  .primary-play-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), transparent 50%);
    pointer-events: none;
  }

  .primary-play-btn:hover {
    transform: scale(1.05);
    box-shadow: 
      0 8px 24px rgba(124, 92, 255, 0.3),
      0 0 20px rgba(99, 102, 241, 0.2);
  }

  .primary-play-btn:active {
    transform: scale(0.95);
    transition: transform 0.12s ease;
  }

  .play-icon {
    margin-left: 2px;
  }

  /* æ¬¡çº§æ§åˆ¶æŒ‰é’® - ç™½è‰²èƒŒæ™¯é€‚é… */
  .secondary-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #F3F4F6; /* æµ…ç°è‰²èƒŒæ™¯ */
    border: 1px solid #E5E7EB; /* æµ…è¾¹æ¡† */
    color: var(--text-muted); /* ä½¿ç”¨ä¸»é¢˜å˜é‡ */
  }

  .secondary-btn:hover {
    background: #E5E7EB; /* ç¨æ·±çš„èƒŒæ™¯ */
    border-color: #7C5CFF; /* ä¸»é¢˜è‰²æè¾¹ */
    transform: translateY(-1px) scale(1.05);
    color: #7C5CFF; /* ä¸»é¢˜è‰²å›¾æ ‡ */
    box-shadow: 
      0 4px 14px rgba(0, 0, 0, 0.1),
      0 0 12px rgba(124, 92, 255, 0.2); /* ä¸»é¢˜è‰²å‘å…‰ */
  }

  .secondary-btn:active {
    transform: scale(0.95);
    transition: transform 0.12s ease;
  }

  .secondary-btn.active {
    background: linear-gradient(135deg, #7C5CFF, #6366F1);
    border-color: #7C5CFF;
    color: #fff;
    box-shadow: 
      0 4px 18px rgba(124, 92, 255, 0.3),
      0 0 16px rgba(124, 92, 255, 0.2);
  }

  .repeat-indicator {
    position: absolute;
    top: -2px;
    right: -2px;
    font-size: 10px;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  /* å³ä¾§åŠŸèƒ½æŒ‰é’®åŒºåŸŸ - ç°åœ¨åœ¨é¡¶éƒ¨å³ä¾§ */
  .player-right-functions {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex: 1;
    justify-content: flex-end;
    max-width: 200px;
  }

  /* å³ä¾§åŠŸèƒ½æŒ‰é’® - ç™½è‰²èƒŒæ™¯é€‚é… */
  .function-btn {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: #F3F4F6; /* æµ…ç°è‰²èƒŒæ™¯ */
    border: 1px solid #E5E7EB; /* æµ…è¾¹æ¡† */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted); /* ä½¿ç”¨ä¸»é¢˜å˜é‡ */
    cursor: pointer;
    transition: all 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .function-btn:hover {
    background: #E5E7EB; /* ç¨æ·±çš„èƒŒæ™¯ */
    border-color: #7C5CFF; /* ä¸»é¢˜è‰²æè¾¹ */
    color: #7C5CFF; /* ä¸»é¢˜è‰²å›¾æ ‡ */
    transform: translateY(-1px) scale(1.03);
    box-shadow: 
      0 3px 10px rgba(0, 0, 0, 0.1),
      0 0 8px rgba(124, 92, 255, 0.2); /* æŸ”å’Œå‘å…‰ */
  }

  .function-btn:active {
    transform: translateY(0) scale(0.97);
    transition: all 0.12s ease;
  }

  .function-btn.active {
    background: linear-gradient(135deg, #7C5CFF, #6366F1);
    border-color: #7C5CFF;
    color: #fff;
    box-shadow: 
      0 4px 14px rgba(124, 92, 255, 0.3),
      0 0 12px rgba(124, 92, 255, 0.2);
  }

  /* è¿›åº¦æ¡åŒºåŸŸ - é‡æ–°è®¾è®¡ï¼Œæ›´ç´§å‡‘ */
  .player-progress-section {
    width: 100%;
    max-width: 500px; /* ç¨å¾®å‡å°æœ€å¤§å®½åº¦ */
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 2px; /* å‡å°é—´è· */
    z-index: 3;
  }

  .progress-time-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px; /* ç¨å¾®å¢å¤§å­—å· */
    color: var(--text-muted); /* ä½¿ç”¨ä¸»é¢˜å˜é‡ */
    font-family: var(--font-mono);
    font-variant-numeric: tabular-nums;
    font-weight: 500;
    margin-bottom: 2px; /* ä¸è¿›åº¦æ¡ä¿æŒå°é—´è· */
  }

  .current-time,
  .total-time {
    font-weight: 600;
    line-height: 1;
    color: #374151; /* æ·±ç°è‰²æ—¶é—´æ˜¾ç¤º */
    letter-spacing: 0.3px; /* å¢åŠ å­—æ¯é—´è·æå‡å¯è¯»æ€§ */
  }

  .progress-bar-container {
    position: relative;
    height: 6px;
    cursor: pointer;
    border-radius: 3px;
    overflow: hidden;
    margin: 2px 0;
  }

  .progress-bar-container::after {
    content: '';
    position: absolute;
    inset: -8px 0;
    pointer-events: all;
  }

  .progress-track {
    position: absolute;
    inset: 0;
    background: #F3F4F6; /* æµ…ç°è‰²è½¨é“ */
    border: 1px solid #E5E7EB;
    border-radius: 3px;
  }

  .progress-fill {
    position: relative;
    height: 100%;
    /* ä½¿ç”¨ä¸»é¢˜æ¸å˜ - ä¸æ•´ä½“é£æ ¼å‘¼åº” */
    background: linear-gradient(90deg, #7C5CFF, #6366F1, #3B82F6);
    border-radius: 3px;
    transition: width 0.3s ease;
    box-shadow: 
      0 0 8px rgba(124, 92, 255, 0.2),
      0 0 4px rgba(99, 102, 241, 0.15);
  }

  .progress-thumb {
    position: absolute;
    right: -6px;
    top: 50%;
    transform: translateY(-50%);
    width: 12px;
    height: 12px;
    background: #fff;
    border-radius: 50%;
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.15),
      0 0 8px rgba(108, 156, 255, 0.3);
    opacity: 0;
    transform: translateY(-50%) scale(0);
    transition: all 0.15s ease;
  }

  .progress-bar-container:hover .progress-thumb,
  .progress-thumb.active {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }

  .progress-thumb.active {
    transform: translateY(-50%) scale(1.2);
    box-shadow: 
      0 4px 12px rgba(0, 0, 0, 0.2),
      0 0 12px rgba(108, 156, 255, 0.4);
  }

  /* åŠ¨ç”»æ•ˆæœ */
  @keyframes heart-pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 
        0 0 16px rgba(108, 156, 255, 0.4),
        0 4px 12px rgba(108, 156, 255, 0.2);
    }
  }

  @keyframes play-button-glow {
    0%, 100% {
      box-shadow: 
        0 6px 18px rgba(108, 156, 255, 0.35),
        0 0 22px rgba(138, 108, 255, 0.25),
        inset 0 1px 4px rgba(255, 255, 255, 0.3);
    }
    50% {
      box-shadow: 
        0 8px 24px rgba(108, 156, 255, 0.45),
        0 0 30px rgba(138, 108, 255, 0.35),
        inset 0 1px 4px rgba(255, 255, 255, 0.4);
    }
  }

  @keyframes share-radiance {
    0% {
      box-shadow: 0 0 8px rgba(108, 156, 255, 0.2);
    }
    50% {
      box-shadow: 
        0 0 16px rgba(108, 156, 255, 0.4),
        0 0 24px rgba(138, 108, 255, 0.2);
    }
    100% {
      box-shadow: 0 0 8px rgba(108, 156, 255, 0.2);
    }
  }

  /* å¢å¼ºæŒ‰é’®äº¤äº’åŠ¨ç”» */
  .primary-play-btn:not(:active):hover {
    animation: play-button-glow 2s ease-in-out infinite;
  }

  .share-btn:hover {
    animation: share-radiance 1.5s ease-in-out infinite;
  }

  /* æŒ‰é’®ç‚¹å‡»æ³¢çº¹æ•ˆæœ */
  .control-btn:active::before,
  .action-btn:active::before,
  .function-btn:active::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: rgba(255, 255, 255, 0.3);
    opacity: 1;
    animation: ripple-effect 0.4s ease-out;
    pointer-events: none;
  }

  @keyframes ripple-effect {
    0% {
      transform: scale(0.8);
      opacity: 1;
    }
    100% {
      transform: scale(1.2);
      opacity: 0;
    }
  }

  /* å“åº”å¼è°ƒæ•´ */
  @media (max-width: 768px) {
    .content-player-container {
      padding: 0; /* ç§»åŠ¨ç«¯ä¹Ÿè´´åˆè¾¹ç¼˜ */
    }
    
    .modern-player {
      height: 70px;    box-shadow: 
        0 -1px 0 0 rgba(255, 255, 255, 0.4) inset,
        0 -6px 24px rgba(0, 0, 0, 0.05),
        0 -2px 8px rgba(0, 0, 0, 0.03);
    }

    .app-content {
      padding-bottom: 110px; /* ç§»åŠ¨ç«¯æ’­æ”¾å™¨70px + ç¼“å†²40px */
    }

    .player-main-content {
      height: 100px; /* ä¸æ’­æ”¾å™¨é«˜åº¦ä¸€è‡´ */
      padding: var(--space-2) var(--space-4);
      gap: var(--space-1);
    }

    /* ç§»åŠ¨ç«¯å·¦ä¾§ä¿¡æ¯åŒºä¹Ÿéœ€è¦å›ºå®šå®½åº¦ */
    .player-left-section {
      width: 200px; /* ç§»åŠ¨ç«¯ç¨å¾®ç¼©å° */
      min-width: 200px;
      max-width: 200px;
    }

    .track-text-stack {
      width: 142px; /* 200px - 48px - 10px */
      min-width: 142px;
      max-width: 142px;
    }

    .track-title,
    .track-artist {
      max-width: 142px;
    }

    .player-actions-group {
      gap: var(--space-2);
    }

    .player-center-controls {
      gap: var(--space-3);
    }

    /* ğŸ¯ æ–°ä¸­è½´å¸ƒå±€çš„å“åº”å¼è°ƒæ•´ */
    .transport-area {
      width: 320px; /* ç§»åŠ¨ç«¯ç¼©å°ä¸­è½´å®½åº¦ */
      max-width: 320px;
    }

    /* éšè—å·¦å³å°é”®ï¼Œä»…ä¿ç•™ä¸­é—´ä¸‰é”® */
    .control-small-btn,
    .control-icon-btn {
      display: none; /* éšè—æ”¶è—ã€æ­Œè¯ã€æ›´å¤šç­‰æŒ‰é’® */
    }
    
    /* å°å±å¹•è°ƒæ•´é—´è· */
    .controls-left {
      padding-right: 16px;
    }
    
    .controls-right {
      padding-left: 16px;
    }
  }

    .player-album-cover {
      width: 48px;
      height: 48px;
    }

    .track-title {
      font-size: 15px;
    }

    .track-artist {
      font-size: 13px;
    }

    .primary-play-btn {
      width: 56px;
      height: 56px;
    }

    .secondary-btn {
      width: 36px;
      height: 36px;
    }

    .function-btn {
      width: 32px;
      height: 32px;
    }

  /* ğŸ¯ æ›´å°å±å¹•çš„å“åº”å¼è°ƒæ•´ */
  @media (max-width: 480px) {
    .transport-area {
      width: 280px; /* æ›´å°å±å¹•è¿›ä¸€æ­¥ç¼©å° */
      max-width: 280px;
    }

    /* è¶…å°å±å¹•è°ƒæ•´é—´è· */
    .controls-left {
      padding-right: 12px;
      gap: 6px;
    }
    
    .controls-right {
      padding-left: 12px;
      gap: 6px;
    }

    /* ç¨å¾®ç¼©å°æŒ‰é’® */
    .control-medium-btn {
      width: 32px;
      height: 32px;
    }

    .control-main-btn {
      width: 48px;
      height: 48px;
      border-radius: 12px;
    }

    /* è¶…å°å±å¹•å·¦ä¾§ä¿¡æ¯åŒºè¿›ä¸€æ­¥ç¼©å° */
    .player-left-section {
      width: 180px;
      min-width: 180px;
      max-width: 180px;
    }

    .track-text-stack {
      width: 122px; /* 180px - 48px - 10px */
      min-width: 122px;
      max-width: 122px;
    }

    .track-title,
    .track-artist {
      max-width: 122px;
      font-size: 14px; /* ç¨å°å­—ä½“ */
    }

    .track-artist {
      font-size: 12px;
    }
  }

    .player-right-functions {
      max-width: 150px;
      gap: var(--space-2);
    }

    .player-center-controls {
      gap: var(--space-3);
    }
  }

  @media (max-width: 480px) {
    .content-player-container {
      padding: 0; /* å°å±å¹•ä¹Ÿè´´åˆè¾¹ç¼˜ */
    }
    
    .modern-player {
      height: 60px;    box-shadow: 
        0 -1px 0 0 rgba(255, 255, 255, 0.3) inset,
        0 -4px 16px rgba(0, 0, 0, 0.05),
        0 -1px 4px rgba(0, 0, 0, 0.03);
    }

    .app-content > div[class*="overflow-y-auto"] {
      padding-bottom: 76px !important; /* å°å±å¹•æ’­æ”¾å™¨60px + é€‚åº¦ç•™ç™½16px */
    }

    .player-main-content {
      height: 90px; /* ä¸æ’­æ”¾å™¨é«˜åº¦ä¸€è‡´ */
      padding: var(--space-1) var(--space-3);
      gap: 1px;
    }

    .player-info-section {
      max-width: 200px;
      gap: var(--space-2);
    }

    .player-actions-group {
      gap: var(--space-1);
    }

    .player-center-controls {
      gap: var(--space-2);
    }

    .player-album-cover {
      width: 40px;
      height: 40px;
    }

    .track-title {
      font-size: 14px;
    }

    .track-artist {
      font-size: 12px;
    }

    .primary-play-btn {
      width: 48px;
      height: 48px;
    }

    .secondary-btn {
      width: 32px;
      height: 32px;
    }

    .function-btn {
      width: 28px;
      height: 28px;
    }

    .player-action-buttons {
      display: none; /* åœ¨å°å±å¹•ä¸Šéšè—æ”¶è—åˆ†äº«æŒ‰é’® */
    }

    .player-center-controls {
      gap: var(--space-2);
    }

    .player-right-functions {
      max-width: 120px;
      gap: var(--space-1);
    }

    .progress-time-info {
      font-size: 11px;
    }
  }

  /* åŸæœ‰æ’­æ”¾å™¨æ ·å¼ä¿æŒå…¼å®¹ */
  .liquid-card-player {
    background: rgba(255, 255, 255, 0.12);    border-top: 1px solid rgba(59, 130, 246, 0.25);
    box-shadow: 
      0 -4px 24px rgba(59, 130, 246, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  /* åŠ¨ç”»æ•ˆæœ */
  @keyframes liquid-shimmer {
    0% {
      background-position: 0% 0%;
      opacity: 0.5;
    }
    16.67% {
      background-position: 25% 25%;
      opacity: 0.65;
    }
    33.33% {
      background-position: 75% 50%;
      opacity: 0.7;
    }
    50% {
      background-position: 100% 75%;
      opacity: 0.6;
    }
    66.67% {
      background-position: 75% 100%;
      opacity: 0.8;
    }
    83.33% {
      background-position: 25% 75%;
      opacity: 0.4;
    }
    100% {
      background-position: 0% 0%;
      opacity: 0.5;
    }
  }

  @keyframes liquid-flow {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  @keyframes liquid-ripple {
    0% {
      transform: scale(0.8) rotate(0deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.2) rotate(180deg);
      opacity: 0.8;
    }
    100% {
      transform: scale(1.5) rotate(360deg);
      opacity: 0;
    }
  }

  /* ç¯å¢ƒå…‰æ•ˆæœ - æ ¹æ®é¼ æ ‡ä½ç½®å˜åŒ– */
  .liquid-card-interactive {
    position: relative;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    overflow: hidden;
  }

  /* ç¡®ä¿å­å…ƒç´ åœ¨æ­£ç¡®å±‚çº§ */
  .liquid-card-interactive > * {
    position: relative;
    z-index: 10;
  }

  .liquid-card-interactive::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.05) 0%,
      rgba(147, 197, 253, 0.03) 25%,
      rgba(59, 130, 246, 0.02) 50%,
      rgba(147, 197, 253, 0.03) 75%,
      rgba(255, 255, 255, 0.05) 100%
    );
    opacity: 0;
    transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    pointer-events: none;
    z-index: 1;
  }


  .liquid-card-interactive:hover::before {
    /* ç§»é™¤èƒŒæ™¯å…‰æ•ˆå˜åŒ– */
    opacity: 0;
  }

  /* æ¶Ÿæ¼ªåŠ¨ç”»æ•ˆæœ */
  .liquid-card-interactive::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(147, 197, 253, 0.08) 30%,
      rgba(59, 130, 246, 0.06) 60%,
      rgba(147, 197, 253, 0.04) 80%,
      transparent 100%
    );
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    pointer-events: none;
    z-index: 2;
  }

  .liquid-card-interactive:hover::after {
    /* ç§»é™¤æ¶Ÿæ¼ªåŠ¨ç”»æ•ˆæœ */
    width: 0;
    height: 0;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
  }

  @keyframes ripple-pulse {
    0% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    50% {
      transform: translate(-50%, -50%) scale(1.1);
      opacity: 0.8;
    }
    100% {
      transform: translate(-50%, -50%) scale(1.2);
      opacity: 0;
    }
  }

  /* æ·±åº¦æ„Ÿ - å¤šå±‚å åŠ  */
  .liquid-card-depth {
    position: relative;
  }

  .liquid-card-depth::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    right: 2px;
    bottom: 2px;
    background: rgba(59, 130, 246, 0.02);
    border-radius: 14px;    z-index: -1;
  }

  .liquid-card-depth::after {
    content: '';
    position: absolute;
    top: 4px;
    left: 4px;
    right: 4px;
    bottom: 4px;
    background: rgba(147, 197, 253, 0.01);
    border-radius: 12px;    z-index: -2;
  }

  /* ç»Ÿä¸€ä¸»è‰²æŒ‰é’®æ ·å¼ */
  .btn-primary {
    background: var(--accent);
    color: white;
    border: none;
    border-radius: var(--radius-small);
    padding: var(--space-1) var(--space-2);
    font-weight: 600;
    box-shadow: var(--shadow-sm);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    cursor: pointer;
  }

  .btn-primary:hover {
    background: var(--accent-2);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  /* ğŸ¯ é«˜å¯¹æ¯”åº¦å®ç”¨ç±» */
  .text-contrast-primary {
    color: var(--text-primary);
    font-weight: 600;
  }

  .text-contrast-secondary {
    color: var(--text-secondary);
    font-weight: 500;
  }

  .surface-contrast {
    background: var(--surface-primary);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-subtle);
  }

  .surface-contrast-elevated {
    background: var(--surface-primary);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-moderate);
  }

  /* é«˜å¯¹æ¯”åº¦æ¨¡å¼ä¸‹çš„è¡¨æ ¼æ ·å¼ */
  [data-contrast="high"] .card-surface table th {
    color: var(--text-primary);
    font-weight: 700;
    background: var(--surface-secondary);
    border-bottom: 2px solid var(--border-primary);
  }

  [data-contrast="high"] .card-surface table td {
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border-secondary);
  }

  [data-contrast="high"] .card-surface table tr:hover {
    background: var(--surface-secondary);
  }

  /* é«˜å¯¹æ¯”åº¦æ¨¡å¼ä¸‹çš„æŒ‰é’®æ ·å¼ */
  [data-contrast="high"] .btn-brand {
    background: var(--brand-600);
    color: white;
    font-weight: 700;
    border: 2px solid var(--brand-600);
  }

  [data-contrast="high"] .btn-brand:hover {
    background: var(--brand-500);
    border-color: var(--brand-500);
    transform: translateY(-1px);
  }

  /* é«˜å¯¹æ¯”åº¦æ¨¡å¼ä¸‹çš„è¾“å…¥æ¡†æ ·å¼ */
  [data-contrast="high"] .card-input {
    background: var(--surface-primary);
    border: 2px solid var(--border-primary);
    color: var(--text-primary);
    font-weight: 500;
  }

  [data-contrast="high"] .card-input:focus {
    border-color: var(--border-focus);
    background: var(--surface-primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }

  /* é«˜å¯¹æ¯”åº¦æ¨¡å¼ä¸‹çš„æ’­æ”¾å™¨æ ·å¼ */
  [data-contrast="high"] .player-bar {    background: rgba(255,255,255,0.55);
    border-top: 2px solid var(--border-primary);
  }

  [data-contrast="high"] .player-bar::before {
    background: radial-gradient(120% 100% at 50% 100%, rgba(2,6,23,0.45) 0%, rgba(2,6,23,0.25) 40%, transparent 70%);
  }

  [data-contrast="high"] .player-track-title {
    text-shadow: 0 1px 3px rgba(0,0,0,0.6);
  }

  [data-contrast="high"] .player-track-artist,
  [data-contrast="high"] .player-time {
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  }

  [data-contrast="high"] .player-secondary-btn {
    border: 2px solid rgba(255, 255, 255, 0.5);
  }

  [data-contrast="high"] .player-play-btn {
    border: 2px solid rgba(255, 255, 255, 0.3);
  }

  /* ä¸»è‰²è¿›åº¦æ¡ */
  .progress-primary {
    background: var(--accent);
    transition: width 0.3s ease;
  }

  /* æ´»è·ƒæ ‡ç­¾æ ·å¼ */
  .tab-active {
    color: white !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }

@layer utilities {
  /* ğŸ¯ Qå¼¹åŠ¨ç”»æ•ˆæœ */
  .bounce-indicator {
    transition: transform 0.6s var(--ease-bounce-out),
                opacity 0.6s var(--ease-bounce-out);
    will-change: transform, opacity;
    transform: translateZ(0);
  }
  
  .elastic-hover {
    transition: transform 0.25s var(--ease-elastic);
    will-change: transform;
    transform: translateZ(0);
  }
  
  .spring-click {
    transition: transform 0.15s var(--ease-back-out);
    will-change: transform;
    transform: translateZ(0);
  }
  
  /* ğŸ¨ æŒ‰é’®å¼¹æ€§äº¤äº’ */
  .btn-elastic {
    transition: transform 0.2s var(--ease-back-out);
    will-change: transform;
    transform: translateZ(0);
  }
  
  .btn-elastic:hover {
    transform: scale(1.02) translateZ(0);
  }
  
  .btn-elastic:active {
    transform: scale(0.98) translateZ(0);
    transition-duration: 0.1s;
  }
  
  /* ğŸŒŸ æŒ‡ç¤ºå™¨ä¸“ç”¨åŠ¨ç”» */
  .indicator-bounce {
    animation: indicatorBounce 0.6s var(--ease-bounce-out) forwards;
  }
  
  @keyframes indicatorBounce {
    0% {
      transform: translateY(var(--start-y, 0)) scale(0.95);
    }
    50% {
      transform: translateY(var(--mid-y, 0)) scale(1.05);
    }
    100% {
      transform: translateY(var(--end-y, 0)) scale(1);
    }
  }

  /* ğŸµ æ’­æ”¾å™¨æ­Œæ›²åˆ‡æ¢Qå¼¹åŠ¨ç”» */
  .animate-bounce-gentle {
    animation: bounceGentle 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
  }

  @keyframes bounceGentle {
    0% {
      transform: scale(1) translateZ(0);
    }
    50% {
      transform: scale(1.08) translateZ(0);
    }
    100% {
      transform: scale(1) translateZ(0);
    }
  }

  /* ğŸ¯ 3Då˜æ¢ç›¸å…³ */
  .preserve-3d {
    transform-style: preserve-3d;
  }
  
  .backface-hidden {
    backface-visibility: hidden;
  }
  
  /* ğŸ”§ æ­Œè¯æ»šåŠ¨å®¹å™¨ä¼˜åŒ– - é˜²æ­¢Reacté‡æ¸²æŸ“è¦†ç›–transform */
  .lyrics-scroll-container {
    contain: layout paint;
    backface-visibility: hidden;
  }
  
  .album-back {
    transform: rotateY(180deg);
  }

  /* ğŸ¯ ä¸“è¾‘å°é¢3Dç¿»è½¬åŠ¨ç”» */
  .album-flip-left {
    animation: albumFlipLeft 0.6s cubic-bezier(0.4, 0, 0.6, 1) forwards !important;
    transform-style: preserve-3d !important;
  }
  
  .album-flip-right {
    animation: albumFlipRight 0.6s cubic-bezier(0.4, 0, 0.6, 1) forwards !important;
    transform-style: preserve-3d !important;
  }

  @keyframes albumFlipLeft {
    0% {
      transform: rotateY(0deg);
    }
    100% {
      transform: rotateY(-180deg);
    }
  }

  @keyframes albumFlipRight {
    0% {
      transform: rotateY(0deg);
    }
    100% {
      transform: rotateY(180deg);
    }
  }

  /* ğŸ¯ æ­Œæ›²åæ»‘åŠ¨åˆ‡æ¢åŠ¨ç”» */
  .track-info-container {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  
  .track-info-content {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  
  .track-hidden {
    opacity: 0;
    transform: translateX(-200%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.6, 1);
  }
  
  .track-slide-left {
    transform: translateX(-100%) !important;
    opacity: 0 !important;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.6, 1) !important;
  }
  
  .track-slide-right {
    transform: translateX(100%) !important;
    opacity: 0 !important;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.6, 1) !important;
  }
  
  .track-slide-complete {
    transform: translateX(0);
    opacity: 1;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .track-prepare-right {
    transform: translateX(100%);
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
  }
  
  .track-prepare-left {
    transform: translateX(-100%);
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
  }
  
  .track-slide-from-right {
    transform: translateX(0) !important;
    opacity: 1 !important;
    transition: all 0.3s cubic-bezier(0.2, 0, 0.2, 1) !important;
    animation: slideInFromRight 0.3s cubic-bezier(0.2, 0, 0.2, 1) forwards !important;
  }
  
  .track-slide-from-left {
    transform: translateX(0) !important;
    opacity: 1 !important;
    transition: all 0.3s cubic-bezier(0.2, 0, 0.2, 1) !important;
    animation: slideInFromLeft 0.3s cubic-bezier(0.2, 0, 0.2, 1) forwards !important;
  }

  @keyframes slideInFromRight {
    0% {
      transform: translateX(100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slideInFromLeft {
    0% {
      transform: translateX(-100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }
  .text-balance {
    text-wrap: balance;
  }

  /* é¡µé¢è¿‡æ¸¡åŠ¨ç”» */
  .page-transition {
    animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .page-transition-out {
    animation: fadeOutDown 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeOutDown {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  }

  /* é¡µé¢åˆ‡æ¢æ•ˆæœ */
  .page-container {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .page-enter {
    opacity: 0;
    transform: translateX(30px);
  }

  .page-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .page-exit {
    opacity: 1;
    transform: translateX(0);
  }

  .page-exit-active {
    opacity: 0;
    transform: translateX(-30px);
    transition: all 0.3s cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  /* éšè—æ‰€æœ‰æ»šåŠ¨æ¡ */
  * {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  *::-webkit-scrollbar {
    display: none;
  }
  
  /* å…¨å±€ç¦ç”¨æ–‡å­—é€‰æ‹© - æå‡ç”¨æˆ·ä½“éªŒ */
  * {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }
  
  /* ç¦ç”¨æ‹–æ‹½é€‰æ‹©é«˜äº®æ•ˆæœ */
  ::selection {
    background: transparent;
  }
  ::-moz-selection {
    background: transparent;
  }
  
  /* å…è®¸æœç´¢æ¡†å’Œè¾“å…¥æ¡†é€‰æ‹©æ–‡å­— */
  input, textarea, [contenteditable="true"] {
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
  }
  
  /* æ¢å¤è¾“å…¥æ¡†çš„é€‰æ‹©é«˜äº®æ•ˆæœ */
  input::selection, textarea::selection, [contenteditable="true"]::selection {
    background: rgba(59, 130, 246, 0.3) !important;
    color: inherit !important;
  }
  input::-moz-selection, textarea::-moz-selection, [contenteditable="true"]::-moz-selection {
    background: rgba(59, 130, 246, 0.3) !important;
    color: inherit !important;
  }
  
  /* å…è®¸è°ƒè¯•ä¿¡æ¯å’Œé”™è¯¯æ¶ˆæ¯çš„æ–‡å­—é€‰æ‹©ï¼ˆä¾¿äºå¤åˆ¶ï¼‰ */
  .debug-info, .error-message, .console-output {
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
  }
  
  /* å…è®¸ç‰¹å®šéœ€è¦æ–‡å­—é€‰æ‹©çš„å…ƒç´  */
  .selectable-text {
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
  }

  /* æ²‰æµ¸å¼æ­Œè¯è¿‡æ¸¡åŠ¨ç”»æ”¯æŒ */
  .album-cover-target {
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  /* Qå¼¹åŠ¨ç”»è¾…åŠ©ç±» */
  .bouncy-entrance {
    animation: bouncyEntrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes bouncyEntrance {
    0% {
      transform: scale(0.3) translateY(20px);
      opacity: 0;
    }
    50% {
      transform: scale(1.05) translateY(-5px);
      opacity: 0.8;
    }
    70% {
      transform: scale(0.95) translateY(2px);
      opacity: 0.95;
    }
    100% {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }
  
  /* ç‰¹åˆ«é’ˆå¯¹ä¸»è¦å®¹å™¨çš„æ»šåŠ¨æ¡éšè— */
  main {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  main::-webkit-scrollbar {
    display: none;
  }
  
  .overflow-auto, .overflow-y-auto, .overflow-x-auto {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .overflow-auto::-webkit-scrollbar, 
  .overflow-y-auto::-webkit-scrollbar, 
  .overflow-x-auto::-webkit-scrollbar {
    display: none;
  }

  /* éšè—æ‰€æœ‰å¯èƒ½çš„æ»šåŠ¨æ¡å®¹å™¨å¹¶é˜²æ­¢æ ¹çº§æ»šåŠ¨ */
  html {
    height: 100vh;
    overflow: hidden; /* é˜²æ­¢htmlçº§æ»šåŠ¨ */
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  body {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  body::-webkit-scrollbar, 
  html::-webkit-scrollbar {
    display: none;
  }
}

/* =================================
   FULLSCREEN LYRICS ANIMATIONS
   ================================= */

/* ä¸“è¾‘å°é¢æ‰©å±•åŠ¨ç”» */
@keyframes album-expand {
  0% {
    transform: scale(0);
    border-radius: 50%;
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
    border-radius: 25%;
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    border-radius: 0%;
    opacity: 1;
  }
}

.animate-album-expand {
  animation: album-expand 0.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

/* =================================
   IMMERSIVE LYRICS SPECIFIC STYLES
   ================================= */

/* æ²‰æµ¸å¼æ­Œè¯è¿›å…¥/é€€å‡ºåŠ¨ç”» */
@keyframes immersive-fade-in {
  0% {
    opacity: 0;  }
  100% {
    opacity: 1;  }
}

@keyframes immersive-fade-out {
  0% {
    opacity: 1;  }
  100% {
    opacity: 0;  }
}

.immersive-enter {
  animation: immersive-fade-in 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.immersive-exit {
  animation: immersive-fade-out 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* åŠ¨ç”»å»¶è¿Ÿå·¥å…·ç±» */
.animation-delay-150 {
  animation-delay: 150ms;
}

.animation-delay-300 {
  animation-delay: 300ms;
}

.animation-delay-450 {
  animation-delay: 450ms;
}

/* =================================
   BLUR BACKDROP EFFECT
   ================================= */

/* æ¨¡ç³ŠèƒŒæ™¯æ¡æ ·å¼ - ç°è‰²åº•å±‚æ•ˆæœ */
.blur-backdrop {
  position: absolute;
  left: 0;
  width: 100%;
  height: 60px;
  /* ç»Ÿä¸€å“ç‰Œè‰²è°ƒï¼šæš—è‰²ä¸ºå“ç‰Œè“/é›è“çš„æŸ”å’Œç»ç’ƒæ¸å˜ï¼Œäº®è‰²ä¸ºæµ…å“ç‰Œè‰² */
  background: linear-gradient(135deg, rgba(43, 111, 255, 0.12), rgba(126, 200, 255, 0.10));    border-radius: 8px;
  border: 1px solid var(--card-border-outer);
  box-shadow: 0 2px 16px rgba(43, 111, 255, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 0;  /* æ”¾åœ¨åº•å±‚ï¼Œæ–‡å­—åœ¨ä¸Šæ–¹ */
}

/* æ¿€æ´»çŠ¶æ€ */
.blur-backdrop.active {
  opacity: 1;
}

/* Qå¼¹åŠ¨ç”»æ•ˆæœ - ç°åœ¨é€šè¿‡JavaScriptç›´æ¥æ§åˆ¶ */

/* é«˜å¼ºåº¦æ¨¡ç³Šæ•ˆæœ */
.blur-backdrop.high-intensity {    background: linear-gradient(135deg, rgba(43, 111, 255, 0.18), rgba(126, 200, 255, 0.14));
}

/* ä½å¼ºåº¦æ¨¡ç³Šæ•ˆæœ */
.blur-backdrop.low-intensity {    background: linear-gradient(135deg, rgba(43, 111, 255, 0.08), rgba(126, 200, 255, 0.06));
}

/* ğŸµ åˆ—è¡¨è¡Œé€‰ä¸­æ ·å¼ - ç®€æ´ä¸»é¢˜ç‰ˆ */
.selected-row {
  background: rgba(43, 111, 255, 0.06) !important;
  border-left: 3px solid var(--brand-600) !important;
}

/* æš—è‰²æ¨¡å¼ */
.dark .selected-row {
  background: rgba(43, 111, 255, 0.12) !important;
  border-left: 3px solid var(--brand-500) !important;
}

/* ç¡®ä¿tdèƒŒæ™¯é€æ˜ï¼Œæ˜¾ç¤ºtrçš„èƒŒæ™¯ */
.selected-row td {
  background: transparent !important;
}

/* ç¬¬ä¸€åˆ—éœ€è¦è¡¥å¿è¾¹æ¡†å®½åº¦ */
.selected-row td:first-child {
  padding-left: calc(1.5rem - 3px) !important;
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* æ­Œè¯é«˜äº®å‘å…‰åŠ¨ç”» - æ–°ç‰ˆå…‰æ™•æ•ˆæœ */
@keyframes lyrics-glow-pulse {
  0%, 100% {
    text-shadow: 
      0 0 20px rgba(255, 255, 255, 0.8),
      0 0 30px rgba(255, 255, 255, 0.6),
      0 0 40px rgba(255, 255, 255, 0.4),
      0 2px 15px rgba(255, 255, 255, 0.3);
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
  }
  50% {
    text-shadow: 
      0 0 25px rgba(255, 255, 255, 0.9),
      0 0 35px rgba(255, 255, 255, 0.7),
      0 0 50px rgba(255, 255, 255, 0.5),
      0 2px 20px rgba(255, 255, 255, 0.4);
    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.4));
  }
}

.lyrics-current-glow {
  animation: lyrics-glow-pulse 3s ease-in-out infinite;
}

/* æ­Œè¯æ·¡å…¥æ•ˆæœ */
@keyframes lyrics-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.1);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    text-shadow: 
      0 0 20px rgba(255, 255, 255, 0.8),
      0 0 30px rgba(255, 255, 255, 0.6),
      0 0 40px rgba(255, 255, 255, 0.4),
      0 2px 15px rgba(255, 255, 255, 0.3);
  }
}

.lyrics-fade-in {
  animation: lyrics-fade-in 1.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* æ­Œè¯æ·¡å‡ºæ•ˆæœ */
@keyframes lyrics-fade-out {
  0% {
    opacity: 1;
    text-shadow: 
      0 0 20px rgba(255, 255, 255, 0.8),
      0 0 30px rgba(255, 255, 255, 0.6),
      0 0 40px rgba(255, 255, 255, 0.4),
      0 2px 15px rgba(255, 255, 255, 0.3);
  }
  100% {
    opacity: 0.5;
    text-shadow: 0 1px 6px rgba(255, 255, 255, 0.2);
  }
}

.lyrics-fade-out {
  animation: lyrics-fade-out 1.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* èƒŒæ™¯æ¨¡ç³Šè„‰åŠ¨æ•ˆæœ */
@keyframes background-blur-pulse {
  0%, 100% {    filter: blur(1px) brightness(0.7);
  }
  50% {    filter: blur(1.5px) brightness(0.6);
  }
}

.background-blur-pulse {
  animation: background-blur-pulse 5.2s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
}

/* å…¨å±€å¹³æ»‘æ»šåŠ¨ */
* {
  scroll-behavior: smooth;
}

/* èƒŒæ™¯æ¸å˜æµåŠ¨åŠ¨ç”» */
@keyframes background-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.background-animated {
  background-size: 400% 400%;
  animation: background-flow 20s ease-in-out infinite;
}

/* æ­Œè¯æ–‡å­—å¼¹æ€§ç¼©æ”¾åŠ¨ç”» */
@keyframes lyrics-scale-in {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.lyrics-scale-enter {
  animation: lyrics-scale-in 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* å…‰ç²’å­æ•ˆæœåŠ¨ç”» */
@keyframes particle-float {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
    opacity: 0.3;
  }
  33% {
    transform: translateY(-20px) translateX(10px);
    opacity: 0.6;
  }
  66% {
    transform: translateY(-10px) translateX(-5px);
    opacity: 0.4;
  }
}

.particle-effect {
  animation: particle-float 8s ease-in-out infinite;
}

/* æ­Œè¯å®¹å™¨å‘¼å¸åŠ¨ç”» */
@keyframes lyrics-breathe {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.01);
  }
}

.lyrics-container-breathe {
  animation: lyrics-breathe 6s ease-in-out infinite;
}

/* æ²‰æµ¸å¼æ¨¡å¼æŒ‰é’®æ‚¬æµ®åŠ¨ç”» */
@keyframes immersive-button-float {
  0%, 100% {
    transform: translateY(0px);
    box-shadow: 0 4px 12px rgba(124, 92, 255, 0.2);
  }
  50% {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(124, 92, 255, 0.3);
  }
}

.immersive-button-hover {
  animation: immersive-button-float 2s ease-in-out infinite;
}

/* =================================
   LIQUID GLASS BUTTON EFFECTS
   ================================= */

/* æ¶²æ€ç»ç’ƒæŒ‰é’®åŸºç¡€æ ·å¼ */
.liquid-card-btn {
  position: relative;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.05) 100%);    border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  box-shadow: 
    0 4px 15px rgba(0, 0, 0, 0.1),
    0 1px 6px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(255, 255, 255, 0.1);
}

/* æ¶²æ€ç»ç’ƒæŒ‰é’®å†…éƒ¨å…‰æ•ˆ */
.liquid-card-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.2) 50%, 
    transparent 100%);
  transition: left 0.6s ease;
  pointer-events: none;
}

/* æ¶²æ€ç»ç’ƒæŒ‰é’®æµåŠ¨å…‰æ•ˆ */
.liquid-card-btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, 
    rgba(255, 255, 255, 0.1) 0%, 
    transparent 70%);
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

/* æ‚¬åœçŠ¶æ€ */
.liquid-card-btn:hover {
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.15) 0%,
    rgba(255, 255, 255, 0.08) 100%);
  border-color: rgba(255, 255, 255, 0.3);
  color: rgba(255, 255, 255, 1);
  transform: translateY(-2px) scale(1.02);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.15),
    0 3px 12px rgba(0, 0, 0, 0.1),
    0 0 20px rgba(255, 255, 255, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(255, 255, 255, 0.2);
}

.liquid-card-btn:hover::before {
  left: 100%;
}

.liquid-card-btn:hover::after {
  opacity: 1;
}

/* æŒ‰ä¸‹çŠ¶æ€ */
.liquid-card-btn:active {
  transform: translateY(0) scale(0.98);
  transition: all 0.15s ease;
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(255, 255, 255, 0.1);
}

/* æ´»è·ƒçŠ¶æ€ï¼ˆå¦‚æ’­æ”¾ä¸­ï¼‰ */
.liquid-card-btn.active {
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.2) 0%,
    rgba(255, 255, 255, 0.1) 100%);
  border-color: rgba(255, 255, 255, 0.4);
  color: rgba(255, 255, 255, 1);
  box-shadow: 
    0 6px 20px rgba(0, 0, 0, 0.15),
    0 0 30px rgba(255, 255, 255, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(255, 255, 255, 0.2);
  animation: liquid-card-pulse 2s ease-in-out infinite;
}

/* æ¶²æ€ç»ç’ƒè„‰åŠ¨åŠ¨ç”» */
@keyframes liquid-card-pulse {
  0%, 100% {
    box-shadow: 
      0 6px 20px rgba(0, 0, 0, 0.15),
      0 0 30px rgba(255, 255, 255, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.5),
      inset 0 -1px 0 rgba(255, 255, 255, 0.2);
  }
  50% {
    box-shadow: 
      0 8px 25px rgba(0, 0, 0, 0.2),
      0 0 40px rgba(255, 255, 255, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.6),
      inset 0 -1px 0 rgba(255, 255, 255, 0.3);
  }
}

/* æ¶²æ€ç»ç’ƒæ¶Ÿæ¼ªæ•ˆæœ */
.liquid-card-btn:active::before {
  left: 0;
  transition: none;
  background: radial-gradient(circle, 
    rgba(255, 255, 255, 0.3) 0%, 
    transparent 50%);
  animation: liquid-ripple 0.6s ease-out;
}

@keyframes liquid-ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* è®¾ç½®é¡µé¢æŸ”å’Œæ·¡å…¥åŠ¨ç”» */
@keyframes fade-slide-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.settings-tab-content {
  will-change: transform, opacity;
}

.animate-fade-slide-up {
  animation: fade-slide-up 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* =================================
   æ’­æ”¾å™¨æ§ä»¶å¢å¼ºåŠ¨ç”»
   ================================= */

/* æ’­æ”¾/æš‚åœå›¾æ ‡åˆ‡æ¢åŠ¨ç”» */
@keyframes icon-morph-in {
  0% {
    opacity: 0;
    transform: scale(0.6) rotate(-90deg);
  }
  60% {
    transform: scale(1.1) rotate(0deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

.control-main-btn svg {
  animation: icon-morph-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* æ”¶è—æŒ‰é’®å¿ƒè·³æ•ˆæœ */
@keyframes favorite-heartbeat-player {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(1.2);
  }
  20%, 40% {
    transform: scale(1.1);
  }
  50% {
    transform: scale(1.25);
  }
  60% {
    transform: scale(1);
  }
}

.function-square-btn.active svg {
  animation: favorite-heartbeat-player 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* å¾ªç¯æŒ‰é’®æ—‹è½¬åŠ¨ç”» */
@keyframes repeat-mode-rotate {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.15);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}

.control-small-btn.repeat-mode-change svg {
  animation: repeat-mode-rotate 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* éšæœºæ’­æ”¾æ¿€æ´»åŠ¨ç”» */
@keyframes shuffle-activate {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-3px);
  }
  75% {
    transform: translateX(3px);
  }
}

.control-small-btn.shuffle-activate svg {
  animation: shuffle-activate 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* =================================
   è¿›åº¦æ¡äº¤äº’å¢å¼º
   ================================= */

/* æ‹–æ‹½æ—¶çš„è„‰åŠ¨æ•ˆæœ */
@keyframes progress-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(124, 92, 255, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(124, 92, 255, 0);
  }
}

.progress-handle.active {
  animation: progress-pulse 1.5s ease-out infinite;
}

/* ç‚¹å‡»è¿›åº¦æ¡çš„æ³¢çº¹æ•ˆæœ */
@keyframes progress-ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

.progress-ripple {
  position: absolute;
  top: 50%;
  left: var(--ripple-x, 50%);
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(124, 92, 255, 0.6) 0%, rgba(124, 92, 255, 0.2) 70%, transparent 100%);
  pointer-events: none;
  animation: progress-ripple 0.6s ease-out;
}

/* æ‚¬åœæ—¶è¿›åº¦æ¡è½¨é“é«˜äº® */
.progress-container:hover .progress-track {
  background: linear-gradient(to right, 
    rgba(124, 92, 255, 0.15) 0%,
    rgba(124, 92, 255, 0.08) 100%);
  transition: background 0.3s ease;
}

/* =================================
   ç©ºçŠ¶æ€åŠ¨ç”»
   ================================= */

/* å›¾æ ‡æ‚¬æµ®å‘¼å¸ */
@keyframes empty-state-float {
  0%, 100% {
    transform: translateY(0px) scale(1);
  }
  50% {
    transform: translateY(-10px) scale(1.05);
  }
}

.empty-state-icon {
  animation: empty-state-float 3s ease-in-out infinite;
}

/* æ–‡å­—æ·¡å…¥æ·¡å‡º */
@keyframes text-fade-pulse {
  0%, 100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
}

.empty-state-text {
  animation: text-fade-pulse 2s ease-in-out infinite;
}

/* =================================
   åŠ è½½æŒ‡ç¤ºå™¨ä¼˜åŒ–
   ================================= */

/* è‡ªå®šä¹‰ä¸‰ç‚¹è·³è·ƒåŠ è½½ */
@keyframes dot-bounce {
  0%, 80%, 100% {
    transform: translateY(0) scale(1);
    opacity: 0.7;
  }
  40% {
    transform: translateY(-12px) scale(1.2);
    opacity: 1;
  }
}

.loading-dots span {
  display: inline-block;
  width: 8px;
  height: 8px;
  margin: 0 3px;
  background: currentColor;
  border-radius: 50%;
  animation: dot-bounce 1.4s ease-in-out infinite;
}

.loading-dots span:nth-child(1) {
  animation-delay: 0s;
}

.loading-dots span:nth-child(2) {
  animation-delay: 0.2s;
}

.loading-dots span:nth-child(3) {
  animation-delay: 0.4s;
}

/* ç¯å½¢åŠ è½½å™¨ */
@keyframes ring-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.ring-loader {
  border: 3px solid rgba(124, 92, 255, 0.2);
  border-top-color: var(--brand-600);
  border-radius: 50%;
  animation: ring-spin 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
}

/* =================================
   é€‰é¡¹å¡åˆ‡æ¢åŠ¨ç”»
   ================================= */

/* é€‰é¡¹å¡ä¸‹åˆ’çº¿æ»‘åŠ¨ï¼ˆç”¨äºå…¶ä»–é¡µé¢ï¼Œä¸å½±å“éŸ³ä¹åº“ï¼‰ */
.settings-tab-indicator {
  position: absolute;
  bottom: 0;
  height: 3px;
  background: linear-gradient(to right, var(--brand-600), var(--brand-500));
  border-radius: 3px 3px 0 0;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  box-shadow: 0 -2px 8px rgba(124, 92, 255, 0.3);
}

/* é€‰é¡¹å¡å†…å®¹æ·¡å…¥ */
@keyframes tab-content-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.tab-content-active {
  animation: tab-content-fade-in 0.3s ease-out;
}

/* æ¿€æ´»é€‰é¡¹å¡çš„å¼ºè°ƒåŠ¨ç”» */
@keyframes tab-activate {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

.tab-button.active {
  animation: tab-activate 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* =================================
   ä¾§è¾¹æ å¢å¼ºåŠ¨ç”»
   ================================= */

/* æ­Œå•å›¾æ ‡å¼¹è·³ */
@keyframes playlist-icon-bounce {
  0%, 100% {
    transform: scale(1) rotate(0deg);
  }
  25% {
    transform: scale(1.15) rotate(-5deg);
  }
  75% {
    transform: scale(1.15) rotate(5deg);
  }
}

.playlist-icon-hover {
  animation: playlist-icon-bounce 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* åˆ›å»ºæ­Œå•å¼¹çª—æˆå‰§æ€§å…¥åœº */
@keyframes modal-dramatic-enter {
  0% {
    opacity: 0;
    transform: scale(0.7) translateY(-50px) rotateX(20deg);
  }
  60% {
    opacity: 1;
    transform: scale(1.05) translateY(0) rotateX(-5deg);
  }
  100% {
    transform: scale(1) translateY(0) rotateX(0deg);
  }
}

.modal-dramatic {
  animation: modal-dramatic-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform-style: preserve-3d;
}

/* =================================
   Toasté€šçŸ¥å¢å¼º
   ================================= */

/* Toastè¿›åº¦æ¡ */
@keyframes toast-progress {
  0% {
    width: 100%;
  }
  100% {
    width: 0%;
  }
}

.toast-progress-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(to right, currentColor, transparent);
  animation: toast-progress var(--duration, 3s) linear;
}

/* æˆåŠŸToastå¼¹è·³å…¥åœº */
@keyframes toast-success-enter {
  0% {
    opacity: 0;
    transform: translateX(100%) scale(0.8);
  }
  60% {
    opacity: 1;
    transform: translateX(-10px) scale(1.05);
  }
  100% {
    transform: translateX(0) scale(1);
  }
}

/* é”™è¯¯Toastéœ‡åŠ¨å…¥åœº */
@keyframes toast-error-enter {
  0% {
    opacity: 0;
    transform: translateX(100%);
  }
  50% {
    opacity: 1;
    transform: translateX(-5px);
  }
  60% {
    transform: translateX(5px);
  }
  70% {
    transform: translateX(-3px);
  }
  80% {
    transform: translateX(3px);
  }
  100% {
    transform: translateX(0);
  }
}

/* è­¦å‘ŠToastè„‰å†²å…¥åœº */
@keyframes toast-warning-enter {
  0% {
    opacity: 0;
    transform: translateX(100%) scale(0.9);
  }
  50% {
    opacity: 1;
    transform: translateX(0) scale(1.08);
  }
  75% {
    transform: scale(0.98);
  }
  100% {
    transform: scale(1);
  }
}

.toast-success {
  animation: toast-success-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.toast-error {
  animation: toast-error-enter 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.toast-warning {
  animation: toast-warning-enter 0.45s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Toastå…³é—­æŒ‰é’®æ—‹è½¬ */
.toast-close-btn:hover {
  transform: rotate(90deg);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* =================================
   å…‰æ³½æ•ˆæœåŸºç¡€æ ·å¼
   ================================= */

/* å…‰æ³½å±‚å®¹å™¨ */
.mouse-gloss-container {
  position: relative;
  overflow: hidden;
}

.mouse-gloss-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  z-index: 1;
}

/* ä¸ºæŒ‰é’®å’Œå¡ç‰‡æ·»åŠ å…‰æ³½æ”¯æŒ */
.control-main-btn,
.control-medium-btn,
.control-small-btn,
.function-square-btn {
  position: relative;
  overflow: hidden;
}

/* 3Då¡ç‰‡å€¾æ–œæ•ˆæœï¼ˆå¯é€‰ï¼‰ */
.card-3d-tilt {
  transform-style: preserve-3d;
  transition: transform 0.3s ease;
}

.card-3d-tilt:hover {
  transform: perspective(1000px) rotateX(var(--tilt-x, 0deg)) rotateY(var(--tilt-y, 0deg)) scale(1.02);
}

/* =================================
   åŠ¨ç”»ç¦ç”¨æ§åˆ¶
   ================================= */

/* å…¨å±€ç¦ç”¨æ‰€æœ‰åŠ¨ç”» */
body.animations-disabled * {
  animation: none !important;
  transition: none !important;
}

body.animations-disabled .page-transition,
body.animations-disabled .animate-fade-slide-up,
body.animations-disabled .tab-content-active {
  animation: none !important;
}

/* æ’­æ”¾å™¨æ§ä»¶åŠ¨ç”»ç¦ç”¨ */
body.no-icon-morph .control-main-btn svg {
  animation: none !important;
}

body.no-heartbeat .function-square-btn.active svg {
  animation: none !important;
}

body.no-rotate .control-small-btn.repeat-mode-change svg {
  animation: none !important;
}

body.no-shuffle .control-small-btn.shuffle-activate svg {
  animation: none !important;
}

/* è¿›åº¦æ¡åŠ¨ç”»ç¦ç”¨ */
body.no-progress-pulse .progress-handle.active {
  animation: none !important;
}

body.no-progress-ripple .progress-ripple {
  display: none !important;
}

/* ç©ºçŠ¶æ€åŠ¨ç”»ç¦ç”¨ */
body.no-empty-float .empty-state-icon {
  animation: none !important;
}

body.no-text-pulse .empty-state-text {
  animation: none !important;
}

/* ä¾§è¾¹æ åŠ¨ç”»ç¦ç”¨ */
body.no-playlist-bounce .playlist-icon-hover {
  animation: none !important;
}

body.no-modal-dramatic .modal-dramatic {
  animation: none !important;
}

/* Toast åŠ¨ç”»ç¦ç”¨ */
body.animations-disabled .toast-success,
body.animations-disabled .toast-error,
body.animations-disabled .toast-warning {
  animation: none !important;
  opacity: 1 !important;
  transform: none !important;
}

body.animations-disabled .toast-progress-bar {
  animation: none !important;
}

/* =================================
   æ­Œè¯åŠ¨ç”»é¢„è§ˆæ•ˆæœ
   ================================= */

/* å¼¹æ€§Qå¼¹åŠ¨ç”»é¢„è§ˆ */
@keyframes lyrics-preview-bouncy-soft {
  0% {
    transform: translateY(10px) scale(0.9);
    opacity: 0;
  }
  60% {
    transform: translateY(-5px) scale(1.1);
    opacity: 1;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes lyrics-preview-bouncy-strong {
  0% {
    transform: translateY(15px) scale(0.85);
    opacity: 0;
  }
  50% {
    transform: translateY(-8px) scale(1.15);
    opacity: 1;
  }
  70% {
    transform: translateY(3px) scale(0.95);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes lyrics-preview-bouncy-playful {
  0% {
    transform: translateY(12px) scale(0.88) rotate(-2deg);
    opacity: 0;
  }
  40% {
    transform: translateY(-6px) scale(1.12) rotate(2deg);
    opacity: 1;
  }
  65% {
    transform: translateY(2px) scale(0.96) rotate(-1deg);
  }
  85% {
    transform: translateY(-1px) scale(1.02) rotate(0.5deg);
  }
  100% {
    transform: translateY(0) scale(1) rotate(0);
    opacity: 1;
  }
}

@keyframes lyrics-preview-elastic-soft {
  0% {
    transform: scale(0.85);
    opacity: 0;
  }
  50% {
    transform: scale(1.12);
    opacity: 1;
  }
  75% {
    transform: scale(0.97);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes lyrics-preview-elastic-strong {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  40% {
    transform: scale(1.2);
    opacity: 1;
  }
  60% {
    transform: scale(0.92);
  }
  80% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* å¹³æ»‘æµç•…åŠ¨ç”»é¢„è§ˆ */
@keyframes lyrics-preview-smooth {
  0% {
    transform: translateY(8px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* å¿«é€ŸåŠ¨ç”»é¢„è§ˆ */
@keyframes lyrics-preview-fast {
  0% {
    transform: translateY(5px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* æ…¢é€ŸåŠ¨ç”»é¢„è§ˆ */
@keyframes lyrics-preview-slow {
  0% {
    transform: translateY(12px) scale(0.95);
    opacity: 0;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}