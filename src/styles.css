@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================================
   音乐库简洁主题样式 (温柔米白主题)
   =================================== */

.library-simple {
  padding: 24px 0;
  width: 100%;
  height: 100%;
  background: transparent;
  display: flex;
  flex-direction: column;
}

/* 顶部标题区 */
.library-header {
  margin-bottom: 16px;
  padding: 0 40px;
}

.library-title {
  font-size: 24px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 10px 0;
  letter-spacing: 0.01em;
}

/* 统计栏 */
.library-stats-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: var(--text-sm);
  color: var(--text-muted);
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

.stat-label {
  color: var(--text-muted);
  font-weight: 400;
}

.stat-value {
  color: var(--text-primary);
  font-weight: 600;
}

.stat-divider {
  color: var(--border-primary);
  opacity: 0.6;
}

.stat-item.search-result {
  color: var(--brand-600);
  font-weight: 500;
}

/* 操作栏 */
.library-actions {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
  padding: 0 40px 14px 40px;
  border-bottom: 1px solid rgba(217, 214, 208, 0.4);
}

.action-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 7px 14px;
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid rgba(217, 214, 208, 0.5);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all var(--dur-fast) var(--ease-productive);
  position: relative;
}

.action-btn:hover {
  background: rgba(255, 255, 255, 0.8);
  border-color: rgba(217, 214, 208, 0.7);
  transform: translateY(-1px);
}

/* 🔄 动画按钮通用样式 */
.animated-button {
  width: 40px;
  height: 40px;
  padding: 0;
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(248, 247, 244, 0.7));
  border: 1px solid rgba(217, 214, 208, 0.4);
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  cursor: pointer;
  transition-duration: 0.3s;
  overflow: hidden;
  position: relative;
}

.animated-button .svgIcon {
  width: 14px;
  transition-duration: 0.3s;
}

.animated-button:hover {
  width: 100px;
  border-radius: 25px;
  transition-duration: 0.3s;
  box-shadow: 0 4px 16px rgba(43, 111, 255, 0.25);
  align-items: center;
}

.animated-button:hover .svgIcon {
  width: 18px;
  transition-duration: 0.3s;
  transform: translateY(60%);
}

.animated-button::before {
  position: absolute;
  top: -20px;
  left: 0;
  right: 0;
  text-align: center;
  color: white;
  transition-duration: 0.3s;
  font-size: 2px;
  font-weight: 500;
  white-space: nowrap;
}

.animated-button:hover::before {
  font-size: 13px;
  opacity: 1;
  transform: translateY(30px);
  transition-duration: 0.3s;
}

.animated-button:active {
  transform: scale(0.95);
}

/* 禁用状态 */
.animated-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
}

.animated-button:disabled:hover {
  width: 40px;
  border-radius: 50%;
  transform: none;
}

/* 刷新按钮 */
.refresh-button:hover {
  background: var(--brand-600);
  border-color: var(--brand-600);
}

.refresh-button::before {
  content: "刷新";
}

.refresh-button:hover .svgIcon {
  transform: translateY(60%) rotate(180deg);
}

.refresh-button:active .svgIcon {
  animation: refreshSpin 0.5s ease-in-out;
}

@keyframes refreshSpin {
  0% { transform: translateY(60%) rotate(180deg); }
  100% { transform: translateY(60%) rotate(540deg); }
}

/* 播放全部按钮 */
.play-all-button:hover {
  background: linear-gradient(135deg, var(--brand-600), var(--brand-700));
  border-color: var(--brand-600);
  width: 110px;
}

.play-all-button::before {
  content: "播放全部";
}

.play-all-button:active .svgIcon {
  animation: playPulse 0.4s ease-in-out;
}

@keyframes playPulse {
  0%, 100% { transform: translateY(60%) scale(1); }
  50% { transform: translateY(60%) scale(1.3); }
}

.action-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.action-btn-primary {
  background: var(--brand-600);
  border-color: var(--brand-600);
  color: white;
}

.action-btn-primary:hover {
  background: var(--brand-700);
  border-color: var(--brand-700);
  box-shadow: 0 4px 12px rgba(43, 111, 255, 0.2);
}

/* 视图切换标签 */
.view-tabs {
  display: flex;
  gap: 3px;
  margin-left: auto;
  background: rgba(217, 214, 208, 0.15);
  padding: 3px;
  border-radius: var(--radius-md);
  position: relative;
}

/* 滑动指示器 */
.view-tabs-slider {
  position: absolute;
  top: 3px;
  left: 3px;
  width: calc((100% - 12px) / 3);
  height: calc(100% - 6px);
  background: rgba(255, 255, 255, 0.9);
  border-radius: var(--radius-sm);
  box-shadow: 0 2px 8px rgba(43, 111, 255, 0.12);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 0;
}

.view-tab {
  padding: 6px 14px;
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-muted);
  cursor: pointer;
  transition: color 0.2s ease;
  position: relative;
  z-index: 1;
  flex: 1;
  text-align: center;
}

.view-tab:hover {
  color: var(--text-secondary);
}

.view-tab.active {
  color: var(--brand-600);
}

/* 错误提示 */
.library-error {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: #FEF2F2;
  border: 1px solid #FCA5A5;
  border-radius: 8px;
  margin-bottom: 16px;
  color: #991B1B;
  font-size: 14px;
}

.library-error button {
  margin-left: auto;
  width: 24px;
  height: 24px;
  background: transparent;
  border: none;
  color: #991B1B;
  font-size: 20px;
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.15s;
}

.library-error button:hover {
  opacity: 1;
}

/* 扫描进度 */
.library-scanning {
  padding: 16px;
  background: #EFF6FF;
  border: 1px solid #BFDBFE;
  border-radius: 8px;
  margin-bottom: 16px;
}

.scanning-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #1E40AF;
}

.scanning-progress {
  font-size: 13px;
  color: #2563EB;
}

.progress-bar {
  height: 4px;
  background: #DBEAFE;
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 8px;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #2563EB 0%, #60A5FA 100%);
  transition: width 0.3s ease;
}

.scanning-file {
  font-size: 12px;
  color: #6B7280;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 主内容区 */
.library-content {
  background: transparent;
  border: none;
  border-radius: 0;
  overflow: hidden;
  flex: 1;
  min-height: 0;
}

/* 加载状态 */
.library-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
  gap: 16px;
}

.library-loading .ring-loader {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(217, 214, 208, 0.3);
  border-top-color: var(--brand-600);
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.library-loading p {
  font-size: var(--text-base);
  color: var(--text-muted);
  font-weight: 500;
}

/* 空状态 */
.library-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 100px 20px;
  text-align: center;
}

.empty-icon {
  width: 56px;
  height: 56px;
  color: rgba(217, 214, 208, 0.6);
  margin-bottom: 16px;
}

.library-empty h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-secondary);
  margin: 0 0 8px 0;
}

.library-empty p {
  font-size: var(--text-sm);
  color: var(--text-muted);
  max-width: 400px;
  margin: 0;
  line-height: var(--leading-relaxed);
}

/* 响应式 */
@media (max-width: 1024px) {
  .library-header {
    padding: 0 32px;
  }
  
  .library-actions {
    flex-wrap: wrap;
    padding: 0 32px 14px 32px;
  }
  
  .view-tabs {
    margin-left: 0;
    width: 100%;
    justify-content: stretch;
  }
  
  .view-tab {
    flex: 1;
    text-align: center;
  }
}

@media (max-width: 768px) {
  .library-header {
    padding: 0 20px;
  }
  
  .library-actions {
    padding: 0 20px 14px 20px;
  }
  
  .library-title {
    font-size: 24px;
  }
  
  .library-stats-bar {
    flex-wrap: wrap;
    gap: 8px;
  }
}

/* 歌曲行样式 - 悬停效果由全局跟随指示器提供 */
tbody tr {
  transition: all 0.2s ease-out;
}

/* 深色模式适配 */
[data-theme="dark"] .library-simple {
  color: var(--text-primary);
}

[data-theme="dark"] .library-title {
  color: var(--text-primary);
}

[data-theme="dark"] .stat-label {
  color: var(--text-muted);
}

[data-theme="dark"] .stat-value {
  color: var(--text-primary);
}

[data-theme="dark"] .action-btn {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
  color: var(--text-secondary);
}

[data-theme="dark"] .action-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .view-tabs {
  background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .view-tabs-slider {
  background: var(--brand-600);
  box-shadow: 0 2px 8px rgba(43, 111, 255, 0.3);
}

[data-theme="dark"] .view-tab {
  color: var(--text-muted);
}

[data-theme="dark"] .view-tab:hover {
  color: var(--text-secondary);
}

[data-theme="dark"] .view-tab.active {
  color: white;
}

[data-theme="dark"] .library-content {
  background: transparent;
  border: none;
}

[data-theme="dark"] .library-empty h3 {
  color: var(--text-secondary);
}

[data-theme="dark"] .library-empty p {
  color: var(--text-muted);
}

[data-theme="dark"] .empty-icon {
  color: rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .library-loading .ring-loader {
  border-color: rgba(255, 255, 255, 0.1);
  border-top-color: var(--brand-600);
}

[data-theme="dark"] .animated-button {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05));
  border-color: rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .animated-button .svgIcon {
  color: var(--text-secondary);
}

[data-theme="dark"] .refresh-button:hover,
[data-theme="dark"] .play-all-button:hover {
  background: var(--brand-600);
  border-color: var(--brand-600);
}

[data-theme="dark"] .play-all-button:hover {
  background: linear-gradient(135deg, var(--brand-600), var(--brand-700));
}

/* ============================================
   歌手视图样式 - 现代横向卡片布局
   ============================================ */

.artists-modern-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 12px;
  padding: 4px;
}

.artist-card-modern {
  background: white;
  border: 1px solid rgba(217, 214, 208, 0.25);
  border-radius: 12px;
  padding: 14px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  /* hover效果 */
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
  /* 网格模式：淡入交错动画 */
  opacity: 0;
  animation: gridFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* 网格模式交错动画 - 增大延迟间隔，让波浪效果更明显 */
.artist-card-modern:nth-child(1) { animation-delay: 0s; }
.artist-card-modern:nth-child(2) { animation-delay: 0.04s; }
.artist-card-modern:nth-child(3) { animation-delay: 0.08s; }
.artist-card-modern:nth-child(4) { animation-delay: 0.12s; }
.artist-card-modern:nth-child(5) { animation-delay: 0.16s; }
.artist-card-modern:nth-child(6) { animation-delay: 0.2s; }
.artist-card-modern:nth-child(7) { animation-delay: 0.24s; }
.artist-card-modern:nth-child(8) { animation-delay: 0.28s; }
.artist-card-modern:nth-child(9) { animation-delay: 0.32s; }
.artist-card-modern:nth-child(10) { animation-delay: 0.36s; }
.artist-card-modern:nth-child(11) { animation-delay: 0.4s; }
.artist-card-modern:nth-child(12) { animation-delay: 0.44s; }
.artist-card-modern:nth-child(13) { animation-delay: 0.48s; }
.artist-card-modern:nth-child(14) { animation-delay: 0.52s; }
.artist-card-modern:nth-child(15) { animation-delay: 0.56s; }
/* 剩余卡片：在前15个之后统一出现 */
.artist-card-modern:nth-child(n+16) { animation-delay: 0.6s; }

.artist-card-modern:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
  border-color: rgba(102, 126, 234, 0.35);
  background: linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(243, 244, 246, 0.8) 100%);
}

.artist-avatar-modern {
  width: 60px;
  height: 60px;
  flex-shrink: 0;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  position: relative;
  transition: all 0.3s ease;
}

.artist-card-modern:hover .artist-avatar-modern {
  transform: scale(1.08);
  box-shadow: 0 6px 18px rgba(102, 126, 234, 0.45);
}

.artist-initial-modern {
  font-size: 24px;
  font-weight: 700;
  color: white;
  user-select: none;
  transition: opacity 0.3s ease;
}

.artist-play-btn-modern {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.65);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.artist-card-modern:hover .artist-play-btn-modern {
  opacity: 1;
  transform: scale(1);
}

.artist-card-modern:hover .artist-initial-modern {
  opacity: 0;
}

.artist-info-modern {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.artist-name-modern {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.3;
}

.artist-meta-modern {
  font-size: 12px;
  color: var(--text-muted);
  margin: 0;
  display: flex;
  align-items: center;
  gap: 5px;
  line-height: 1;
}

.artist-dot {
  color: var(--text-muted);
  opacity: 0.5;
}

/* ============================================
   专辑视图样式 - 网格卡片 + 右侧抽屉
   ============================================ */

.albums-view-container {
  position: relative;
  display: flex;
  flex-direction: row;
  gap: 0;
  height: calc(100vh - 200px);
  overflow: hidden;
  max-height: calc(100vh - 200px);
}

.albums-grid-container {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 16px;
  padding: 16px;
  /* 容器过渡：略微放慢，让卡片动画有时间完成 */
  transition: flex 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  overflow-y: auto;
  overflow-x: hidden;
  align-items: start;
  grid-auto-rows: min-content;
  height: 100%;
  max-height: 100%;
  will-change: flex;
}

/* 有选中时，收缩成单列 */
.albums-grid-container.has-selection {
  flex: 0 0 220px;
  display: flex;
  flex-direction: column;
  gap: 0;
  padding: 0;
  border-right: 1px solid rgba(217, 214, 208, 0.2);
  overflow-y: auto;
  overflow-x: hidden;
  height: 100%;
  max-height: 100%;
  background: transparent;
  /* 性能优化：提示浏览器使用GPU加速 */
  will-change: flex;
  contain: layout style;
}

.album-card {
  background: white;
  border: 1px solid rgba(217, 214, 208, 0.25);
  border-radius: 10px;
  padding: 10px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  /* hover效果 */
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  /* 网格模式：淡入交错动画 */
  opacity: 0;
  animation: gridFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* 网格模式交错动画 - 增大延迟间隔，让波浪效果更明显 */
.album-card:nth-child(1) { animation-delay: 0s; }
.album-card:nth-child(2) { animation-delay: 0.04s; }
.album-card:nth-child(3) { animation-delay: 0.08s; }
.album-card:nth-child(4) { animation-delay: 0.12s; }
.album-card:nth-child(5) { animation-delay: 0.16s; }
.album-card:nth-child(6) { animation-delay: 0.2s; }
.album-card:nth-child(7) { animation-delay: 0.24s; }
.album-card:nth-child(8) { animation-delay: 0.28s; }
.album-card:nth-child(9) { animation-delay: 0.32s; }
.album-card:nth-child(10) { animation-delay: 0.36s; }
.album-card:nth-child(11) { animation-delay: 0.4s; }
.album-card:nth-child(12) { animation-delay: 0.44s; }
.album-card:nth-child(13) { animation-delay: 0.48s; }
.album-card:nth-child(14) { animation-delay: 0.52s; }
.album-card:nth-child(15) { animation-delay: 0.56s; }
/* 剩余卡片：在前15个之后统一出现 */
.album-card:nth-child(n+16) { animation-delay: 0.6s; }

.album-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  border-color: rgba(168, 85, 247, 0.3);
}

/* 收缩模式下的卡片样式（列表样式，无卡片效果） */
.albums-grid-container.has-selection .album-card {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  flex-shrink: 0;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  border-bottom: 1px solid rgba(217, 214, 208, 0.1) !important;
  box-shadow: none !important;
  min-height: 68px;
  height: 68px;
  width: 100%;
  box-sizing: border-box;
  /* hover效果 */
  transition: background 0.15s ease;
  /* 列表模式：从左滑入交错动画 */
  opacity: 0;
  animation: listSlideIn 0.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* 列表模式交错动画 - 增大延迟间隔，让波浪效果更明显 */
.albums-grid-container.has-selection .album-card:nth-child(1) { animation-delay: 0s; }
.albums-grid-container.has-selection .album-card:nth-child(2) { animation-delay: 0.04s; }
.albums-grid-container.has-selection .album-card:nth-child(3) { animation-delay: 0.08s; }
.albums-grid-container.has-selection .album-card:nth-child(4) { animation-delay: 0.12s; }
.albums-grid-container.has-selection .album-card:nth-child(5) { animation-delay: 0.16s; }
.albums-grid-container.has-selection .album-card:nth-child(6) { animation-delay: 0.2s; }
.albums-grid-container.has-selection .album-card:nth-child(7) { animation-delay: 0.24s; }
.albums-grid-container.has-selection .album-card:nth-child(8) { animation-delay: 0.28s; }
.albums-grid-container.has-selection .album-card:nth-child(9) { animation-delay: 0.32s; }
.albums-grid-container.has-selection .album-card:nth-child(10) { animation-delay: 0.36s; }
.albums-grid-container.has-selection .album-card:nth-child(11) { animation-delay: 0.4s; }
.albums-grid-container.has-selection .album-card:nth-child(12) { animation-delay: 0.44s; }
.albums-grid-container.has-selection .album-card:nth-child(13) { animation-delay: 0.48s; }
.albums-grid-container.has-selection .album-card:nth-child(14) { animation-delay: 0.52s; }
.albums-grid-container.has-selection .album-card:nth-child(15) { animation-delay: 0.56s; }
/* 剩余卡片：在前15个之后统一出现 */
.albums-grid-container.has-selection .album-card:nth-child(n+16) { animation-delay: 0.6s; }

.albums-grid-container.has-selection .album-card:hover {
  background: rgba(168, 85, 247, 0.04) !important;
}

.albums-grid-container.has-selection .album-cover {
  width: 48px;
  height: 48px;
  margin-bottom: 0;
  flex-shrink: 0;
  border-radius: 4px;
  box-shadow: none;
}

.album-info-wrapper {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.albums-grid-container.has-selection .album-info-wrapper {
  flex: 1;
}

.albums-grid-container.has-selection .album-name,
.albums-grid-container.has-selection .album-artist,
.albums-grid-container.has-selection .album-track-count {
  text-align: left;
  margin: 0;
}

.albums-grid-container.has-selection .album-name {
  font-size: 13px;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.albums-grid-container.has-selection .album-artist {
  font-size: 11px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.albums-grid-container.has-selection .album-track-count {
  font-size: 10px;
}

.albums-grid-container.has-selection .album-selected-indicator {
  display: none;
}

.albums-grid-container.has-selection .album-play-overlay {
  display: none;
}

/* 选中状态 */
.album-card-selected {
  border-color: rgba(168, 85, 247, 0.5) !important;
  border-width: 2px;
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.08) 0%, rgba(236, 72, 153, 0.08) 100%) !important;
  box-shadow: 0 4px 12px rgba(168, 85, 247, 0.25) !important;
}

/* 列表模式下的选中状态 */
.albums-grid-container.has-selection .album-card-selected {
  background: rgba(168, 85, 247, 0.08) !important;
  border: none !important;
  border-left: 3px solid #a855f7 !important;
  box-shadow: none !important;
  padding-left: 9px !important;
}

/* ==================== 艺术家卡片 - 列表模式适配 ==================== */

/* 艺术家卡片在选中状态下的布局 */
.albums-grid-container.has-selection .artist-card-modern {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  flex-shrink: 0;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  border-bottom: 1px solid rgba(217, 214, 208, 0.1) !important;
  /* hover效果 */
  transition: background 0.15s ease;
  /* 列表模式：从左滑入交错动画 */
  opacity: 0;
  animation: listSlideIn 0.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* 列表模式交错动画 - 增大延迟间隔，让波浪效果更明显 */
.albums-grid-container.has-selection .artist-card-modern:nth-child(1) { animation-delay: 0s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(2) { animation-delay: 0.04s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(3) { animation-delay: 0.08s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(4) { animation-delay: 0.12s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(5) { animation-delay: 0.16s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(6) { animation-delay: 0.2s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(7) { animation-delay: 0.24s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(8) { animation-delay: 0.28s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(9) { animation-delay: 0.32s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(10) { animation-delay: 0.36s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(11) { animation-delay: 0.4s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(12) { animation-delay: 0.44s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(13) { animation-delay: 0.48s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(14) { animation-delay: 0.52s; }
.albums-grid-container.has-selection .artist-card-modern:nth-child(15) { animation-delay: 0.56s; }
/* 剩余卡片：在前15个之后统一出现 */
.albums-grid-container.has-selection .artist-card-modern:nth-child(n+16) { animation-delay: 0.6s; }

.albums-grid-container.has-selection .artist-card-modern:hover {
  background: rgba(102, 126, 234, 0.04) !important;
}

/* 艺术家头像在列表模式下 */
.albums-grid-container.has-selection .artist-avatar-modern {
  width: 48px;
  height: 48px;
  flex-shrink: 0;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
}

.albums-grid-container.has-selection .artist-card-modern:hover .artist-avatar-modern {
  transform: none;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.25);
}

/* 艺术家信息在列表模式下 */
.albums-grid-container.has-selection .artist-info-modern {
  flex: 1;
  gap: 2px;
}

.albums-grid-container.has-selection .artist-name-modern {
  font-size: 13px;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.albums-grid-container.has-selection .artist-meta-modern {
  font-size: 11px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  gap: 4px;
}

/* 隐藏悬停播放按钮和选中指示器 */
.albums-grid-container.has-selection .artist-play-btn-modern {
  display: none;
}

.albums-grid-container.has-selection .album-selected-indicator {
  display: none;
}

.albums-grid-container.has-selection .artist-initial-modern {
  font-size: 20px;
  opacity: 1 !important;
}

/* 艺术家卡片选中状态 */
.albums-grid-container.has-selection .artist-card-modern.album-card-selected {
  background: rgba(102, 126, 234, 0.08) !important;
  border: none !important;
  border-left: 3px solid #667eea !important;
  box-shadow: none !important;
  padding-left: 9px !important;
}

.album-cover {
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  position: relative;
  transition: all 0.3s ease;
  background: linear-gradient(135deg, #f5f3f0 0%, #e8e5e1 100%);
}

.album-card:hover .album-cover {
  box-shadow: 0 4px 16px rgba(168, 85, 247, 0.25);
}

.album-cover-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.album-cover-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

.album-play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
  color: white;
  backdrop-filter: blur(4px);
}

.album-card:hover .album-play-overlay {
  opacity: 1;
}

.album-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 3px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.3;
}

.album-artist {
  font-size: 11px;
  color: var(--text-secondary);
  margin: 0 0 2px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.3;
}

.album-track-count {
  font-size: 10px;
  color: var(--text-muted);
  margin: 0;
  line-height: 1.3;
}

.album-selected-indicator {
  position: absolute;
  top: 8px;
  right: 8px;
  background: linear-gradient(135deg, #a855f7, #ec4899);
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  box-shadow: 0 2px 8px rgba(168, 85, 247, 0.4);
  animation: scaleIn 0.3s ease;
}

@keyframes scaleIn {
  from {
    transform: scale(0);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* 遮罩层 - 隐藏不用 */
.album-drawer-overlay {
  display: none;
}

/* 右侧详情面板 */
.album-drawer {
  flex: 1;
  background: transparent;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  /* 一镜到底：从右侧滑入，时长与容器匹配 */
  animation: slideInFromRight 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 16px 24px;
  height: 100%;
  max-height: 100%;
  min-height: 0;
  /* 性能优化：使用 transform 而不是位置属性 */
  will-change: transform, opacity;
}

@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* 网格模式：淡入动画 */
@keyframes gridFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* 列表模式：从左滑入动画 */
@keyframes listSlideIn {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* 抽屉返回按钮 - 右上角 */
.album-drawer-back-btn {
  position: absolute;
  top: 16px;
  right: 16px;
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(217, 214, 208, 0.3);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  /* 优化：只对必要属性添加过渡 */
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), 
              background-color 0.15s ease,
              border-color 0.15s ease,
              color 0.15s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  will-change: transform;
}

.album-drawer-back-btn:hover {
  background: rgba(102, 126, 234, 0.1);
  border-color: rgba(102, 126, 234, 0.4);
  color: #667eea;
  /* Q弹效果：轻微放大 */
  transform: scale(1.05);
}

.album-drawer-back-btn:active {
  /* Q弹效果：按下时缩小 */
  transform: scale(0.95);
  transition-duration: 0.1s;
}

.album-drawer-close {
  display: none;
}

/* 抽屉头部 */
.album-drawer-header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(217, 214, 208, 0.15);
  flex-shrink: 0;
  margin-bottom: 0;
}

.album-drawer-cover {
  width: 120px;
  height: 120px;
  margin: 0;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  flex-shrink: 0;
}

.album-drawer-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.album-drawer-cover-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

.album-drawer-info {
  flex: 1;
  min-width: 0;
  text-align: left;
}

.album-drawer-badge {
  display: none;
}

.album-drawer-name {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 6px 0;
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.album-drawer-artist {
  font-size: 13px;
  color: var(--text-secondary);
  margin: 0 0 6px 0;
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.album-drawer-stats {
  font-size: 12px;
  color: var(--text-muted);
  margin: 0 0 10px 0;
  display: flex;
  align-items: center;
  gap: 4px;
}

.album-drawer-play-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 20px;
  background: linear-gradient(135deg, #a855f7, #ec4899);
  border: none;
  border-radius: 20px;
  color: white;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(168, 85, 247, 0.3);
}

.album-drawer-play-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(168, 85, 247, 0.4);
}

.album-drawer-play-btn:active {
  transform: translateY(0);
}

/* 抽屉歌曲列表 - 表格式 */
.album-drawer-tracks {
  flex: 1;
  min-height: 0;
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.album-drawer-tracks-header {
  display: grid;
  grid-template-columns: 40px 1fr 1fr 80px;
  gap: 16px;
  padding: 0 0 12px 0;
  border-bottom: 1px solid rgba(217, 214, 208, 0.15);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.album-drawer-tracks-body {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 0;
}

.album-drawer-track-row {
  display: grid;
  grid-template-columns: 40px 1fr 1fr 80px;
  gap: 16px;
  padding: 10px 0;
  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 1px solid rgba(217, 214, 208, 0.06);
}

.album-drawer-track-row:hover {
  background: rgba(168, 85, 247, 0.04);
}

.drawer-track-col-number {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.drawer-track-number {
  font-size: 13px;
  color: var(--text-muted);
  font-weight: 500;
}

.drawer-track-play-icon {
  position: absolute;
  color: #a855f7;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.2s ease;
}

.album-drawer-track-row:hover .drawer-track-number {
  opacity: 0;
}

.album-drawer-track-row:hover .drawer-track-play-icon {
  opacity: 1;
  transform: scale(1);
}

.drawer-track-col-title {
  display: flex;
  align-items: center;
  font-size: 13px;
  font-weight: 500;
  color: var(--text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.drawer-track-col-artist {
  display: flex;
  align-items: center;
  font-size: 12px;
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.drawer-track-col-duration {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  font-size: 12px;
  color: var(--text-muted);
  font-variant-numeric: tabular-nums;
}

/* ============================================
   深色模式适配 - 歌手和专辑视图
   ============================================ */

[data-theme="dark"] .artist-card-modern,
[data-theme="dark"] .album-card {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .artist-card-modern:hover {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.03) 100%);
  border-color: rgba(102, 126, 234, 0.4);
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
}

[data-theme="dark"] .album-card:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .albums-grid-container.has-selection {
  border-right-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .album-card-selected {
  border-color: rgba(168, 85, 247, 0.6) !important;
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.12) 0%, rgba(236, 72, 153, 0.12) 100%) !important;
  box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3) !important;
}

/* 深色模式 - 艺术家列表模式 */
[data-theme="dark"] .albums-grid-container.has-selection .artist-card-modern:hover {
  background: rgba(102, 126, 234, 0.08) !important;
}

[data-theme="dark"] .albums-grid-container.has-selection .artist-card-modern.album-card-selected {
  background: rgba(102, 126, 234, 0.12) !important;
  border-left-color: #7c8ef7 !important;
}

[data-theme="dark"] .artist-name-modern,
[data-theme="dark"] .album-name {
  color: rgba(255, 255, 255, 0.9);
}

[data-theme="dark"] .artist-meta-modern,
[data-theme="dark"] .album-artist {
  color: rgba(255, 255, 255, 0.5);
}

[data-theme="dark"] .album-track-count {
  color: rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] .album-drawer {
  background: rgba(20, 20, 20, 0.98);
  border-left-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .album-drawer-back-btn {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.12);
  color: rgba(255, 255, 255, 0.9);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .album-drawer-back-btn:hover {
  background: rgba(102, 126, 234, 0.15);
  border-color: rgba(102, 126, 234, 0.4);
  color: #7c8ef7;
  /* 深色模式下也使用相同的Q弹效果 */
}

[data-theme="dark"] .album-drawer-close {
  background: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 0.6);
}

[data-theme="dark"] .album-drawer-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.9);
}

[data-theme="dark"] .album-drawer-header {
  border-bottom-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .album-drawer-name {
  color: rgba(255, 255, 255, 0.95);
}

[data-theme="dark"] .album-drawer-artist {
  color: rgba(255, 255, 255, 0.7);
}

[data-theme="dark"] .album-drawer-stats {
  color: rgba(255, 255, 255, 0.5);
}

[data-theme="dark"] .album-drawer-tracks-header {
  background: rgba(20, 20, 20, 0.98);
  border-bottom-color: rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.5);
}

[data-theme="dark"] .album-drawer-track-row:hover {
  background: linear-gradient(90deg, rgba(168, 85, 247, 0.08) 0%, rgba(168, 85, 247, 0.12) 50%, rgba(168, 85, 247, 0.08) 100%);
}

[data-theme="dark"] .drawer-track-col-title {
  color: rgba(255, 255, 255, 0.85);
}

[data-theme="dark"] .drawer-track-number,
[data-theme="dark"] .drawer-track-col-duration {
  color: rgba(255, 255, 255, 0.4);
}



:root {
  /* 🎨 简约温柔米白主题设计令牌 */
  
  /* 主色系统 - 蓝色品牌轴 */
  --brand-700: #1E56E0;                 /* 深品牌蓝（渐变终点） */
  --brand-600: #2B6FFF;                 /* 主品牌蓝 */
  --brand-500: #4D86FF;                 /* 中等品牌蓝 */
  --brand-400: #7FB0FF;                 /* 浅品牌蓝 */
  --sky-400: #7EC8FF;                   /* 天空蓝辅色 */
  
  /* 中性色系统 - 蓝灰基调 */
  --slate-900: #1E293B;                 /* 深色正文 - 增强对比度 */
  --slate-700: #475569;                 /* 次要正文 - 增强对比度 */
  --slate-500: #64748B;                 /* 辅助文本 */
  --slate-300: #CBD5E1;                 /* 分隔线 */
  --slate-100: #F1F5F9;                 /* 浅背景 */

  /* 🎯 高对比度设计令牌系统 */
  --text-primary: #0F172A;              /* 主要文字 - 最高对比度 */
  --text-secondary: #334155;            /* 次要文字 - 高对比度 */
  --text-muted: #64748B;                /* 辅助文字 - 中等对比度 */
  --text-disabled: #94A3B8;             /* 禁用文字 - 低对比度 */
  
  /* 背景色系统 - 高对比度 */
  --surface-primary: #FFFFFF;           /* 主要表面 - 纯白 */
  --surface-secondary: #F8FAFC;         /* 次要表面 - 极浅灰 */
  --surface-tertiary: #F1F5F9;          /* 三级表面 - 浅灰 */
  --surface-overlay: rgba(255, 255, 255, 0.95); /* 覆盖层 - 高不透明度 */
  
  /* 边框系统 - 清晰可见 */
  --border-primary: #CBD5E1;            /* 主要边框 - 清晰 */
  --border-secondary: #E2E8F0;          /* 次要边框 - 淡雅 */
  --border-focus: #2563EB;              /* 焦点边框 - 蓝色 */
  
  /* 阴影系统 - 适度减弱 */
  --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08);
  --shadow-moderate: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-prominent: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
  
  /* 字体系统 - Windows 优化 */
  --font-primary: "Segoe UI Variable", "Microsoft YaHei UI", "Segoe UI", system-ui, -apple-system, sans-serif;
  --font-mono: "Cascadia Code", "Consolas", "Courier New", monospace;
  
  /* 字号系统 - 提升可读性 */
  --text-xs: 0.8125rem;      /* 13px */
  --text-sm: 0.875rem;       /* 14px */
  --text-base: 0.9375rem;    /* 15px - 提升基础字号 */
  
  /* 性能优化 - 歌词滚动 */
  --lyrics-scroll-optimization: contain layout paint; /* CSS containment */
  --text-lg: 1rem;           /* 16px */
  --text-xl: 1.125rem;       /* 18px */
  --text-2xl: 1.25rem;       /* 20px */
  
  /* 行高系统 - 改善阅读体验 */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 1.75;
  
  /* 状态色系统 */
  --success: #18C37E;
  --warning: #FDBA4D;
  --danger: #F05252;
  
  
  /* 🌈 背景系统 - 温柔米白渐变 */
  --bg-app: linear-gradient(135deg, 
    #FDFDFB 0%,                        /* 温柔米白 */
    #F8F7F4 50%,                       /* 淡米灰白 */
    #F2F1ED 100%);                     /* 浅米灰 */
  --bg-noise: none;                    /* 移除噪点纹理 */
  
  /* 📐 间距与尺寸系统 */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;

  /* 🎯 Q弹动画缓动函数 */
  --ease-bounce-out: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-bounce-in: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --ease-elastic: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-back-out: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --space-16: 64px;
  
  /* 🎯 圆角系统 */
  --radius-sm: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 20px;
  --radius-3xl: 24px;
  
  /* 🌟 阴影系统 */
  --shadow-soft: 0 8px 24px rgba(43, 111, 255, 0.10);
  --shadow-medium: 0 12px 32px rgba(43, 111, 255, 0.14);
  --shadow-deep: 0 18px 48px rgba(43, 111, 255, 0.18);
  --shadow-glow: 0 0 24px rgba(43, 111, 255, 0.3);
  
  /* ⏱️ 动画系统 */
  --ease-productive: cubic-bezier(0.2, 0, 0, 1);
  --ease-expressive: cubic-bezier(0.4, 0, 0.2, 1);
  --dur-fast: 150ms;
  --dur-normal: 220ms;
  --dur-slow: 280ms;
  --dur-slower: 350ms;
  
  /* 🎵 渐变系统 */
  --gradient-brand: linear-gradient(135deg, var(--brand-600) 0%, var(--sky-400) 100%);
  --gradient-brand-soft: linear-gradient(135deg, var(--brand-500) 0%, var(--sky-400) 100%);
}

/* =================================
   🌙 DARK THEME VARIABLES
   ================================= */

[data-theme="dark"] {
  /* 🎯 深色模式设计令牌系统 */
  
  /* 背景色系统 - 深色调 */
  --surface-primary: #0B1220;              /* 主要表面 - 深蓝黑 */
  --surface-secondary: #0F172A;            /* 次要表面 - 深灰蓝 */
  --surface-tertiary: #111827;             /* 三级表面 - 暖深灰 */
  --surface-overlay: rgba(15, 23, 42, 0.95); /* 覆盖层 - 高不透明深色 */
  
  /* 文本系统 - 亮色对比 */
  --text-primary: #E5EAF3;                 /* 主要文字 - 亮白蓝 */
  --text-secondary: #C7D2FE;               /* 次要文字 - 淡紫白 */
  --text-muted: #94A3B8;                   /* 辅助文字 - 中性灰 */
  --text-disabled: #64748B;                /* 禁用文字 - 暗灰 */
  
  /* 边框系统 - 柔和亮描边 */
  --border-primary: rgba(148, 163, 184, 0.2);  /* 主要边框 - 柔和灰 */
  --border-secondary: rgba(100, 116, 139, 0.15); /* 次要边框 - 更淡 */
  --border-focus: #6366F1;                     /* 焦点边框 - 亮蓝紫 */
  
  /* 🎴 简约卡片系统（深色模式适配） */
  --card-bg: #0F172A;                          /* 卡片背景 - 深灰蓝 */
  --card-bg-secondary: #111827;                /* 次要卡片 - 暖深灰 */
  --card-border: rgba(148, 163, 184, 0.15);    /* 卡片边框 - 柔和 */
  --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2); /* 深色阴影 */
  --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2); /* 悬停阴影 */
  --card-radius: 12px;                         /* 圆角 */
  
  
  /* 🌈 深色背景系统 */
  --bg-app: linear-gradient(135deg, 
    #020617 0%,                            /* 极深蓝黑 */
    #0F172A 50%,                           /* 深蓝灰 */
    #1E293B 100%);                         /* 暖深灰 */
  --bg-noise: none;                        /* 移除噪点纹理 */
  
  /* 🌟 深色阴影系统 - 柔和发光 */
  --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.3), 0 0 12px rgba(99, 102, 241, 0.1);
  --shadow-medium: 0 12px 32px rgba(0, 0, 0, 0.4), 0 0 16px rgba(99, 102, 241, 0.12);
  --shadow-deep: 0 18px 48px rgba(0, 0, 0, 0.5), 0 0 24px rgba(99, 102, 241, 0.15);
  --shadow-glow: 0 0 24px rgba(99, 102, 241, 0.4), 0 0 48px rgba(99, 102, 241, 0.2);
  
  
  /* 状态色系统 - 深色适配 */
  --success: #22C55E;
  --warning: #F59E0B;
  --danger: #EF4444;
}

/* =================================
   🌙 系统偏好深色模式自动适配
   ================================= */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    /* 自动应用深色模式变量（当用户未手动设置主题时） */
    --surface-primary: #0B1220;
    --surface-secondary: #0F172A;
    --surface-tertiary: #111827;
    --surface-overlay: rgba(15, 23, 42, 0.95);
    
    --text-primary: #E5EAF3;
    --text-secondary: #C7D2FE;
    --text-muted: #94A3B8;
    --text-disabled: #64748B;
    
    --border-primary: rgba(148, 163, 184, 0.2);
    --border-secondary: rgba(100, 116, 139, 0.15);
    --border-focus: #6366F1;
    
    /* 卡片系统 */
    --card-bg: #0F172A;
    --card-bg-secondary: #111827;
    --card-border: rgba(148, 163, 184, 0.15);
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
    --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2);
    --card-radius: 12px;
    
    --bg-app: linear-gradient(135deg, #020617 0%, #0F172A 50%, #1E293B 100%);
    
    --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.3), 0 0 12px rgba(99, 102, 241, 0.1);
    --shadow-medium: 0 12px 32px rgba(0, 0, 0, 0.4), 0 0 16px rgba(99, 102, 241, 0.12);
    --shadow-deep: 0 18px 48px rgba(0, 0, 0, 0.5), 0 0 24px rgba(99, 102, 241, 0.15);
    --shadow-glow: 0 0 24px rgba(99, 102, 241, 0.4), 0 0 48px rgba(99, 102, 241, 0.2);
  }
}

/* 🎯 高对比度模式 */
[data-contrast="high"] {
  /* 覆盖文字颜色 */
  --slate-900: var(--text-primary);
  --slate-700: var(--text-secondary);
  --slate-500: var(--text-muted);
  
  
  /* 使用清晰阴影 */
  --shadow-soft: var(--shadow-subtle);
  --shadow-medium: var(--shadow-moderate);
  --shadow-deep: var(--shadow-prominent);
}

/* 🎯 系统高对比度偏好支持 */
@media (prefers-contrast: more) {
  :root {
    --slate-900: var(--text-primary);
    --slate-700: var(--text-secondary);
    --slate-500: var(--text-muted);
    /* 玻璃变量兼容层 */
    --card-bg: var(--card-bg-secondary);
    --card-bg-strong: var(--card-bg);
    --card-bg-overlay: var(--card-bg);
    --card-border: var(--card-border);
    --card-border-outer: var(--border-focus);
    --card-blur: 0px;
    --shadow-soft: var(--shadow-subtle);
    --shadow-medium: var(--shadow-moderate);
    --shadow-deep: var(--shadow-prominent);
  }
}

/* 🔤 文本截断工具 */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 🌙 深色主题兼容性类 - 只在dark模式下生效 */
.dark .dark\:text-dark-900 {
  color: var(--text-primary);
}

.dark .dark\:text-dark-700 {
  color: var(--text-secondary);
}

.dark .dark\:text-dark-600 {
  color: var(--text-muted);
}

.dark .dark\:bg-dark-100 {
  background-color: var(--surface-secondary);
}

.dark .dark\:bg-dark-200 {
  background-color: var(--surface-tertiary);
}

.dark .dark\:border-dark-500 {
  border-color: var(--border-primary);
}

.dark .dark\:border-dark-400 {
  border-color: var(--border-secondary);
}

.dark .dark\:hover\:border-dark-400:hover {
  border-color: var(--border-secondary);
}

.dark .dark\:bg-card-bg {
  background-color: var(--card-bg-secondary);
}

.dark .dark\:bg-card-bg-strong {
  background-color: var(--card-bg);
}

.dark .dark\:border-card-border {
  border-color: var(--card-border);
}

.dark .dark\:hover\:bg-dark-200\/50:hover {
  background-color: rgba(var(--surface-tertiary), 0.5);
}

.dark .dark\:placeholder-dark-600::placeholder {
  color: var(--text-muted);
}

.dark .dark\:bg-green-900\/30 {
  background-color: rgba(34, 197, 94, 0.3);
}

.dark .dark\:text-green-300 {
  color: #86efac;
}

.dark .dark\:text-blue-300 {
  color: #93c5fd;
}

.dark .dark\:bg-brand-900\/30 {
  background-color: rgba(99, 102, 241, 0.3);
}

.dark .dark\:text-brand-400 {
  color: #a78bfa;
}

.dark .dark\:bg-dark-300 {
  background-color: rgba(17, 24, 39, 1);
}

.dark .dark\:hover\:bg-dark-300:hover {
  background-color: rgba(17, 24, 39, 1);
}

.dark .dark\:bg-dark-500 {
  border-color: var(--border-primary);
}

.dark .dark\:hover\:border-brand-600:hover {
  border-color: var(--brand-600);
}

.dark .dark\:hover\:bg-brand-900\/20:hover {
  background-color: rgba(99, 102, 241, 0.2);
}

/* 🎵 音乐库行级透明度类 - 微妙层级感 */
.dark .dark\:bg-white\/02 {
  background-color: rgba(255, 255, 255, 0.02);
}

.dark .dark\:hover\:bg-white\/05:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

.dark .dark\:active\:bg-white\/08:active {
  background-color: rgba(255, 255, 255, 0.08);
}

.dark .dark\:border-white\/10 {
  border-color: rgba(255, 255, 255, 0.1);
}

@layer base {
  * {
    box-sizing: border-box;
  }
  
  body {
    background: var(--bg-app);
    background-attachment: fixed;
    color: var(--slate-900);
    font-family: var(--font-primary);
    font-feature-settings: "rlig" 1, "calt" 1;
    font-weight: 400;
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    height: 100vh;
    margin: 0;
    padding: 0;
    overflow: hidden; /* 彻底防止body滚动 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* 禁用选中文本的默认样式 */
  ::selection {
    background: rgba(43, 111, 255, 0.2);
    color: var(--slate-900);
  }
  
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: var(--surface-tertiary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--card-border);
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: var(--border-primary);
  }
}

@layer components {
  /* 🎴 简约卡片基础类 */
  .card-surface {
    background: var(--surface-secondary);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
  }
  
  .card-surface-strong {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
  }
  
  .card-overlay {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow-hover);
  }
  
  /* 🎵 音乐库专用简约卡片 */
  .card-music-library {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: var(--card-radius);
    box-shadow: var(--card-shadow);
  }
  
  /* 深色模式下的音乐库卡片 */
  [data-theme="dark"] .card-music-library {
    background: var(--surface-secondary);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }
  
  /* 🎯 交互状态 */
  .card-interactive {
    transition: transform var(--dur-normal) var(--ease-productive),
                box-shadow var(--dur-normal) var(--ease-productive),
                border-color var(--dur-normal) var(--ease-productive);
    cursor: pointer;
    will-change: transform;
    transform: translateZ(0); /* 强制GPU合成 */
  }
  
  .card-interactive:hover {
    transform: translateY(-1px) scale(1.01) translateZ(0);
    box-shadow: var(--shadow-medium);
    border-color: var(--border-focus);
  }
  
  .card-interactive:active {
    transform: translateY(0) scale(0.99) translateZ(0);
    transition: transform var(--dur-fast) var(--ease-productive);
  }
  
  /* 🎵 品牌按钮 */
  .btn-brand {
    background: var(--gradient-brand);
    color: var(--surface-primary);
    border: none;
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-6);
    font-weight: 600;
    font-size: 14px;
    line-height: 1.4;
    box-shadow: var(--shadow-soft);
    position: relative;
    overflow: hidden;
    transition: transform var(--dur-normal) var(--ease-productive),
                box-shadow var(--dur-normal) var(--ease-productive),
                filter var(--dur-normal) var(--ease-productive);
    cursor: pointer;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    will-change: transform;
    transform: translateZ(0); /* 强制GPU合成 */
  }
  
  .btn-brand::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: rgba(255, 255, 255, 0.2);
  }
  
  .btn-brand:hover {
    transform: translateY(-2px) translateZ(0);
    box-shadow: var(--shadow-glow), var(--shadow-medium);
    filter: brightness(1.05);
  }
  
  .btn-brand:active {
    transform: translateY(-1px) scale(0.98) translateZ(0);
    transition: transform var(--dur-fast) var(--ease-productive);
  }
  
  .btn-brand:disabled {
    background: var(--slate-300);
    color: var(--slate-500);
    cursor: not-allowed;
    transform: none;
    box-shadow: var(--shadow-soft);
    filter: none;
  }
  
  /* 🔘 次要按钮 */
  .btn-secondary {
    background: transparent;
    color: var(--brand-600);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-6);
    font-weight: 500;
    font-size: 14px;
    line-height: 1.4;
    transition: all var(--dur-normal) var(--ease-productive);
    cursor: pointer;
  }
  
  .btn-secondary:hover {
    background: var(--card-bg);
    border-color: var(--brand-400);
    transform: translateY(-1px);
    box-shadow: var(--shadow-soft);
  }
  
  .btn-secondary:active {
    transform: translateY(0) scale(0.98);
    transition: all var(--dur-fast) var(--ease-productive);
  }
  
  /* 🔍 输入框和搜索 */
  .card-input {
    background: var(--surface-secondary);
    border: 1px solid var(--card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-4);
    color: var(--slate-900);
    font-size: 14px;
    transition: all var(--dur-normal) var(--ease-productive);
    outline: none;
  }
  
  .card-input::placeholder {
    color: var(--slate-500);
  }
  
  .card-input:focus {
    border-color: var(--brand-400);
    background: var(--card-bg);
    box-shadow: 0 0 0 3px rgba(43, 111, 255, 0.1), var(--shadow-soft);
  }
  
  /* 📊 标签页系统 */
  .card-tabs {
    display: inline-flex;
    background: var(--surface-secondary);
    border: 1px solid var(--card-border);
    border-radius: var(--radius-2xl);
    padding: var(--space-1);
    position: relative;
  }
  
  .card-tab {
    position: relative;
    padding: var(--space-3) var(--space-6);
    border-radius: var(--radius-xl);
    font-size: 14px;
    font-weight: 500;
    color: var(--text-muted);
    cursor: pointer;
    transition: all var(--dur-normal) var(--ease-productive);
    z-index: 2;
    border: none;
    background: transparent;
  }
  
  .card-tab.active {
    color: var(--text-primary);
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  .card-tab:not(.active):hover {
    color: var(--brand-600);
    background: var(--surface-secondary);
  }
  
  /* 滑动指示器 */
  .tab-indicator {
    position: absolute;
    background: var(--surface-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-soft);
    transition: all 0.7s var(--ease-bounce-out);
    z-index: 1;
    border: 1px solid var(--card-border);
  }
  
  /* 🎵 进度条 */
  .card-progress {
    width: 100%;
    height: 6px;
    background: var(--card-bg);
    border-radius: var(--radius-sm);
    border: 1px solid var(--card-border);
    overflow: hidden;
    position: relative;
  }
  
  .card-progress-fill {
    height: 100%;
    background: var(--gradient-brand);
    border-radius: var(--radius-sm);
    transition: width var(--dur-normal) var(--ease-productive);
    position: relative;
  }
  
  .card-progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 8px;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 100%);
  }
  
  /* 🏷️ 徽章和标签 */
  .card-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: var(--surface-secondary);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
  }
  
  .card-badge.brand {
    background: var(--gradient-brand);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  .card-badge.success {
    background: var(--success);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  .card-badge.warning {
    background: var(--warning);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  .card-badge.danger {
    background: var(--danger);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  /* 🎶 卡片和容器 */
  .card-card {
    background: #FFFFFF;
    border: 1px solid rgba(217, 214, 208, 0.5);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.03);
    position: relative;
    overflow: hidden;
  }
  
  .card-card-compact {
    padding: var(--space-4);
  }
  
  .card-card-interactive {
    cursor: pointer;
    transition: all var(--dur-normal) var(--ease-productive);
  }
  
  .card-card-interactive:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: var(--shadow-medium);
    border-color: var(--card-border-outer);
  }
  
  /* 🎯 应用布局 */
  .app-container {
    height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden; /* 防止整体页面滚动 */
  }
  
  .app-header {
    position: sticky;
    top: 0;
    z-index: 50;
    background: rgba(255,255,255,0.95);
    border-bottom: 1px solid rgba(217, 214, 208, 0.5);
    color: var(--text-primary);
    overflow: hidden;
    box-shadow: 
      0 2px 8px rgba(0,0,0,0.04),
      0 1px 3px rgba(0,0,0,0.02);
    transform: none;
    opacity: 1;
  }
  
  .app-main {
    flex: 1;
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    height: calc(100vh - 64px); /* 只减去顶部标题栏高度，播放器是固定定位不影响布局 */
    transition: grid-template-columns 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
    --sidebar-width: 240px;
  }
  
  .app-main.sidebar-collapsed {
    --sidebar-width: 80px;
  }
  
  .app-sidebar {
    background: #FAFAF8;
    border-right: 1px solid rgba(217, 214, 208, 0.5);
    position: relative;
    overflow-y: auto; /* 启用垂直滚动 */
    overflow-x: hidden; /* 隐藏水平滚动 */
    height: 100%; /* 占满父容器高度 */
    width: 100%; /* 占满grid列宽度 */
    /* 增强视觉分隔 - 添加右侧阴影 */
    box-shadow: 1px 0 4px rgba(0, 0, 0, 0.04);
  }
  
  /* 深色模式下增强侧边栏分隔 */
  [data-theme="dark"] .app-sidebar,
  .dark .app-sidebar {
    background: #111827;
    border-right-color: rgba(148, 163, 184, 0.15);
    box-shadow: 1px 0 8px rgba(0, 0, 0, 0.3);
  }
  
  .animating .shadow-lg {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  }
  
  /* 收缩状态下的指示器调整 */
  .app-sidebar-collapsed .bounce-indicator {
    left: 12px;
    right: 12px;
  }

  /* 侧边栏可见滚动条样式 */
  .app-sidebar::-webkit-scrollbar {
    width: 6px;
    display: block !important;
  }
  
  .app-sidebar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
  }
  
  .app-sidebar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;  }
  
  .app-sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4);
  }
  
  .app-content {
    position: relative;
    height: 100%; /* 占满父容器高度 */
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    overflow-x: hidden;
    padding-bottom: 120px; /* 为固定播放器留出额外空间，避免内容被遮挡（播放器80px + 缓冲40px） */
    scrollbar-width: thin;
    scrollbar-color: var(--brand-400) rgba(0, 0, 0, 0.05);
  }

  /* 主内容区域滚动条样式 */
  .app-content::-webkit-scrollbar {
    width: 8px;
    display: block !important;
  }
  
  .app-content::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 4px;
  }
  
  .app-content::-webkit-scrollbar-thumb {
    background: var(--brand-400);
    border-radius: 4px;    transition: background-color 0.2s ease;
  }
  
  .app-content::-webkit-scrollbar-thumb:hover {
    background: var(--brand-600);
  }

  /* 侧边栏Firefox滚动条样式 */
  .app-sidebar {
    scrollbar-width: thin !important;
    scrollbar-color: rgba(255, 255, 255, 0.3) rgba(255, 255, 255, 0.1) !important;
  }
  
  .app-footer {
    position: sticky;
    bottom: 0;
    z-index: 50;
    background: #FFFFFF;
    border-top: 1px solid rgba(217, 214, 208, 0.5);
  }
  
  /* 🎴 简约卡片样式 - 替代玻璃效果 */
  .glass-surface,
  .glass-card {
    background: #FFFFFF;
    border: 1px solid rgba(217, 214, 208, 0.5);
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.03);
  }

  .glass-music-library {
    background: transparent;
    border: none;
    border-radius: 0;
    box-shadow: none;
  }

  .glass-interactive {
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .glass-interactive:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04);
  }

  /* 深色模式适配 */
  [data-theme="dark"] .glass-surface,
  [data-theme="dark"] .glass-card {
    background: #0F172A;
    border-color: rgba(148, 163, 184, 0.15);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
  }

  [data-theme="dark"] .glass-music-library {
    background: transparent;
    border: none;
    box-shadow: none;
  }

  [data-theme="dark"] .glass-interactive:hover {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* 🎬 动画效果 */
  @keyframes card-float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-2px);
    }
  }
  
  @keyframes card-glow {
    0%, 100% {
      box-shadow: var(--shadow-soft);
    }
    50% {
      box-shadow: var(--shadow-glow), var(--shadow-medium);
    }
  }

  /* 🎊 Toast通知动画 */
  @keyframes toast-slide-in {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes toast-slide-out {
    from {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
    to {
      opacity: 0;
      transform: translateX(100%) scale(0.9);
    }
  }

  .animate-toast-slide-in {
    animation: toast-slide-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .animate-toast-slide-out {
    animation: toast-slide-out 0.3s cubic-bezier(0.4, 0, 1, 1);
  }

  /* 📊 性能监控数据刷新动画 */
  @keyframes metric-refresh {
    0%, 100% {
      background-color: transparent;
    }
    50% {
      background-color: rgba(59, 130, 246, 0.08);
    }
  }

  .metric-refreshing {
    animation: metric-refresh 0.6s ease-out;
  }

  /* 🎚️ 音频增强面板交互动画 */
  @keyframes eq-slider-active {
    0%, 100% {
      background-color: rgba(99, 102, 241, 0.1);
    }
    50% {
      background-color: rgba(99, 102, 241, 0.2);
    }
  }

  .eq-slider-active {
    animation: eq-slider-active 0.3s ease-out;
  }

  @keyframes toggle-switch {
    0% {
      transform: scale(0.95);
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1);
    }
  }

  .toggle-switch-animate {
    animation: toggle-switch 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes preset-select {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.02);
    }
    100% {
      transform: scale(1);
    }
  }

  .preset-select-animate {
    animation: preset-select 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 📁 文件夹列表动画 */
  @keyframes folder-item-enter {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes folder-item-exit {
    from {
      opacity: 1;
      transform: scale(1);
      max-height: 100px;
    }
    to {
      opacity: 0;
      transform: scale(0.8);
      max-height: 0;
    }
  }

  .folder-item-enter {
    animation: folder-item-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .folder-item-exit {
    animation: folder-item-exit 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
  }

  @keyframes scanning-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .scanning-pulse {
    animation: scanning-pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* 💀 骨架屏加载动画 */
  @keyframes skeleton-shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .skeleton-box {
    background: linear-gradient(
      90deg,
      rgba(148, 163, 184, 0.1) 0%,
      rgba(148, 163, 184, 0.2) 50%,
      rgba(148, 163, 184, 0.1) 100%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
  }

  .dark .skeleton-box {
    background: linear-gradient(
      90deg,
      rgba(71, 85, 105, 0.1) 0%,
      rgba(71, 85, 105, 0.2) 50%,
      rgba(71, 85, 105, 0.1) 100%
    );
    background-size: 200% 100%;
  }

  /* 🎵 音乐库歌曲行悬停动画 */
  
  /* 1. 背景高亮动画 */
  @keyframes track-row-highlight {
    from {
      background-color: transparent;
    }
    to {
      background: linear-gradient(
        90deg,
        rgba(77, 134, 255, 0.03) 0%,
        rgba(77, 134, 255, 0.06) 50%,
        rgba(77, 134, 255, 0.03) 100%
      );
    }
  }

  .track-row-hover {
    animation: track-row-highlight 0.2s ease-out forwards;
  }

  /* 2. 封面旋转进入动画 */
  @keyframes album-cover-pop {
    0% {
      transform: scale(1) rotate(0deg);
    }
    50% {
      transform: scale(1.08) rotate(2deg);
    }
    100% {
      transform: scale(1.05) rotate(0deg);
    }
  }

  .album-cover-hover {
    animation: album-cover-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 3. 操作按钮滑入动画 */
  @keyframes action-button-slide-in {
    from {
      opacity: 0;
      transform: translateX(10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .action-button-enter {
    animation: action-button-slide-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 4. 音符图标脉动 */
  @keyframes music-note-pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.8;
    }
  }

  .music-note-pulse {
    animation: music-note-pulse 1.5s ease-in-out infinite;
  }

  /* 5. 时长数字跳动 */
  @keyframes duration-bounce {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-2px);
    }
  }

  .duration-bounce {
    animation: duration-bounce 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 6. 波纹扩散效果 */
  @keyframes ripple-effect {
    0% {
      box-shadow: 0 0 0 0 rgba(77, 134, 255, 0.2);
    }
    100% {
      box-shadow: 0 0 0 8px rgba(77, 134, 255, 0);
    }
  }

  .ripple-active {
    animation: ripple-effect 0.6s ease-out;
  }

  /* 7. 收藏按钮心跳动画 */
  @keyframes favorite-heartbeat {
    0%, 100% {
      transform: scale(1);
    }
    10%, 30% {
      transform: scale(1.2);
    }
    20%, 40% {
      transform: scale(1.1);
    }
  }

  .favorite-heartbeat {
    animation: favorite-heartbeat 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 8. 相邻行联动效果 */
  .track-row-neighbor-1 {
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    transition-delay: 50ms;
  }

  .track-row-neighbor-2 {
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    transition-delay: 100ms;
  }
  
  @keyframes card-shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
  
  .card-float:hover {
    animation: card-float 2s ease-in-out infinite;
  }
  
  .card-glow:hover {
    animation: card-glow 2s ease-in-out infinite;
  }
  
  .card-shimmer {
    position: relative;
    overflow: hidden;
  }
  
  .card-shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: card-shimmer 3s ease-in-out infinite;
    pointer-events: none;
  }
  
  /* 🌟 页面切换动画 */
  .page-transition {
    animation: pageSlideIn var(--dur-slower) var(--ease-expressive);
  }
  
  @keyframes pageSlideIn {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  /* 🔄 Loading 动画 */
  .loading-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  /* ⚡ 状态切换动画 */
  .state-transition {
    transition: all var(--dur-normal) var(--ease-productive);
  }
  
  .fade-in {
    animation: fadeIn var(--dur-normal) var(--ease-productive);
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      transform: translateX(-50%) scaleX(0);
      opacity: 0;
    }
    to {
      transform: translateX(-50%) scaleX(1);
      opacity: 1;
    }
  }

  /* 歌曲名称动画效果 */
  .song-title {
    margin: 0;
    height: auto;
    background: transparent;
    padding: 0;
    border: none;
    cursor: pointer;
    --border-right: 2px;
    --text-stroke-color: rgba(124, 92, 255, 0.6);
    --animation-color: #7C5CFF;
    --fs-size: 1em;
    letter-spacing: 1px;
    text-decoration: none;
    font-size: var(--fs-size);
    font-family: inherit;
    position: relative;
    color: transparent;
    -webkit-text-stroke: 1px var(--text-stroke-color);
    transition: all 0.3s ease;
  }

  .song-title .hover-text {
    position: absolute;
    box-sizing: border-box;
    color: var(--animation-color);
    width: 0%;
    inset: 0;
    border-right: var(--border-right) solid var(--animation-color);
    overflow: hidden;
    transition: 0.5s;
    -webkit-text-stroke: 1px var(--animation-color);
    white-space: nowrap;
  }

  .song-title:hover .hover-text {
    width: 100%;
    filter: drop-shadow(0 0 15px var(--animation-color));
  }

  /* 当前播放歌曲的特殊效果 */
  .song-title.playing {
    --animation-color: #37FF8B;
    --text-stroke-color: rgba(55, 255, 139, 0.6);
  }

  .song-title.playing .hover-text {
    width: 100%;
    filter: drop-shadow(0 0 20px var(--animation-color));
    animation: glow-pulse 2s ease-in-out infinite alternate;
  }

  @keyframes glow-pulse {
    from {
      filter: drop-shadow(0 0 15px var(--animation-color));
    }
    to {
      filter: drop-shadow(0 0 25px var(--animation-color));
    }
  }

  /* 现代化应用标题设计 */
  .app-title-container {
    position: relative;
    cursor: pointer;
  }

  .app-title-modern {
    margin: 0;
    padding: 0;
    position: relative;
    font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 700;
    font-size: 1.375rem;
    line-height: 1.2;
    letter-spacing: -0.025em;
    background: linear-gradient(135deg, #7C5CFF 0%, #9333EA 50%, #7C5CFF 100%);
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    animation: gradient-shift 6s ease-in-out infinite;
  }

  .app-title-modern .brand-text {
    position: relative;
    font-weight: 800;
    background: linear-gradient(135deg, #7C5CFF 0%, #A855F7 50%, #7C5CFF 100%);
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    text-shadow: 0 0 30px rgba(124, 92, 255, 0.3);
  }

  .app-title-modern .sub-text {
    font-weight: 600;
    margin-left: 0.5rem;
    background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%);
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    opacity: 0.85;
  }

  .hover-text-modern {
    position: absolute;
    inset: 0;
    width: 0%;
    overflow: hidden;
    background: linear-gradient(135deg, #7C5CFF 0%, #EC4899 50%, #F59E0B 100%);
    background-size: 300% 300%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    border-right: 3px solid transparent;
    border-image: linear-gradient(135deg, #7C5CFF, #EC4899, #F59E0B) 1;
    animation: rainbow-flow 3s linear infinite;
  }

  .hover-text-modern .brand-text {
    font-weight: 800;
    filter: drop-shadow(0 0 20px rgba(124, 92, 255, 0.6));
  }

  .hover-text-modern .sub-text {
    font-weight: 600;
    margin-left: 0.5rem;
    filter: drop-shadow(0 0 15px rgba(139, 92, 246, 0.5));
  }

  .app-title-container:hover .hover-text-modern {
    width: 100%;
    filter: drop-shadow(0 0 25px rgba(124, 92, 255, 0.8)) 
            drop-shadow(0 0 40px rgba(236, 72, 153, 0.4));
  }

  .app-title-container:hover .app-title-modern {
    transform: translateY(-1px);
    filter: drop-shadow(0 0 20px rgba(124, 92, 255, 0.4));
  }

  .brand-tagline {
    font-size: 0.75rem;
    font-weight: 500;
    color: #8B5CF6;
    opacity: 0.7;
    margin-top: 1px;
    letter-spacing: 0.5px;
    font-family: 'Inter', sans-serif;
    transition: all 0.3s ease;
  }

  .app-title-container:hover .brand-tagline {
    opacity: 1;
    color: #7C5CFF;
    transform: translateY(-1px);
  }

  /* 背景渐变动画 */
  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* 彩虹流动效果 */
  @keyframes rainbow-flow {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 200% 50%;
    }
  }

  /* 可拖拽区域 */
  .draggable-header {
    -webkit-app-region: drag;
  }

  .draggable-header .non-draggable {
    -webkit-app-region: no-drag;
  }

  /* 侧边导航栏动画效果 */
  .radio-container {
    --main-color: #3B82F6;
    --main-color-opacity: rgba(59, 130, 246, 0.1);
    --total-radio: 5;

    display: flex;
    flex-direction: column;
    position: relative;
    padding-left: 0.5rem;
  }

  .radio-container input {
    cursor: pointer;
    appearance: none;
  }

  .radio-container .glider-container {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    background: linear-gradient(
      0deg,
      rgba(0, 0, 0, 0) 0%,
      rgba(124, 92, 255, 0.1) 50%,
      rgba(0, 0, 0, 0) 100%
    );
    width: 2px;
    border-radius: 1px;
  }

  .radio-container .glider-container .glider {
    position: relative;
    height: calc(100% / var(--total-radio));
    width: 100%;
    background: linear-gradient(
      0deg,
      rgba(0, 0, 0, 0) 0%,
      var(--main-color) 50%,
      rgba(0, 0, 0, 0) 100%
    );
    transition: transform 0.5s cubic-bezier(0.37, 1.95, 0.66, 0.56);
    border-radius: 1px;
  }

  .radio-container .glider-container .glider::before {
    content: "";
    position: absolute;
    height: 60%;
    width: 300%;
    top: 50%;
    transform: translateY(-50%);
    background: var(--main-color);
    filter: blur(8px);
    border-radius: 2px;
  }

  .radio-container .glider-container .glider::after {
    content: "";
    position: absolute;
    left: 0;
    height: 100%;
    width: 150px;
    background: linear-gradient(
      90deg,
      var(--main-color-opacity) 0%,
      rgba(0, 0, 0, 0) 100%
    );
    border-radius: 1px;
  }

  .radio-container label {
    cursor: pointer;
    padding: 0.75rem 1rem;
    position: relative;
    color: #6b7280;
    transition: all 0.3s ease-in-out;
    border-radius: 0.5rem;
    margin: 0.125rem 0;
    font-weight: 500;
  }

  .radio-container input:checked + label {
    color: var(--main-color);
    background-color: rgba(59, 130, 246, 0.05);
  }

  .radio-container input:nth-of-type(1):checked ~ .glider-container .glider {
    transform: translateY(0);
  }

  .radio-container input:nth-of-type(2):checked ~ .glider-container .glider {
    transform: translateY(100%);
  }

  .radio-container input:nth-of-type(3):checked ~ .glider-container .glider {
    transform: translateY(200%);
  }

  .radio-container input:nth-of-type(4):checked ~ .glider-container .glider {
    transform: translateY(300%);
  }

  .radio-container input:nth-of-type(5):checked ~ .glider-container .glider {
    transform: translateY(400%);
  }

  .radio-container input:nth-of-type(6):checked ~ .glider-container .glider {
    transform: translateY(500%);
  }

  .radio-container input:nth-of-type(7):checked ~ .glider-container .glider {
    transform: translateY(600%);
  }

  .radio-container input:nth-of-type(8):checked ~ .glider-container .glider {
    transform: translateY(700%);
  }

  /* 毛玻璃搜索框样式 */
  .search-container {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: var(--surface-secondary);
    padding: 30px;
    border-radius: 15px;
    transition: background 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.03);
  }

  .label {
    position: absolute;
    top: 50%;
    left: 20px;
    transform: translateY(-50%);
    color: #e5e5e5;
    pointer-events: none;
    transition: transform 0.3s ease, font-size 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
  }

  .search-input {
    position: relative;
    width: 230px;
    height: 40px;
    padding: 12px;
    border: 1px solid var(--border-primary);
    border-radius: 8px;
    background: var(--surface-secondary);
    font-size: 16px;
    color: var(--text-primary);
    outline: none;
    transition: box-shadow 0.3s ease, background 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.03);
  }

  .search-input:focus,
  .search-input:not(:placeholder-shown) {
    border-color: #4caf50;
    background: rgba(76, 175, 80, 0.1);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1), 0 0 10px rgba(0, 0, 0, 0.2) inset;
  }

  .search-input:focus + .label,
  .search-input:not(:placeholder-shown) + .label {
    transform: translateY(-120%) scale(0.8);
    font-size: 12px;
    color: #4caf50;
    text-shadow: 0 0 5px rgba(76, 175, 80, 0.6);
  }

  .search-input:hover {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1), 0 0 10px rgba(0, 0, 0, 0.2) inset;
  }

  .clear-button {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    color: #e5e5e5;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease, color 0.3s ease;
  }

  .clear-button:hover {
    color: #4caf50;
    transform: scale(1.1);
  }

  .search-input:not(:focus):not(:placeholder-shown) + .clear-button {
    opacity: 1;
  }

  .shine {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom right, rgba(255, 255, 255, 0.6), transparent);
    border-radius: 8px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .search-input:focus + .shine {
    opacity: 1;
  }

  .search-icon {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    color: #e5e5e5;
    cursor: pointer;
    transition: color 0.3s ease, transform 0.3s ease, filter 0.3s ease;
    border-radius: 50%;
  }

  .search-input:focus + .search-icon {
    color: #4caf50;
    transform: translateY(-50%) scale(1.1);
    filter: drop-shadow(0 0 5px rgba(76, 175, 80, 0.6));
  }

  @keyframes inputPulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  .search-input:focus {
    animation: inputPulse 0.5s ease;
  }

  /* 适配白色背景的毛玻璃搜索框样式 */
  .label-light {
    position: absolute;
    top: 50%;
    left: 16px;
    transform: translateY(-50%);
    color: #6b7280; /* 深灰色，适合白色背景 */
    pointer-events: none;
    transition: transform 0.3s ease, font-size 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
    font-size: 14px;
  }

  .search-input-light {
    position: relative;
    width: 100%;
    height: 40px;
    padding: 8px 50px 8px 16px;
    border: 1px solid rgba(124, 92, 255, 0.2);
    border-radius: 10px;
    background: #FFFFFF;
    font-size: 14px;
    color: #374151;
    outline: none;
    transition: box-shadow 0.3s ease, background 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.03);
  }

  .search-input-light:focus,
  .search-input-light:not(:placeholder-shown) {
    border-color: #7c5cff; /* 主题色边框 */
    background: rgba(124, 92, 255, 0.05); /* 淡紫色背景 */
    box-shadow: 0 4px 16px rgba(124, 92, 255, 0.15), 
                inset 0 1px 3px rgba(255, 255, 255, 0.6),
                inset 0 -1px 3px rgba(0, 0, 0, 0.05);
  }

  .search-input-light:focus + .label-light,
  .search-input-light:not(:placeholder-shown) + .label-light {
    transform: translateY(-140%) scale(0.8);
    font-size: 12px;
    color: #7c5cff; /* 主题色 */
    text-shadow: 0 0 5px rgba(124, 92, 255, 0.3);
  }

  .search-input-light:hover {
    background: rgba(255, 255, 255, 0.8);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1), 
                inset 0 1px 3px rgba(255, 255, 255, 0.6),
                inset 0 -1px 3px rgba(0, 0, 0, 0.08);
  }

  .clear-button-light {
    position: absolute;
    top: 50%;
    right: 35px;
    transform: translateY(-50%);
    color: #6b7280;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease, color 0.3s ease;
    font-size: 14px;
    font-weight: bold;
  }

  .clear-button-light:hover {
    color: #7c5cff;
    transform: translateY(-50%) scale(1.1);
  }

  .search-input-light:not(:placeholder-shown) ~ .clear-button-light {
    opacity: 1;
  }

  .search-icon-light {
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    color: #6b7280;
    cursor: pointer;
    transition: color 0.3s ease, transform 0.3s ease, filter 0.3s ease;
    border-radius: 50%;
    font-size: 16px;
  }

  .search-input-light:focus ~ .search-icon-light {
    color: #7c5cff;
    transform: translateY(-50%) scale(1.1);
    filter: drop-shadow(0 0 8px rgba(124, 92, 255, 0.4));
  }

  .search-input-light:focus {
    animation: inputPulse 0.5s ease;
  }

  /* 玻璃质感单选按钮组样式 - 适配白色背景 */
  .card-radio-group {
    --bg: rgba(255, 255, 255, 0.08);
    --text: #374151;

    display: flex;
    position: relative;
    background: var(--bg);
    border-radius: 1rem;    box-shadow:
      inset 0.5px 0.5px 2px rgba(255, 255, 255, 0.3),
      inset -0.5px -0.5px 2px rgba(0, 0, 0, 0.1),
      0 2px 8px rgba(0, 0, 0, 0.08);
    border: 0.5px solid rgba(255, 255, 255, 0.2);
    overflow: hidden;
    width: fit-content;
  }

  .card-radio-group input {
    display: none;
  }

  .card-radio-group label {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 80px;
    font-size: 14px;
    padding: 0.8rem 1.6rem;
    cursor: pointer;
    font-weight: 600;
    letter-spacing: 0.3px;
    color: var(--text);
    position: relative;
    z-index: 2;
    transition: color 0.3s ease-in-out;
  }

  .card-radio-group label:hover {
    color: white;
  }

  .card-radio-group input:checked + label {
    color: #fff;
  }

  .card-glider {
    position: absolute;
    top: 0;
    bottom: 0;
    width: calc(100% / 3);
    border-radius: 1rem;
    z-index: 1;
    transition:
      transform 0.5s cubic-bezier(0.37, 1.95, 0.66, 0.56),
      background 0.4s ease-in-out,
      box-shadow 0.4s ease-in-out;
  }

  /* Silver */
  #card-silver:checked ~ .card-glider {
    transform: translateX(0%);
    background: linear-gradient(135deg, #c0c0c055, #e0e0e0);
    box-shadow:
      0 0 18px rgba(192, 192, 192, 0.5),
      0 0 10px rgba(255, 255, 255, 0.4) inset;
  }

  /* Gold */
  #card-gold:checked ~ .card-glider {
    transform: translateX(100%);
    background: linear-gradient(135deg, #ffd70055, #ffcc00);
    box-shadow:
      0 0 18px rgba(255, 215, 0, 0.5),
      0 0 10px rgba(255, 235, 150, 0.4) inset;
  }

  /* Platinum */
  #card-platinum:checked ~ .card-glider {
    transform: translateX(200%);
    background: linear-gradient(135deg, #d0e7ff55, #a0d8ff);
    box-shadow:
      0 0 18px rgba(160, 216, 255, 0.5),
      0 0 10px rgba(200, 240, 255, 0.4) inset;
  }

  /* 歌曲列表弹性悬停效果 */
  .track-list-container {
    position: relative;
    overflow: hidden;
  }

  .track-hover-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 0;
    border-radius: 0.75rem;
    background: linear-gradient(135deg, 
      rgba(124, 92, 255, 0.05), 
      rgba(147, 51, 234, 0.03)
    );
    box-shadow: 0 1px 6px rgba(124, 92, 255, 0.04);
    border: 0.5px solid rgba(124, 92, 255, 0.08);
    transform: translateY(-100%);
    transition: 
      transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1),
      height 0.3s ease-out,
      opacity 0.3s ease-out;
    opacity: 0;
    pointer-events: none;
    z-index: 1;
  }

  .track-hover-background.active {
    opacity: 1;
  }

  .track-item {
    position: relative;
    z-index: 2;
    transition: 
      transform 0.2s ease-out,
      color 0.2s ease-out;
  }

  .track-item:hover {
    transform: translateX(2px);
  }

  .track-item:hover .track-title {
    color: #7c5cff;
  }

  .track-item:hover .track-meta {
    color: #6366f1;
  }

  .track-item:hover .track-duration {
    color: #7c5cff;
  }

  .track-item:hover .track-number {
    color: #7c5cff;
    font-weight: 600;
  }

  /* 播放器弹性动画效果 - 已弃用，改用固定底栏 */
  .player-tray {
    transform: translateY(100%);
    opacity: 0;
    transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .player-tray.visible {
    transform: translateY(0);
    opacity: 1;
  }

  .player-tray.hiding {
    transform: translateY(120%);
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.55, 0.085, 0.68, 0.53);
  }

  /* 播放器容器进入动画变体 */
  @keyframes playerSlideUp {
    0% {
      transform: translateY(100%);
      opacity: 0;
    }
    60% {
      transform: translateY(-8px);
      opacity: 0.9;
    }
    80% {
      transform: translateY(4px);
      opacity: 1;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes playerSlideDown {
    0% {
      transform: translateY(0);
      opacity: 1;
    }
    20% {
      transform: translateY(-4px);
      opacity: 0.9;
    }
    100% {
      transform: translateY(120%);
      opacity: 0;
    }
  }

  .player-tray.animate-up {
    animation: playerSlideUp 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .player-tray.animate-down {
    animation: playerSlideDown 0.5s cubic-bezier(0.55, 0.085, 0.68, 0.53) forwards;
  }

  /* 播放器触发按钮 */
  .player-toggle-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 60;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: linear-gradient(135deg, #7c5cff, #9333ea);
    box-shadow: 
      0 4px 20px rgba(124, 92, 255, 0.3),
      0 0 0 0 rgba(124, 92, 255, 0.4);
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s ease;
    animation: pulse-ring 2s infinite;
  }

  .player-toggle-btn:hover {
    transform: scale(1.1);
    box-shadow: 
      0 8px 30px rgba(124, 92, 255, 0.4),
      0 0 0 0 rgba(124, 92, 255, 0.6);
  }

  .player-toggle-btn:active {
    transform: scale(0.95);
  }

  .player-toggle-btn.hidden {
    transform: translateY(100px);
    opacity: 0;
  }

  @keyframes pulse-ring {
    0% {
      box-shadow: 
        0 4px 20px rgba(124, 92, 255, 0.3),
        0 0 0 0 rgba(124, 92, 255, 0.4);
    }
    50% {
      box-shadow: 
        0 4px 20px rgba(124, 92, 255, 0.3),
        0 0 0 10px rgba(124, 92, 255, 0.1);
    }
    100% {
      box-shadow: 
        0 4px 20px rgba(124, 92, 255, 0.3),
        0 0 0 0 rgba(124, 92, 255, 0);
    }
  }

  /* 实色卡片 - 主要内容容器 */
  .surface-card {
    background: var(--surface);
    border-radius: var(--radius);
    box-shadow: var(--shadow-sm);
    border: 1px solid rgba(44, 123, 229, 0.08);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .surface-card:hover {
    box-shadow: var(--shadow-lg);
    border-color: rgba(44, 123, 229, 0.12);
  }

  /* 主内容区域卡片 - 更强的对比 */
  .main-content-card {
    background: var(--surface);
    border-radius: var(--radius);
    box-shadow: 
      0 8px 32px rgba(12,30,70,0.08),
      0 2px 8px rgba(44,123,229,0.04);
    border: 1px solid rgba(44, 123, 229, 0.06);
    position: relative;
    overflow: hidden;
  }

  .main-content-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(44, 123, 229, 0.1) 20%,
      rgba(44, 123, 229, 0.15) 50%,
      rgba(44, 123, 229, 0.1) 80%,
      transparent 100%
    );
  }

  /* 保留装饰性液态效果（仅用于特殊场景） */
  .liquid-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.8);
    /* backdrop-filter已移除 - 改用实体背景 */
    border: 1px solid transparent;
    background-clip: padding-box;
    border-image: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.18) 0%,
      rgba(199, 225, 254, 0.15) 20%,
      rgba(147, 197, 253, 0.12) 40%,
      rgba(59, 130, 246, 0.1) 60%,
      rgba(147, 197, 253, 0.12) 80%,
      rgba(255, 255, 255, 0.18) 100%
    ) 1;
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 
      0 6px 24px rgba(59, 130, 246, 0.08),
      0 2px 8px rgba(147, 197, 253, 0.06),
      inset 0 1px 0 rgba(255, 255, 255, 0.15),
      inset 0 -1px 0 rgba(59, 130, 246, 0.05);
  }

  .liquid-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.08) 0%,
      rgba(199, 225, 254, 0.06) 10%,
      rgba(147, 197, 253, 0.04) 25%,
      rgba(93, 164, 252, 0.03) 40%,
      rgba(59, 130, 246, 0.02) 50%,
      rgba(93, 164, 252, 0.03) 60%,
      rgba(147, 197, 253, 0.04) 75%,
      rgba(199, 225, 254, 0.06) 90%,
      rgba(255, 255, 255, 0.08) 100%
    );
    background-size: 300% 300%;
    animation: liquid-shimmer 10s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
  }

  /* 确保所有液态玻璃容器的子元素在正确层级 */
  .liquid-glass > * {
    position: relative;
    z-index: 10;
  }

  .liquid-glass::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
      circle at center,
      rgba(255, 255, 255, 0.15) 0%,
      rgba(59, 130, 246, 0.08) 20%,
      transparent 70%
    );
    opacity: 0;
    transition: opacity 0.6s ease;
    pointer-events: none;
    z-index: 2;
  }

  .liquid-glass:hover::after {
    /* 移除悬停涟漪效果 */
    opacity: 0;
  }

  .liquid-glass:hover {
    /* 移除背景变化效果，保持原样 */
  }

  /* 简化液态效果内容层 */
  .liquid-card-content {
    position: relative;
    z-index: 3;
  }

  /* 高级液态玻璃 - 带折射效果 */
  .liquid-card-advanced {
    background: rgba(255, 255, 255, 0.06);    border: 1px solid rgba(59, 130, 246, 0.25);
    box-shadow: 
      0 4px 24px rgba(59, 130, 246, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.15),
      inset 0 -1px 0 rgba(59, 130, 246, 0.08);
  }

  .liquid-card-advanced::before {
    background: linear-gradient(
      45deg,
      rgba(255, 255, 255, 0.12) 0%,
      rgba(59, 130, 246, 0.06) 25%,
      rgba(147, 197, 253, 0.04) 50%,
      rgba(59, 130, 246, 0.08) 75%,
      rgba(255, 255, 255, 0.15) 100%
    );
    background-size: 400% 400%;
    animation: liquid-flow 12s ease-in-out infinite;
  }

  /* 侧边栏专用液态玻璃 */
  .liquid-card-sidebar {
    background: rgba(255, 255, 255, 0.04);    border-right: 1px solid rgba(59, 130, 246, 0.15);
  }

  /* 顶部栏专用液态玻璃 */
  .liquid-card-header {
    background: rgba(255, 255, 255, 0.1);    border-bottom: 1px solid rgba(59, 130, 246, 0.2);
    box-shadow: 0 1px 20px rgba(59, 130, 246, 0.08);
    /* 确保拖拽区域正常工作 */
    position: relative;
  }

  /* 拖拽区域样式 - 禁用文本选择，避免与拖拽冲突 */
  [data-tauri-drag-region] {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  /* 🎵 内容区播放器容器 */
  .content-player-container {
    position: fixed;
    bottom: 0;
    left: var(--sidebar-width, 240px); /* 根据CSS变量动态调整 */
    right: 0;
    width: calc(100% - var(--sidebar-width, 240px)); /* 根据CSS变量动态调整 */
    padding: 0; /* 移除内边距，让播放器贴合边缘 */
    background: transparent;
    z-index: 100;
    transition: left 0.7s cubic-bezier(0.34, 1.56, 0.64, 1),
                width 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 🎵 现代播放器样式 - 简约卡片设计 */
  .modern-player {
    position: relative;
    width: 100%;
    height: 80px;
    
    /* 纯白实体背景 */
    background: #FFFFFF;
    
    /* 简约边框 */
    border-top: 1px solid rgba(217, 214, 208, 0.5);
    border-bottom: 1px solid rgba(217, 214, 208, 0.3);
    border-radius: 0;
    color: var(--text-primary);
    overflow: visible;
    
    /* 微妙阴影 */
    box-shadow: 
      0 -2px 8px rgba(0, 0, 0, 0.04),
      0 -1px 3px rgba(0, 0, 0, 0.02);
    
    transition: all 0.3s ease;
  }
  
  /* 🌙 深色模式 - 简约卡片 */
  [data-theme="dark"] .modern-player {
    background: #0F172A;
    border-top: 1px solid rgba(148, 163, 184, 0.15);
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);
    box-shadow: 
      0 -4px 12px rgba(0, 0, 0, 0.3),
      0 -2px 6px rgba(0, 0, 0, 0.2);
  }

  /* 深色模式 - 播放按钮 */
  [data-theme="dark"] .control-main-btn {
    background: linear-gradient(135deg, var(--brand-500) 0%, var(--brand-600) 100%);
    box-shadow: 
      0 4px 20px rgba(77, 134, 255, 0.4),
      0 8px 32px rgba(77, 134, 255, 0.25),
      inset 0 1px 2px rgba(255, 255, 255, 0.2);
  }

  [data-theme="dark"] .control-main-btn:hover {
    box-shadow: 
      0 6px 24px rgba(77, 134, 255, 0.5),
      0 10px 40px rgba(77, 134, 255, 0.3),
      inset 0 1px 3px rgba(255, 255, 255, 0.3);
  }

  /* 深色模式 - 中等按钮 */
  [data-theme="dark"] .control-medium-btn {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.1);
  }

  [data-theme="dark"] .control-medium-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--brand-500);
    color: var(--brand-500);
  }

  /* 深色模式 - 小按钮 */
  [data-theme="dark"] .control-small-btn {
    background: rgba(255, 255, 255, 0.03);
    border-color: rgba(255, 255, 255, 0.08);
  }

  [data-theme="dark"] .control-small-btn:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: var(--brand-500);
    color: var(--brand-500);
  }

  [data-theme="dark"] .control-small-btn.active {
    background: linear-gradient(135deg, var(--brand-500) 0%, var(--brand-600) 100%);
  }

  /* 深色模式 - 进度条 */
  [data-theme="dark"] .progress-track {
    background: rgba(148, 163, 184, 0.1);
  }

  [data-theme="dark"] .progress-container:hover .progress-track {
    background: rgba(148, 163, 184, 0.15);
  }

  [data-theme="dark"] .progress-bar {
    background: linear-gradient(90deg, var(--brand-500) 0%, var(--brand-600) 100%);
    box-shadow: 0 0 12px rgba(77, 134, 255, 0.25);
  }

  /* 深色模式 - 功能按钮 */
  [data-theme="dark"] .function-square-btn {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.08);
  }

  [data-theme="dark"] .function-square-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--brand-500);
    color: var(--brand-500);
  }

  /* 深色模式 - 音量控制 */
  [data-theme="dark"] .volume-icon-btn:hover {
    background: rgba(255, 255, 255, 0.08);
  }

  [data-theme="dark"] .volume-slider-container {
    background: rgba(148, 163, 184, 0.1);
  }

  [data-theme="dark"] .volume-slider-fill {
    background: linear-gradient(90deg, var(--brand-500) 0%, var(--brand-600) 100%);
  }

  /* 主容器 - 左中右三栏布局 */
  .player-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 100%;
    padding: 0 20px;
    gap: 24px;
  }

  /* 🎯 左侧区域 - 水平布局：封面 + 信息区 */
  .player-left-section {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
    min-width: 320px;
    max-width: 500px;
    padding: 8px 0;
  }

  /* 信息区：歌曲信息+歌词+按钮组 - 垂直堆叠 */
  .left-info-wrapper {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
    min-width: 0;
    justify-content: center;
    padding-top: 10px;
  }

  /* 歌曲信息行：歌名 - 歌手 */
  .left-top-area {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.4;
    overflow: hidden;
    margin-bottom: 2px;
  }

  .left-song-info {
    display: flex;
    align-items: center;
    gap: 6px;
    overflow: hidden;
  }

  .track-title {
    flex-shrink: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .track-artist {
    flex-shrink: 0;
    font-size: 14px;
    font-weight: 400;
    color: var(--text-muted);
  }

  /* 当前歌词显示区域 - 容器 */
  .current-lyric-display {
    position: relative;
    font-size: 13px;
    font-weight: 400;
    color: var(--text-muted);
    line-height: 1.4;
    height: 20px;
    overflow: hidden;
    white-space: nowrap;
  }

  .current-lyric-display.empty {
    font-style: italic;
    opacity: 0.6;
  }

  /* 歌词内容包装器 */
  .lyric-content-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: inline-block;
    white-space: nowrap;
  }

  /* 歌词切换动画：旧的从左侧退出（渐隐+缩小） */
  @keyframes lyricSlideOut {
    0% {
      transform: translateX(0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateX(-30%) scale(0.85); /* 缩小并向左退出 */
      opacity: 0;
    }
  }

  /* 歌词切换动画：新的从右侧进入（渐显+缩放，缓慢停下） */
  @keyframes lyricSlideIn {
    0% {
      transform: translateX(20%) scale(0.9); /* 从右侧进入，略小 */
      opacity: 0;
    }
    100% {
      transform: translateX(0) scale(1); /* 缓慢减速到最终位置 */
      opacity: 1;
    }
  }

  .lyric-slide-out {
    animation: lyricSlideOut 0.3s cubic-bezier(0.4, 0, 0.6, 1) forwards;
  }

  .lyric-slide-in {
    animation: lyricSlideIn 0.5s cubic-bezier(0.2, 0.8, 0.3, 1) forwards; /* 柔和减速 */
  }

  /* 跑马灯动画（超长歌词） */
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .lyric-marquee {
    animation: marquee linear infinite;
    display: inline-block;
  }

  /* 跑马灯内容需要重复一次以实现无缝循环 */
  .lyric-marquee::after {
    content: attr(data-text);
    padding-left: 2em;
  }

  /* 歌词加载状态 */
  .loading-lyrics {
    display: inline-flex;
    align-items: center;
    color: var(--brand-primary);
    font-style: italic;
    opacity: 0.8;
  }

  /* 旋转动画 */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin {
    animation: spin 1s linear infinite;
  }

  .lyric-fade-in {
    opacity: 1;
    transform: translateY(0);
  }

  .lyric-fade-out {
    opacity: 0;
    transform: translateY(-4px);
  }

  /* 按钮组 */
  .left-bottom-buttons {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-top: -6px;
  }

  /* 专辑缩略图 - 正方形 */
  .album-thumbnail {
    width: 56px;
    height: 56px;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    flex-shrink: 0;
    perspective: 400px;
    transform-style: preserve-3d;
    transform-origin: center;
    position: relative;
    z-index: 10;
  }

  .album-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .album-thumbnail:hover {
    transform: scale(1.08) translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2), 0 0 20px rgba(59, 130, 246, 0.3);
    border: 1px solid rgba(59, 130, 246, 0.4);
  }
  
  .album-thumbnail:active {
    transform: scale(1.12) translateY(-3px);
    transition: transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25), 0 0 30px rgba(59, 130, 246, 0.5);
    border: 1px solid rgba(59, 130, 246, 0.6);
  }

  /* 专辑图片 */
  .album-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* 专辑占位符 */
  .album-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #F3F4F6; /* 浅灰色背景 */
  }



  /* 🎯 中间区域 - 垂直两层：上层播放控制 + 下层进度条 */
  .transport-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 10px;
    flex: 1;
    max-width: 600px;
  }

  /* 上层：播放控制按钮组 - 5按钮布局 */
  .transport-controls {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  /* 小键：随机/循环等 */
  /* 🔀 小按钮（随机/循环）- 轻量毛玻璃 */
  .control-small-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.06);    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
    justify-self: center;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
  }

  .control-small-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--brand-600);
    color: var(--brand-600);
    transform: scale(1.05);
  }

  .control-small-btn:active {
    transform: scale(0.95);
    transition-duration: 0.1s;
  }

  /* 激活状态 - 渐变高亮 */
  .control-small-btn.active {
    background: linear-gradient(135deg, var(--brand-600) 0%, var(--brand-500) 100%);
    border: 1.5px solid rgba(255, 255, 255, 0.25);
    color: white;
    box-shadow: 
      0 2px 12px rgba(43, 111, 255, 0.3),
      inset 0 1px 1px rgba(255, 255, 255, 0.2);
  }

  .control-small-btn.active:hover {
    transform: scale(1.08);
    box-shadow: 
      0 3px 16px rgba(43, 111, 255, 0.4),
      inset 0 1px 2px rgba(255, 255, 255, 0.3);
  }

  /* 🎵 中等按钮（上一首/下一首）- 毛玻璃质感 */
  .control-medium-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);    border: 1px solid rgba(255, 255, 255, 0.18);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
    justify-self: center;
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.08),
      inset 0 1px 1px rgba(255, 255, 255, 0.15);
  }

  .control-medium-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: var(--brand-600);
    color: var(--brand-600);
    transform: scale(1.05);
    box-shadow: 
      0 4px 12px rgba(0, 0, 0, 0.12),
      inset 0 1px 2px rgba(255, 255, 255, 0.2);
  }

  .control-medium-btn:active {
    transform: scale(0.95);
    transition-duration: 0.1s;
  }

  /* 主键：播放/暂停 - 居中对齐 */
  /* 🎯 播放按钮 - 视觉焦点核心 */
  .control-main-btn {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--brand-600) 0%, var(--brand-700) 100%);
    border: 1.5px solid rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 
      0 3px 16px rgba(43, 111, 255, 0.35),
      0 6px 24px rgba(43, 111, 255, 0.2),
      inset 0 1px 2px rgba(255, 255, 255, 0.3);
    justify-self: center;
    position: relative;
    overflow: hidden;
  }

  /* 悬停效果：轻微放大 + 增强发光 */
  .control-main-btn:hover {
    transform: scale(1.08);
    box-shadow: 
      0 6px 24px rgba(43, 111, 255, 0.5),
      0 10px 40px rgba(43, 111, 255, 0.3),
      inset 0 1px 3px rgba(255, 255, 255, 0.4);
  }

  /* 按下效果：轻微缩小 + Q弹反馈 */
  .control-main-btn:active {
    transform: scale(0.95);
    transition-duration: 0.1s;
  }

  /* 内部光晕效果 */
  .control-main-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 60%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .control-main-btn:hover::before {
    opacity: 1;
  }

  .play-icon {
    margin-left: 1px; /* 播放图标稍向右偏移 */
  }

  /* 底部播放器光效已删除 - 仅保留基础容器 */
  .mouse-light-container {
    position: relative;
  }

  .mouse-light-container > * {
    position: relative;
    z-index: 1;
  }






  /* 下层：进度条区域 */
  .progress-area {
    display: flex;
    align-items: center;
    width: calc(100% + 40px);
    margin-left: -20px;
    margin-right: -20px;
    gap: 12px;
    padding: 0 20px;
  }

  /* 时间显示 - 当前时间 */
  .time-current {
    font-size: 11px;
    font-weight: 500;
    color: var(--text-muted);
    font-family: 'Courier New', monospace;
    text-align: left;
    line-height: 1;
    flex-shrink: 0;
    min-width: 40px;
  }

  /* 时间显示 - 总时长 */
  .time-total {
    font-size: 11px;
    font-weight: 500;
    color: var(--text-muted);
    font-family: 'Courier New', monospace;
    text-align: right;
    line-height: 1;
    flex-shrink: 0;
    min-width: 40px;
  }

  /* 进度条容器 - 独立一行 */
  .progress-container {
    flex: 1;
    height: 4px;
    position: relative;
    cursor: pointer;
    border-radius: 2px;
    overflow: visible;
  }

  /* 进度条轨道 */
  .progress-track {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: rgba(100, 116, 139, 0.15);
    border-radius: 2px;
    transition: background 0.3s ease;
    pointer-events: none;
  }

  .progress-container:hover .progress-track {
    background: rgba(100, 116, 139, 0.2);
  }

  /* 进度条填充 - 渐变+过渡 */
  .progress-bar {
    position: absolute;
    top: 0;
    left: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--brand-600) 0%, var(--brand-500) 100%);
    border-radius: 2px;
    transition: width 0.1s linear;
    pointer-events: none;
    box-shadow: 0 0 6px rgba(43, 111, 255, 0.2);
    z-index: 1;
  }

  /* 拖拽手柄 - 更大更明显 */
  .progress-handle {
    position: absolute;
    right: -8px;
    top: 50%;
    transform: translateY(-50%) scale(0);
    width: 16px;
    height: 16px;
    background: white;
    border: 3px solid var(--brand-600);
    border-radius: 50%;
    opacity: 0;
    transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
    pointer-events: none;
    box-shadow: 
      0 2px 8px rgba(43, 111, 255, 0.3),
      0 4px 16px rgba(43, 111, 255, 0.15);
    z-index: 2; /* 确保在最上层 */
  }

  /* 悬停时显示拖拽点 */
  .progress-container:hover .progress-handle {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }

  /* 拖拽时放大拖拽点 */
  .progress-handle.active {
    opacity: 1;
    transform: translateY(-50%) scale(1.2);
    box-shadow: 
      0 3px 12px rgba(43, 111, 255, 0.4),
      0 6px 20px rgba(43, 111, 255, 0.2);
  }

  /* 🎯 右侧：功能区 - 按钮组 */
  .player-right-section {
    display: flex;
    align-items: center;
    gap: 16px;
    flex-shrink: 0;
    justify-content: flex-end;
    min-width: 280px;
  }

  /* 🔊 音量控制组 - 图标+横向滑块 */
  .volume-control {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .volume-icon-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.2s;
    flex-shrink: 0;
  }

  .volume-icon-btn:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--brand-600);
    transform: scale(1.1);
  }

  /* 音量滑块容器 */
  .volume-slider-container {
    width: 80px;
    height: 4px;
    position: relative;
    cursor: pointer;
    border-radius: 2px;
    background: rgba(100, 116, 139, 0.15);
  }

  /* 音量滑块填充 */
  .volume-slider-fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--brand-600) 0%, var(--brand-500) 100%);
    border-radius: 2px;
    transition: width 0.1s linear;
    pointer-events: none;
  }

  /* 音量滑块手柄 */
  .volume-slider-handle {
    position: absolute;
    right: -6px;
    top: 50%;
    transform: translateY(-50%) scale(0);
    width: 12px;
    height: 12px;
    background: white;
    border: 2px solid var(--brand-600);
    border-radius: 50%;
    opacity: 0;
    transition: all 0.2s;
    pointer-events: none;
    box-shadow: 0 2px 6px rgba(43, 111, 255, 0.25);
  }

  .volume-slider-container:hover .volume-slider-handle,
  .volume-slider-handle.active {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }

  .volume-slider-handle.active {
    transform: translateY(-50%) scale(1.15);
    box-shadow: 0 2px 8px rgba(43, 111, 255, 0.35);
  }

  /* 方形圆角功能按钮 - "幽灵"样式 */
  /* ⚙️ 功能按钮 - 纯图标样式（无框架） */
  .function-square-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%; /* 改为圆形 */
    background: transparent; /* 透明背景 */    border: none; /* 移除边框 */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: none; /* 移除阴影 */
  }

  .function-square-btn:hover {
    background: rgba(0, 0, 0, 0.05); /* 轻微背景 */
    color: var(--brand-600);
    transform: scale(1.1);
    box-shadow: none;
  }

  .function-square-btn:active {
    transform: scale(0.9);
    transition-duration: 0.1s;
  }

  /* 激活状态（如收藏按钮） */
  .function-square-btn.active {
    background: transparent;
    border: none;
    color: #FF4D6D;
    box-shadow: none;
  }

  .function-square-btn.active:hover {
    background: rgba(255, 77, 109, 0.1);
    transform: scale(1.1);
    box-shadow: none;
  }

  /* 重复播放指示器 */
  .repeat-indicator {
    position: absolute;
    top: -2px;
    right: -2px;
    font-size: 10px;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  /* 🎯 重新设计的主要内容区域 - 优化布局 */
  .player-main-content {
    height: 120px; /* 与播放器总高度一致 */
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: var(--space-4) var(--space-6);
    position: relative;
    z-index: 2;
    gap: var(--space-3);
  }

  /* 顶部区域 - 专辑信息和操作按钮，更宽松的布局 */
  .player-top-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    height: 48px; /* 固定高度确保一致性 */
  }

  /* 左侧信息区域 - 专辑封面和曲目信息，优化间距 */
  .player-info-section {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex: 1;
    min-width: 0;
    max-width: 380px; /* 适当减小宽度 */
  }

  /* 右侧操作按钮组 - 紧凑排列 */
  .player-actions-group {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex-shrink: 0;
  }

  /* 中部控制区域 - 紧凑但清晰的布局 */
  .player-control-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px; /* 固定间距 */
    width: 100%;
    height: 40px; /* 固定高度 */
  }

  .player-album-cover {
    position: relative;
    width: 48px; /* 稍微减小尺寸 */
    height: 48px;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);
    flex-shrink: 0;
  }

  /* 🎯 可点击专辑封面样式 */
  .clickable-album-cover {
    cursor: pointer;
    transition: all 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .clickable-album-cover:hover {
    transform: scale(1.02);
    box-shadow: 
      0 6px 20px rgba(0, 0, 0, 0.2),
      0 0 16px rgba(124, 92, 255, 0.15);
  }

  .clickable-album-cover:active {
    transform: scale(0.98);
    transition: transform 0.12s ease;
  }

  /* 歌词提示覆盖层 */
  .album-lyrics-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.4);    opacity: 0;
    transition: opacity 0.25s ease;
    border-radius: 12px;
    color: #fff;
  }

  .clickable-album-cover:hover .album-lyrics-overlay {
    opacity: 1;
  }

  .album-lyrics-overlay svg {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }

  .album-cover-container {
    width: 100%;
    height: 100%;
    position: relative;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.6, 1);
    transform-style: preserve-3d;
    perspective: 200px;
  }

  .album-cover-face {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    overflow: hidden;
  }

  .album-cover-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .album-cover-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(108, 156, 255, 0.3), rgba(138, 108, 255, 0.3));
  }

  .album-cover-placeholder-new {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.3), rgba(59, 130, 246, 0.3));
  }

  /* 歌曲信息区域 - 优化布局 */
  .player-track-info {
    flex: 1;
    min-width: 0;
    position: relative;
    overflow: hidden;
    height: 40px; /* 固定高度 */
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .track-info-container {
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .track-info-new {
    position: absolute;
    inset: 0;
  }

  /* 歌曲信息优化 - 紧凑布局 */
  .track-title {
    color: var(--text-primary); /* 使用主题变量 */
    font-weight: 700; /* 加粗字体 */
    font-size: 15px; /* 稍微减小 */
    line-height: 1.3; /* 紧凑行高 */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin: 0 0 1px 0; /* 减小底部间距 */
    letter-spacing: 0.2px;
  }

  .track-artist {
    color: var(--text-muted); /* 使用主题变量 */
    font-size: 13px; /* 稍微减小 */
    font-weight: 500; /* 减轻字重 */
    line-height: 1.3; /* 紧凑行高 */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin: 0;
    letter-spacing: 0.1px;
  }

  /* 收藏分享按钮 - 重新排列后的样式 */
  .player-action-buttons {
    display: flex;
    gap: var(--space-2);
  }

  /* 功能按钮组 */
  .player-function-buttons {
    display: flex;
    gap: var(--space-2);
  }

  /* 🎯 玻璃材质简约按钮样式 - 优化尺寸 */
  .card-action-btn {
    width: 32px; /* 稍微增大 */
    height: 32px;
    border-radius: 8px;
    /* 玻璃材质背景 */
    background: rgba(255, 255, 255, 0.12);    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted); /* 使用主题变量 */
    cursor: pointer;
    transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }

  .card-action-btn:hover {
    background: rgba(255, 255, 255, 0.18);
    border-color: rgba(124, 92, 255, 0.3);
    color: #7C5CFF;
    transform: translateY(-1px) scale(1.05);
    box-shadow: 
      0 4px 16px rgba(0, 0, 0, 0.1),
      0 0 12px rgba(124, 92, 255, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.25);
  }

  .card-action-btn:active {
    transform: translateY(0) scale(0.95);
    transition: all 0.15s ease;
  }

  .card-action-btn.favorite-btn.active {
    background: linear-gradient(135deg, 
      rgba(124, 92, 255, 0.9), 
      rgba(99, 102, 241, 0.8)
    );
    border-color: rgba(124, 92, 255, 0.4);
    color: #fff;
    box-shadow: 
      0 4px 18px rgba(124, 92, 255, 0.25),
      0 0 16px rgba(124, 92, 255, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    animation: card-heart-pulse 2s ease-in-out infinite;
  }

  .card-action-btn.share-btn:hover {
    box-shadow: 
      0 4px 16px rgba(0, 0, 0, 0.12),
      0 0 20px rgba(124, 92, 255, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.25);
  }

  /* 玻璃材质心跳动画 */
  @keyframes card-heart-pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 
        0 4px 18px rgba(124, 92, 255, 0.25),
        0 0 16px rgba(124, 92, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 
        0 6px 22px rgba(124, 92, 255, 0.35),
        0 0 24px rgba(124, 92, 255, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
  }

  /* 中间控制区域 - 重新排列后的样式 */
  .player-center-controls {
    display: flex;
    align-items: center;
    gap: var(--space-3); /* 减小间距 */
    justify-content: center;
    height: 24px; /* 固定高度 */
  }

  .control-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    cursor: pointer;
    transition: all 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    color: #fff;
    position: relative;
  }

  /* 主播放按钮 - 优化尺寸适配 */
  .primary-play-btn {
    width: 48px; /* 减小尺寸 */
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #7C5CFF, #6366F1);
    box-shadow: 
      0 4px 14px rgba(124, 92, 255, 0.25),
      0 0 12px rgba(99, 102, 241, 0.15);
    position: relative;
    overflow: hidden;
    border: none;
    color: #fff;
  }

  .primary-play-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), transparent 50%);
    pointer-events: none;
  }

  .primary-play-btn:hover {
    transform: scale(1.05);
    box-shadow: 
      0 8px 24px rgba(124, 92, 255, 0.3),
      0 0 20px rgba(99, 102, 241, 0.2);
  }

  .primary-play-btn:active {
    transform: scale(0.95);
    transition: transform 0.12s ease;
  }

  .play-icon {
    margin-left: 2px;
  }

  /* 次级控制按钮 - 白色背景适配 */
  .secondary-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #F3F4F6; /* 浅灰色背景 */
    border: 1px solid #E5E7EB; /* 浅边框 */
    color: var(--text-muted); /* 使用主题变量 */
  }

  .secondary-btn:hover {
    background: #E5E7EB; /* 稍深的背景 */
    border-color: #7C5CFF; /* 主题色描边 */
    transform: translateY(-1px) scale(1.05);
    color: #7C5CFF; /* 主题色图标 */
    box-shadow: 
      0 4px 14px rgba(0, 0, 0, 0.1),
      0 0 12px rgba(124, 92, 255, 0.2); /* 主题色发光 */
  }

  .secondary-btn:active {
    transform: scale(0.95);
    transition: transform 0.12s ease;
  }

  .secondary-btn.active {
    background: linear-gradient(135deg, #7C5CFF, #6366F1);
    border-color: #7C5CFF;
    color: #fff;
    box-shadow: 
      0 4px 18px rgba(124, 92, 255, 0.3),
      0 0 16px rgba(124, 92, 255, 0.2);
  }

  .repeat-indicator {
    position: absolute;
    top: -2px;
    right: -2px;
    font-size: 10px;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  /* 右侧功能按钮区域 - 现在在顶部右侧 */
  .player-right-functions {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex: 1;
    justify-content: flex-end;
    max-width: 200px;
  }

  /* 右侧功能按钮 - 白色背景适配 */
  .function-btn {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: #F3F4F6; /* 浅灰色背景 */
    border: 1px solid #E5E7EB; /* 浅边框 */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted); /* 使用主题变量 */
    cursor: pointer;
    transition: all 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .function-btn:hover {
    background: #E5E7EB; /* 稍深的背景 */
    border-color: #7C5CFF; /* 主题色描边 */
    color: #7C5CFF; /* 主题色图标 */
    transform: translateY(-1px) scale(1.03);
    box-shadow: 
      0 3px 10px rgba(0, 0, 0, 0.1),
      0 0 8px rgba(124, 92, 255, 0.2); /* 柔和发光 */
  }

  .function-btn:active {
    transform: translateY(0) scale(0.97);
    transition: all 0.12s ease;
  }

  .function-btn.active {
    background: linear-gradient(135deg, #7C5CFF, #6366F1);
    border-color: #7C5CFF;
    color: #fff;
    box-shadow: 
      0 4px 14px rgba(124, 92, 255, 0.3),
      0 0 12px rgba(124, 92, 255, 0.2);
  }

  /* 进度条区域 - 重新设计，更紧凑 */
  .player-progress-section {
    width: 100%;
    max-width: 500px; /* 稍微减小最大宽度 */
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 2px; /* 减小间距 */
    z-index: 3;
  }

  .progress-time-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px; /* 稍微增大字号 */
    color: var(--text-muted); /* 使用主题变量 */
    font-family: var(--font-mono);
    font-variant-numeric: tabular-nums;
    font-weight: 500;
    margin-bottom: 2px; /* 与进度条保持小间距 */
  }

  .current-time,
  .total-time {
    font-weight: 600;
    line-height: 1;
    color: #374151; /* 深灰色时间显示 */
    letter-spacing: 0.3px; /* 增加字母间距提升可读性 */
  }

  .progress-bar-container {
    position: relative;
    height: 6px;
    cursor: pointer;
    border-radius: 3px;
    overflow: hidden;
    margin: 2px 0;
  }

  .progress-bar-container::after {
    content: '';
    position: absolute;
    inset: -8px 0;
    pointer-events: all;
  }

  .progress-track {
    position: absolute;
    inset: 0;
    background: #F3F4F6; /* 浅灰色轨道 */
    border: 1px solid #E5E7EB;
    border-radius: 3px;
  }

  .progress-fill {
    position: relative;
    height: 100%;
    /* 使用主题渐变 - 与整体风格呼应 */
    background: linear-gradient(90deg, #7C5CFF, #6366F1, #3B82F6);
    border-radius: 3px;
    transition: width 0.3s ease;
    box-shadow: 
      0 0 8px rgba(124, 92, 255, 0.2),
      0 0 4px rgba(99, 102, 241, 0.15);
  }

  .progress-thumb {
    position: absolute;
    right: -6px;
    top: 50%;
    transform: translateY(-50%);
    width: 12px;
    height: 12px;
    background: #fff;
    border-radius: 50%;
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.15),
      0 0 8px rgba(108, 156, 255, 0.3);
    opacity: 0;
    transform: translateY(-50%) scale(0);
    transition: all 0.15s ease;
  }

  .progress-bar-container:hover .progress-thumb,
  .progress-thumb.active {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }

  .progress-thumb.active {
    transform: translateY(-50%) scale(1.2);
    box-shadow: 
      0 4px 12px rgba(0, 0, 0, 0.2),
      0 0 12px rgba(108, 156, 255, 0.4);
  }

  /* 动画效果 */
  @keyframes heart-pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 
        0 0 16px rgba(108, 156, 255, 0.4),
        0 4px 12px rgba(108, 156, 255, 0.2);
    }
  }

  @keyframes play-button-glow {
    0%, 100% {
      box-shadow: 
        0 6px 18px rgba(108, 156, 255, 0.35),
        0 0 22px rgba(138, 108, 255, 0.25),
        inset 0 1px 4px rgba(255, 255, 255, 0.3);
    }
    50% {
      box-shadow: 
        0 8px 24px rgba(108, 156, 255, 0.45),
        0 0 30px rgba(138, 108, 255, 0.35),
        inset 0 1px 4px rgba(255, 255, 255, 0.4);
    }
  }

  @keyframes share-radiance {
    0% {
      box-shadow: 0 0 8px rgba(108, 156, 255, 0.2);
    }
    50% {
      box-shadow: 
        0 0 16px rgba(108, 156, 255, 0.4),
        0 0 24px rgba(138, 108, 255, 0.2);
    }
    100% {
      box-shadow: 0 0 8px rgba(108, 156, 255, 0.2);
    }
  }

  /* 增强按钮交互动画 */
  .primary-play-btn:not(:active):hover {
    animation: play-button-glow 2s ease-in-out infinite;
  }

  .share-btn:hover {
    animation: share-radiance 1.5s ease-in-out infinite;
  }

  /* 按钮点击波纹效果 */
  .control-btn:active::before,
  .action-btn:active::before,
  .function-btn:active::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: rgba(255, 255, 255, 0.3);
    opacity: 1;
    animation: ripple-effect 0.4s ease-out;
    pointer-events: none;
  }

  @keyframes ripple-effect {
    0% {
      transform: scale(0.8);
      opacity: 1;
    }
    100% {
      transform: scale(1.2);
      opacity: 0;
    }
  }

  /* 响应式调整 */
  @media (max-width: 768px) {
    .content-player-container {
      padding: 0; /* 移动端也贴合边缘 */
    }
    
    .modern-player {
      height: 70px;    box-shadow: 
        0 -1px 0 0 rgba(255, 255, 255, 0.4) inset,
        0 -6px 24px rgba(0, 0, 0, 0.05),
        0 -2px 8px rgba(0, 0, 0, 0.03);
    }

    .app-content {
      padding-bottom: 110px; /* 移动端播放器70px + 缓冲40px */
    }

    .player-main-content {
      height: 100px; /* 与播放器高度一致 */
      padding: var(--space-2) var(--space-4);
      gap: var(--space-1);
    }

    /* 移动端左侧信息区也需要固定宽度 */
    .player-left-section {
      width: 200px; /* 移动端稍微缩小 */
      min-width: 200px;
      max-width: 200px;
    }

    .track-text-stack {
      width: 142px; /* 200px - 48px - 10px */
      min-width: 142px;
      max-width: 142px;
    }

    .track-title,
    .track-artist {
      max-width: 142px;
    }

    .player-actions-group {
      gap: var(--space-2);
    }

    .player-center-controls {
      gap: var(--space-3);
    }

    /* 🎯 新中轴布局的响应式调整 */
    .transport-area {
      width: 320px; /* 移动端缩小中轴宽度 */
      max-width: 320px;
    }

    /* 隐藏左右小键，仅保留中间三键 */
    .control-small-btn {
      display: none;
    }

    .transport-controls {
      grid-template-columns: auto auto auto; /* 仅三列：上一首|播放|下一首 */
      gap: 16px;
    }
  }

    .player-album-cover {
      width: 48px;
      height: 48px;
    }

    .track-title {
      font-size: 15px;
    }

    .track-artist {
      font-size: 13px;
    }

    .primary-play-btn {
      width: 56px;
      height: 56px;
    }

    .secondary-btn {
      width: 36px;
      height: 36px;
    }

    .function-btn {
      width: 32px;
      height: 32px;
    }

  /* 🎯 更小屏幕的响应式调整 */
  @media (max-width: 480px) {
    .transport-area {
      width: 280px; /* 更小屏幕进一步缩小 */
      max-width: 280px;
    }

    .transport-controls {
      gap: 12px; /* 更紧凑间距 */
    }

    /* 稍微缩小按钮 */
    .control-medium-btn {
      width: 32px;
      height: 32px;
    }

    .control-main-btn {
      width: 44px;
      height: 44px;
    }

    /* 超小屏幕左侧信息区进一步缩小 */
    .player-left-section {
      width: 180px;
      min-width: 180px;
      max-width: 180px;
    }

    .track-text-stack {
      width: 122px; /* 180px - 48px - 10px */
      min-width: 122px;
      max-width: 122px;
    }

    .track-title,
    .track-artist {
      max-width: 122px;
      font-size: 14px; /* 稍小字体 */
    }

    .track-artist {
      font-size: 12px;
    }
  }

    .player-right-functions {
      max-width: 150px;
      gap: var(--space-2);
    }

    .player-center-controls {
      gap: var(--space-3);
    }
  }

  @media (max-width: 480px) {
    .content-player-container {
      padding: 0; /* 小屏幕也贴合边缘 */
    }
    
    .modern-player {
      height: 60px;    box-shadow: 
        0 -1px 0 0 rgba(255, 255, 255, 0.3) inset,
        0 -4px 16px rgba(0, 0, 0, 0.05),
        0 -1px 4px rgba(0, 0, 0, 0.03);
    }

    .app-content {
      padding-bottom: 100px; /* 小屏幕播放器60px + 缓冲40px */
    }

    .player-main-content {
      height: 90px; /* 与播放器高度一致 */
      padding: var(--space-1) var(--space-3);
      gap: 1px;
    }

    .player-info-section {
      max-width: 200px;
      gap: var(--space-2);
    }

    .player-actions-group {
      gap: var(--space-1);
    }

    .player-center-controls {
      gap: var(--space-2);
    }

    .player-album-cover {
      width: 40px;
      height: 40px;
    }

    .track-title {
      font-size: 14px;
    }

    .track-artist {
      font-size: 12px;
    }

    .primary-play-btn {
      width: 48px;
      height: 48px;
    }

    .secondary-btn {
      width: 32px;
      height: 32px;
    }

    .function-btn {
      width: 28px;
      height: 28px;
    }

    .player-action-buttons {
      display: none; /* 在小屏幕上隐藏收藏分享按钮 */
    }

    .player-center-controls {
      gap: var(--space-2);
    }

    .player-right-functions {
      max-width: 120px;
      gap: var(--space-1);
    }

    .progress-time-info {
      font-size: 11px;
    }
  }

  /* 原有播放器样式保持兼容 */
  .liquid-card-player {
    background: rgba(255, 255, 255, 0.12);    border-top: 1px solid rgba(59, 130, 246, 0.25);
    box-shadow: 
      0 -4px 24px rgba(59, 130, 246, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  /* 动画效果 */
  @keyframes liquid-shimmer {
    0% {
      background-position: 0% 0%;
      opacity: 0.5;
    }
    16.67% {
      background-position: 25% 25%;
      opacity: 0.65;
    }
    33.33% {
      background-position: 75% 50%;
      opacity: 0.7;
    }
    50% {
      background-position: 100% 75%;
      opacity: 0.6;
    }
    66.67% {
      background-position: 75% 100%;
      opacity: 0.8;
    }
    83.33% {
      background-position: 25% 75%;
      opacity: 0.4;
    }
    100% {
      background-position: 0% 0%;
      opacity: 0.5;
    }
  }

  @keyframes liquid-flow {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  @keyframes liquid-ripple {
    0% {
      transform: scale(0.8) rotate(0deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.2) rotate(180deg);
      opacity: 0.8;
    }
    100% {
      transform: scale(1.5) rotate(360deg);
      opacity: 0;
    }
  }

  /* 环境光效果 - 根据鼠标位置变化 */
  .liquid-card-interactive {
    position: relative;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    overflow: hidden;
  }

  /* 确保子元素在正确层级 */
  .liquid-card-interactive > * {
    position: relative;
    z-index: 10;
  }

  .liquid-card-interactive::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.05) 0%,
      rgba(147, 197, 253, 0.03) 25%,
      rgba(59, 130, 246, 0.02) 50%,
      rgba(147, 197, 253, 0.03) 75%,
      rgba(255, 255, 255, 0.05) 100%
    );
    opacity: 0;
    transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    pointer-events: none;
    z-index: 1;
  }

  .liquid-card-interactive:hover {
    /* 移除背景变化效果，保持原样 */
  }

  .liquid-card-interactive:hover::before {
    /* 移除背景光效变化 */
    opacity: 0;
  }

  /* 涟漪动画效果 */
  .liquid-card-interactive::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(147, 197, 253, 0.08) 30%,
      rgba(59, 130, 246, 0.06) 60%,
      rgba(147, 197, 253, 0.04) 80%,
      transparent 100%
    );
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    pointer-events: none;
    z-index: 2;
  }

  .liquid-card-interactive:hover::after {
    /* 移除涟漪动画效果 */
    width: 0;
    height: 0;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
  }

  @keyframes ripple-pulse {
    0% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    50% {
      transform: translate(-50%, -50%) scale(1.1);
      opacity: 0.8;
    }
    100% {
      transform: translate(-50%, -50%) scale(1.2);
      opacity: 0;
    }
  }

  /* 深度感 - 多层叠加 */
  .liquid-card-depth {
    position: relative;
  }

  .liquid-card-depth::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    right: 2px;
    bottom: 2px;
    background: rgba(59, 130, 246, 0.02);
    border-radius: 14px;    z-index: -1;
  }

  .liquid-card-depth::after {
    content: '';
    position: absolute;
    top: 4px;
    left: 4px;
    right: 4px;
    bottom: 4px;
    background: rgba(147, 197, 253, 0.01);
    border-radius: 12px;    z-index: -2;
  }

  /* 统一主色按钮样式 */
  .btn-primary {
    background: var(--accent);
    color: white;
    border: none;
    border-radius: var(--radius-small);
    padding: var(--space-1) var(--space-2);
    font-weight: 600;
    box-shadow: var(--shadow-sm);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    cursor: pointer;
  }

  .btn-primary:hover {
    background: var(--accent-2);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  /* 🎯 高对比度实用类 */
  .text-contrast-primary {
    color: var(--text-primary);
    font-weight: 600;
  }

  .text-contrast-secondary {
    color: var(--text-secondary);
    font-weight: 500;
  }

  .surface-contrast {
    background: var(--surface-primary);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-subtle);
  }

  .surface-contrast-elevated {
    background: var(--surface-primary);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-moderate);
  }

  /* 高对比度模式下的表格样式 */
  [data-contrast="high"] .card-surface table th {
    color: var(--text-primary);
    font-weight: 700;
    background: var(--surface-secondary);
    border-bottom: 2px solid var(--border-primary);
  }

  [data-contrast="high"] .card-surface table td {
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border-secondary);
  }

  [data-contrast="high"] .card-surface table tr:hover {
    background: var(--surface-secondary);
  }

  /* 高对比度模式下的按钮样式 */
  [data-contrast="high"] .btn-brand {
    background: var(--brand-600);
    color: white;
    font-weight: 700;
    border: 2px solid var(--brand-600);
  }

  [data-contrast="high"] .btn-brand:hover {
    background: var(--brand-500);
    border-color: var(--brand-500);
    transform: translateY(-1px);
  }

  /* 高对比度模式下的输入框样式 */
  [data-contrast="high"] .card-input {
    background: var(--surface-primary);
    border: 2px solid var(--border-primary);
    color: var(--text-primary);
    font-weight: 500;
  }

  [data-contrast="high"] .card-input:focus {
    border-color: var(--border-focus);
    background: var(--surface-primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }

  /* 高对比度模式下的播放器样式 */
  [data-contrast="high"] .player-bar {    background: rgba(255,255,255,0.55);
    border-top: 2px solid var(--border-primary);
  }

  [data-contrast="high"] .player-bar::before {
    background: radial-gradient(120% 100% at 50% 100%, rgba(2,6,23,0.45) 0%, rgba(2,6,23,0.25) 40%, transparent 70%);
  }

  [data-contrast="high"] .player-track-title {
    text-shadow: 0 1px 3px rgba(0,0,0,0.6);
  }

  [data-contrast="high"] .player-track-artist,
  [data-contrast="high"] .player-time {
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  }

  [data-contrast="high"] .player-secondary-btn {
    border: 2px solid rgba(255, 255, 255, 0.5);
  }

  [data-contrast="high"] .player-play-btn {
    border: 2px solid rgba(255, 255, 255, 0.3);
  }

  /* 主色进度条 */
  .progress-primary {
    background: var(--accent);
    transition: width 0.3s ease;
  }

  /* 活跃标签样式 */
  .tab-active {
    color: white !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }

@layer utilities {
  /* 🎯 Q弹动画效果 */
  .bounce-indicator {
    transition: transform 0.6s var(--ease-bounce-out),
                opacity 0.6s var(--ease-bounce-out);
    will-change: transform, opacity;
    transform: translateZ(0);
  }
  
  .elastic-hover {
    transition: transform 0.25s var(--ease-elastic);
    will-change: transform;
    transform: translateZ(0);
  }
  
  .spring-click {
    transition: transform 0.15s var(--ease-back-out);
    will-change: transform;
    transform: translateZ(0);
  }
  
  /* 🎨 按钮弹性交互 */
  .btn-elastic {
    transition: transform 0.2s var(--ease-back-out);
    will-change: transform;
    transform: translateZ(0);
  }
  
  .btn-elastic:hover {
    transform: scale(1.02) translateZ(0);
  }
  
  .btn-elastic:active {
    transform: scale(0.98) translateZ(0);
    transition-duration: 0.1s;
  }
  
  /* 🌟 指示器专用动画 */
  .indicator-bounce {
    animation: indicatorBounce 0.6s var(--ease-bounce-out) forwards;
  }
  
  @keyframes indicatorBounce {
    0% {
      transform: translateY(var(--start-y, 0)) scale(0.95);
    }
    50% {
      transform: translateY(var(--mid-y, 0)) scale(1.05);
    }
    100% {
      transform: translateY(var(--end-y, 0)) scale(1);
    }
  }

  /* 🎵 播放器歌曲切换Q弹动画 */
  .animate-bounce-gentle {
    animation: bounceGentle 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
  }

  @keyframes bounceGentle {
    0% {
      transform: scale(1) translateZ(0);
    }
    50% {
      transform: scale(1.08) translateZ(0);
    }
    100% {
      transform: scale(1) translateZ(0);
    }
  }

  /* 🎯 3D变换相关 */
  .preserve-3d {
    transform-style: preserve-3d;
  }
  
  .backface-hidden {
    backface-visibility: hidden;
  }
  
  /* 🔧 歌词滚动容器优化 - 防止React重渲染覆盖transform */
  .lyrics-scroll-container {
    contain: layout paint;
    backface-visibility: hidden;
  }
  
  .album-back {
    transform: rotateY(180deg);
  }

  /* 🎯 专辑封面3D翻转动画 */
  .album-flip-left {
    animation: albumFlipLeft 0.6s cubic-bezier(0.4, 0, 0.6, 1) forwards !important;
    transform-style: preserve-3d !important;
  }
  
  .album-flip-right {
    animation: albumFlipRight 0.6s cubic-bezier(0.4, 0, 0.6, 1) forwards !important;
    transform-style: preserve-3d !important;
  }

  @keyframes albumFlipLeft {
    0% {
      transform: rotateY(0deg);
    }
    100% {
      transform: rotateY(-180deg);
    }
  }

  @keyframes albumFlipRight {
    0% {
      transform: rotateY(0deg);
    }
    100% {
      transform: rotateY(180deg);
    }
  }

  /* 🎯 歌曲名滑动切换动画 */
  .track-info-container {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  
  .track-info-content {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  
  .track-hidden {
    opacity: 0;
    transform: translateX(-200%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.6, 1);
  }
  
  .track-slide-left {
    transform: translateX(-100%) !important;
    opacity: 0 !important;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.6, 1) !important;
  }
  
  .track-slide-right {
    transform: translateX(100%) !important;
    opacity: 0 !important;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.6, 1) !important;
  }
  
  .track-slide-complete {
    transform: translateX(0);
    opacity: 1;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .track-prepare-right {
    transform: translateX(100%);
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
  }
  
  .track-prepare-left {
    transform: translateX(-100%);
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
  }
  
  .track-slide-from-right {
    transform: translateX(0) !important;
    opacity: 1 !important;
    transition: all 0.3s cubic-bezier(0.2, 0, 0.2, 1) !important;
    animation: slideInFromRight 0.3s cubic-bezier(0.2, 0, 0.2, 1) forwards !important;
  }
  
  .track-slide-from-left {
    transform: translateX(0) !important;
    opacity: 1 !important;
    transition: all 0.3s cubic-bezier(0.2, 0, 0.2, 1) !important;
    animation: slideInFromLeft 0.3s cubic-bezier(0.2, 0, 0.2, 1) forwards !important;
  }

  @keyframes slideInFromRight {
    0% {
      transform: translateX(100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slideInFromLeft {
    0% {
      transform: translateX(-100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }
  .text-balance {
    text-wrap: balance;
  }

  /* 页面过渡动画 */
  .page-transition {
    animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .page-transition-out {
    animation: fadeOutDown 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeOutDown {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  }

  /* 页面切换效果 */
  .page-container {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .page-enter {
    opacity: 0;
    transform: translateX(30px);
  }

  .page-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .page-exit {
    opacity: 1;
    transform: translateX(0);
  }

  .page-exit-active {
    opacity: 0;
    transform: translateX(-30px);
    transition: all 0.3s cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  /* 隐藏所有滚动条 */
  * {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  *::-webkit-scrollbar {
    display: none;
  }
  
  /* 全局禁用文字选择 - 提升用户体验 */
  * {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }
  
  /* 禁用拖拽选择高亮效果 */
  ::selection {
    background: transparent;
  }
  ::-moz-selection {
    background: transparent;
  }
  
  /* 允许搜索框和输入框选择文字 */
  input, textarea, [contenteditable="true"] {
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
  }
  
  /* 恢复输入框的选择高亮效果 */
  input::selection, textarea::selection, [contenteditable="true"]::selection {
    background: rgba(59, 130, 246, 0.3) !important;
    color: inherit !important;
  }
  input::-moz-selection, textarea::-moz-selection, [contenteditable="true"]::-moz-selection {
    background: rgba(59, 130, 246, 0.3) !important;
    color: inherit !important;
  }
  
  /* 允许调试信息和错误消息的文字选择（便于复制） */
  .debug-info, .error-message, .console-output {
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
  }
  
  /* 允许特定需要文字选择的元素 */
  .selectable-text {
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
  }

  /* 沉浸式歌词过渡动画支持 */
  .album-cover-target {
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  /* Q弹动画辅助类 */
  .bouncy-entrance {
    animation: bouncyEntrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes bouncyEntrance {
    0% {
      transform: scale(0.3) translateY(20px);
      opacity: 0;
    }
    50% {
      transform: scale(1.05) translateY(-5px);
      opacity: 0.8;
    }
    70% {
      transform: scale(0.95) translateY(2px);
      opacity: 0.95;
    }
    100% {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }
  
  /* 特别针对主要容器的滚动条隐藏 */
  main {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  main::-webkit-scrollbar {
    display: none;
  }
  
  .overflow-auto, .overflow-y-auto, .overflow-x-auto {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .overflow-auto::-webkit-scrollbar, 
  .overflow-y-auto::-webkit-scrollbar, 
  .overflow-x-auto::-webkit-scrollbar {
    display: none;
  }

  /* 隐藏所有可能的滚动条容器并防止根级滚动 */
  html {
    height: 100vh;
    overflow: hidden; /* 防止html级滚动 */
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  body {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  body::-webkit-scrollbar, 
  html::-webkit-scrollbar {
    display: none;
  }
}

/* =================================
   FULLSCREEN LYRICS ANIMATIONS
   ================================= */

/* 专辑封面扩展动画 */
@keyframes album-expand {
  0% {
    transform: scale(0);
    border-radius: 50%;
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
    border-radius: 25%;
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    border-radius: 0%;
    opacity: 1;
  }
}

.animate-album-expand {
  animation: album-expand 0.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

/* =================================
   IMMERSIVE LYRICS SPECIFIC STYLES
   ================================= */

/* 沉浸式歌词进入/退出动画 */
@keyframes immersive-fade-in {
  0% {
    opacity: 0;  }
  100% {
    opacity: 1;  }
}

@keyframes immersive-fade-out {
  0% {
    opacity: 1;  }
  100% {
    opacity: 0;  }
}

.immersive-enter {
  animation: immersive-fade-in 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.immersive-exit {
  animation: immersive-fade-out 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* 动画延迟工具类 */
.animation-delay-150 {
  animation-delay: 150ms;
}

.animation-delay-300 {
  animation-delay: 300ms;
}

.animation-delay-450 {
  animation-delay: 450ms;
}

/* =================================
   BLUR BACKDROP EFFECT
   ================================= */

/* 模糊背景条样式 - 灰色底层效果 */
.blur-backdrop {
  position: absolute;
  left: 0;
  width: 100%;
  height: 60px;
  /* 统一品牌色调：暗色为品牌蓝/靛蓝的柔和玻璃渐变，亮色为浅品牌色 */
  background: linear-gradient(135deg, rgba(43, 111, 255, 0.12), rgba(126, 200, 255, 0.10));    border-radius: 8px;
  border: 1px solid var(--card-border-outer);
  box-shadow: 0 2px 16px rgba(43, 111, 255, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 0;  /* 放在底层，文字在上方 */
}

/* 激活状态 */
.blur-backdrop.active {
  opacity: 1;
}

/* Q弹动画效果 - 现在通过JavaScript直接控制 */

/* 高强度模糊效果 */
.blur-backdrop.high-intensity {    background: linear-gradient(135deg, rgba(43, 111, 255, 0.18), rgba(126, 200, 255, 0.14));
}

/* 低强度模糊效果 */
.blur-backdrop.low-intensity {    background: linear-gradient(135deg, rgba(43, 111, 255, 0.08), rgba(126, 200, 255, 0.06));
}

/* 🎵 列表行选中样式 - 简洁主题版 */
.selected-row {
  background: rgba(43, 111, 255, 0.06) !important;
  border-left: 3px solid var(--brand-600) !important;
}

/* 暗色模式 */
.dark .selected-row {
  background: rgba(43, 111, 255, 0.12) !important;
  border-left: 3px solid var(--brand-500) !important;
}

/* 确保td背景透明，显示tr的背景 */
.selected-row td {
  background: transparent !important;
}

/* 第一列需要补偿边框宽度 */
.selected-row td:first-child {
  padding-left: calc(1.5rem - 3px) !important;
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* 歌词高亮发光动画 - 新版光晕效果 */
@keyframes lyrics-glow-pulse {
  0%, 100% {
    text-shadow: 
      0 0 20px rgba(255, 255, 255, 0.8),
      0 0 30px rgba(255, 255, 255, 0.6),
      0 0 40px rgba(255, 255, 255, 0.4),
      0 2px 15px rgba(255, 255, 255, 0.3);
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
  }
  50% {
    text-shadow: 
      0 0 25px rgba(255, 255, 255, 0.9),
      0 0 35px rgba(255, 255, 255, 0.7),
      0 0 50px rgba(255, 255, 255, 0.5),
      0 2px 20px rgba(255, 255, 255, 0.4);
    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.4));
  }
}

.lyrics-current-glow {
  animation: lyrics-glow-pulse 3s ease-in-out infinite;
}

/* 歌词淡入效果 */
@keyframes lyrics-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.1);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    text-shadow: 
      0 0 20px rgba(255, 255, 255, 0.8),
      0 0 30px rgba(255, 255, 255, 0.6),
      0 0 40px rgba(255, 255, 255, 0.4),
      0 2px 15px rgba(255, 255, 255, 0.3);
  }
}

.lyrics-fade-in {
  animation: lyrics-fade-in 1.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* 歌词淡出效果 */
@keyframes lyrics-fade-out {
  0% {
    opacity: 1;
    text-shadow: 
      0 0 20px rgba(255, 255, 255, 0.8),
      0 0 30px rgba(255, 255, 255, 0.6),
      0 0 40px rgba(255, 255, 255, 0.4),
      0 2px 15px rgba(255, 255, 255, 0.3);
  }
  100% {
    opacity: 0.5;
    text-shadow: 0 1px 6px rgba(255, 255, 255, 0.2);
  }
}

.lyrics-fade-out {
  animation: lyrics-fade-out 1.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* 背景模糊脉动效果 */
@keyframes background-blur-pulse {
  0%, 100% {    filter: blur(1px) brightness(0.7);
  }
  50% {    filter: blur(1.5px) brightness(0.6);
  }
}

.background-blur-pulse {
  animation: background-blur-pulse 5.2s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
}

/* 全局平滑滚动 */
* {
  scroll-behavior: smooth;
}

/* 背景渐变流动动画 */
@keyframes background-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.background-animated {
  background-size: 400% 400%;
  animation: background-flow 20s ease-in-out infinite;
}

/* 歌词文字弹性缩放动画 */
@keyframes lyrics-scale-in {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.lyrics-scale-enter {
  animation: lyrics-scale-in 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 光粒子效果动画 */
@keyframes particle-float {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
    opacity: 0.3;
  }
  33% {
    transform: translateY(-20px) translateX(10px);
    opacity: 0.6;
  }
  66% {
    transform: translateY(-10px) translateX(-5px);
    opacity: 0.4;
  }
}

.particle-effect {
  animation: particle-float 8s ease-in-out infinite;
}

/* 歌词容器呼吸动画 */
@keyframes lyrics-breathe {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.01);
  }
}

.lyrics-container-breathe {
  animation: lyrics-breathe 6s ease-in-out infinite;
}

/* 沉浸式模式按钮悬浮动画 */
@keyframes immersive-button-float {
  0%, 100% {
    transform: translateY(0px);
    box-shadow: 0 4px 12px rgba(124, 92, 255, 0.2);
  }
  50% {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(124, 92, 255, 0.3);
  }
}

.immersive-button-hover {
  animation: immersive-button-float 2s ease-in-out infinite;
}

/* =================================
   LIQUID GLASS BUTTON EFFECTS
   ================================= */

/* 液态玻璃按钮基础样式 */
.liquid-card-btn {
  position: relative;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.05) 100%);    border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  box-shadow: 
    0 4px 15px rgba(0, 0, 0, 0.1),
    0 1px 6px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(255, 255, 255, 0.1);
}

/* 液态玻璃按钮内部光效 */
.liquid-card-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.2) 50%, 
    transparent 100%);
  transition: left 0.6s ease;
  pointer-events: none;
}

/* 液态玻璃按钮流动光效 */
.liquid-card-btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, 
    rgba(255, 255, 255, 0.1) 0%, 
    transparent 70%);
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

/* 悬停状态 */
.liquid-card-btn:hover {
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.15) 0%,
    rgba(255, 255, 255, 0.08) 100%);
  border-color: rgba(255, 255, 255, 0.3);
  color: rgba(255, 255, 255, 1);
  transform: translateY(-2px) scale(1.02);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.15),
    0 3px 12px rgba(0, 0, 0, 0.1),
    0 0 20px rgba(255, 255, 255, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(255, 255, 255, 0.2);
}

.liquid-card-btn:hover::before {
  left: 100%;
}

.liquid-card-btn:hover::after {
  opacity: 1;
}

/* 按下状态 */
.liquid-card-btn:active {
  transform: translateY(0) scale(0.98);
  transition: all 0.15s ease;
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(255, 255, 255, 0.1);
}

/* 活跃状态（如播放中） */
.liquid-card-btn.active {
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.2) 0%,
    rgba(255, 255, 255, 0.1) 100%);
  border-color: rgba(255, 255, 255, 0.4);
  color: rgba(255, 255, 255, 1);
  box-shadow: 
    0 6px 20px rgba(0, 0, 0, 0.15),
    0 0 30px rgba(255, 255, 255, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(255, 255, 255, 0.2);
  animation: liquid-card-pulse 2s ease-in-out infinite;
}

/* 液态玻璃脉动动画 */
@keyframes liquid-card-pulse {
  0%, 100% {
    box-shadow: 
      0 6px 20px rgba(0, 0, 0, 0.15),
      0 0 30px rgba(255, 255, 255, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.5),
      inset 0 -1px 0 rgba(255, 255, 255, 0.2);
  }
  50% {
    box-shadow: 
      0 8px 25px rgba(0, 0, 0, 0.2),
      0 0 40px rgba(255, 255, 255, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.6),
      inset 0 -1px 0 rgba(255, 255, 255, 0.3);
  }
}

/* 液态玻璃涟漪效果 */
.liquid-card-btn:active::before {
  left: 0;
  transition: none;
  background: radial-gradient(circle, 
    rgba(255, 255, 255, 0.3) 0%, 
    transparent 50%);
  animation: liquid-ripple 0.6s ease-out;
}

@keyframes liquid-ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* 设置页面柔和淡入动画 */
@keyframes fade-slide-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.settings-tab-content {
  will-change: transform, opacity;
}

.animate-fade-slide-up {
  animation: fade-slide-up 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* =================================
   播放器控件增强动画
   ================================= */

/* 播放/暂停图标切换动画 */
@keyframes icon-morph-in {
  0% {
    opacity: 0;
    transform: scale(0.6) rotate(-90deg);
  }
  60% {
    transform: scale(1.1) rotate(0deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

.control-main-btn svg {
  animation: icon-morph-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 收藏按钮心跳效果 */
@keyframes favorite-heartbeat-player {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(1.2);
  }
  20%, 40% {
    transform: scale(1.1);
  }
  50% {
    transform: scale(1.25);
  }
  60% {
    transform: scale(1);
  }
}

.function-square-btn.active svg {
  animation: favorite-heartbeat-player 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 循环按钮旋转动画 */
@keyframes repeat-mode-rotate {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.15);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}

.control-small-btn.repeat-mode-change svg {
  animation: repeat-mode-rotate 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 随机播放激活动画 */
@keyframes shuffle-activate {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-3px);
  }
  75% {
    transform: translateX(3px);
  }
}

.control-small-btn.shuffle-activate svg {
  animation: shuffle-activate 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* =================================
   进度条交互增强
   ================================= */

/* 拖拽时的脉动效果 */
@keyframes progress-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(124, 92, 255, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(124, 92, 255, 0);
  }
}

.progress-handle.active {
  animation: progress-pulse 1.5s ease-out infinite;
}

/* 点击进度条的波纹效果 */
@keyframes progress-ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

.progress-ripple {
  position: absolute;
  top: 50%;
  left: var(--ripple-x, 50%);
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(124, 92, 255, 0.6) 0%, rgba(124, 92, 255, 0.2) 70%, transparent 100%);
  pointer-events: none;
  animation: progress-ripple 0.6s ease-out;
}

/* 悬停时进度条轨道高亮 */
.progress-container:hover .progress-track {
  background: linear-gradient(to right, 
    rgba(124, 92, 255, 0.15) 0%,
    rgba(124, 92, 255, 0.08) 100%);
  transition: background 0.3s ease;
}

/* =================================
   空状态动画
   ================================= */

/* 图标悬浮呼吸 */
@keyframes empty-state-float {
  0%, 100% {
    transform: translateY(0px) scale(1);
  }
  50% {
    transform: translateY(-10px) scale(1.05);
  }
}

.empty-state-icon {
  animation: empty-state-float 3s ease-in-out infinite;
}

/* 文字淡入淡出 */
@keyframes text-fade-pulse {
  0%, 100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
}

.empty-state-text {
  animation: text-fade-pulse 2s ease-in-out infinite;
}

/* =================================
   加载指示器优化
   ================================= */

/* 自定义三点跳跃加载 */
@keyframes dot-bounce {
  0%, 80%, 100% {
    transform: translateY(0) scale(1);
    opacity: 0.7;
  }
  40% {
    transform: translateY(-12px) scale(1.2);
    opacity: 1;
  }
}

.loading-dots span {
  display: inline-block;
  width: 8px;
  height: 8px;
  margin: 0 3px;
  background: currentColor;
  border-radius: 50%;
  animation: dot-bounce 1.4s ease-in-out infinite;
}

.loading-dots span:nth-child(1) {
  animation-delay: 0s;
}

.loading-dots span:nth-child(2) {
  animation-delay: 0.2s;
}

.loading-dots span:nth-child(3) {
  animation-delay: 0.4s;
}

/* 环形加载器 */
@keyframes ring-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.ring-loader {
  border: 3px solid rgba(124, 92, 255, 0.2);
  border-top-color: var(--brand-600);
  border-radius: 50%;
  animation: ring-spin 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
}

/* =================================
   选项卡切换动画
   ================================= */

/* 选项卡下划线滑动（用于其他页面，不影响音乐库） */
.settings-tab-indicator {
  position: absolute;
  bottom: 0;
  height: 3px;
  background: linear-gradient(to right, var(--brand-600), var(--brand-500));
  border-radius: 3px 3px 0 0;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  box-shadow: 0 -2px 8px rgba(124, 92, 255, 0.3);
}

/* 选项卡内容淡入 */
@keyframes tab-content-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.tab-content-active {
  animation: tab-content-fade-in 0.3s ease-out;
}

/* 激活选项卡的强调动画 */
@keyframes tab-activate {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

.tab-button.active {
  animation: tab-activate 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* =================================
   侧边栏增强动画
   ================================= */

/* 歌单图标弹跳 */
@keyframes playlist-icon-bounce {
  0%, 100% {
    transform: scale(1) rotate(0deg);
  }
  25% {
    transform: scale(1.15) rotate(-5deg);
  }
  75% {
    transform: scale(1.15) rotate(5deg);
  }
}

.playlist-icon-hover {
  animation: playlist-icon-bounce 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 创建歌单弹窗戏剧性入场 */
@keyframes modal-dramatic-enter {
  0% {
    opacity: 0;
    transform: scale(0.7) translateY(-50px) rotateX(20deg);
  }
  60% {
    opacity: 1;
    transform: scale(1.05) translateY(0) rotateX(-5deg);
  }
  100% {
    transform: scale(1) translateY(0) rotateX(0deg);
  }
}

.modal-dramatic {
  animation: modal-dramatic-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform-style: preserve-3d;
}

/* =================================
   Toast通知增强
   ================================= */

/* Toast进度条 */
@keyframes toast-progress {
  0% {
    width: 100%;
  }
  100% {
    width: 0%;
  }
}

.toast-progress-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(to right, currentColor, transparent);
  animation: toast-progress var(--duration, 3s) linear;
}

/* 成功Toast弹跳入场 */
@keyframes toast-success-enter {
  0% {
    opacity: 0;
    transform: translateX(100%) scale(0.8);
  }
  60% {
    opacity: 1;
    transform: translateX(-10px) scale(1.05);
  }
  100% {
    transform: translateX(0) scale(1);
  }
}

/* 错误Toast震动入场 */
@keyframes toast-error-enter {
  0% {
    opacity: 0;
    transform: translateX(100%);
  }
  50% {
    opacity: 1;
    transform: translateX(-5px);
  }
  60% {
    transform: translateX(5px);
  }
  70% {
    transform: translateX(-3px);
  }
  80% {
    transform: translateX(3px);
  }
  100% {
    transform: translateX(0);
  }
}

/* 警告Toast脉冲入场 */
@keyframes toast-warning-enter {
  0% {
    opacity: 0;
    transform: translateX(100%) scale(0.9);
  }
  50% {
    opacity: 1;
    transform: translateX(0) scale(1.08);
  }
  75% {
    transform: scale(0.98);
  }
  100% {
    transform: scale(1);
  }
}

.toast-success {
  animation: toast-success-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.toast-error {
  animation: toast-error-enter 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.toast-warning {
  animation: toast-warning-enter 0.45s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Toast关闭按钮旋转 */
.toast-close-btn:hover {
  transform: rotate(90deg);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* =================================
   光泽效果基础样式
   ================================= */

/* 光泽层容器 */
.mouse-gloss-container {
  position: relative;
  overflow: hidden;
}

.mouse-gloss-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  z-index: 1;
}

/* 为按钮和卡片添加光泽支持 */
.control-main-btn,
.control-medium-btn,
.control-small-btn,
.function-square-btn {
  position: relative;
  overflow: hidden;
}

/* 3D卡片倾斜效果（可选） */
.card-3d-tilt {
  transform-style: preserve-3d;
  transition: transform 0.3s ease;
}

.card-3d-tilt:hover {
  transform: perspective(1000px) rotateX(var(--tilt-x, 0deg)) rotateY(var(--tilt-y, 0deg)) scale(1.02);
}

/* =================================
   动画禁用控制
   ================================= */

/* 全局禁用所有动画 */
body.animations-disabled * {
  animation: none !important;
  transition: none !important;
}

body.animations-disabled .page-transition,
body.animations-disabled .animate-fade-slide-up,
body.animations-disabled .tab-content-active {
  animation: none !important;
}

/* 播放器控件动画禁用 */
body.no-icon-morph .control-main-btn svg {
  animation: none !important;
}

body.no-heartbeat .function-square-btn.active svg {
  animation: none !important;
}

body.no-rotate .control-small-btn.repeat-mode-change svg {
  animation: none !important;
}

body.no-shuffle .control-small-btn.shuffle-activate svg {
  animation: none !important;
}

/* 进度条动画禁用 */
body.no-progress-pulse .progress-handle.active {
  animation: none !important;
}

body.no-progress-ripple .progress-ripple {
  display: none !important;
}

/* 空状态动画禁用 */
body.no-empty-float .empty-state-icon {
  animation: none !important;
}

body.no-text-pulse .empty-state-text {
  animation: none !important;
}

/* 侧边栏动画禁用 */
body.no-playlist-bounce .playlist-icon-hover {
  animation: none !important;
}

body.no-modal-dramatic .modal-dramatic {
  animation: none !important;
}

/* Toast 动画禁用 */
body.animations-disabled .toast-success,
body.animations-disabled .toast-error,
body.animations-disabled .toast-warning {
  animation: none !important;
  opacity: 1 !important;
  transform: none !important;
}

body.animations-disabled .toast-progress-bar {
  animation: none !important;
}

/* =================================
   歌词动画预览效果
   ================================= */

/* 弹性Q弹动画预览 */
@keyframes lyrics-preview-bouncy-soft {
  0% {
    transform: translateY(10px) scale(0.9);
    opacity: 0;
  }
  60% {
    transform: translateY(-5px) scale(1.1);
    opacity: 1;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes lyrics-preview-bouncy-strong {
  0% {
    transform: translateY(15px) scale(0.85);
    opacity: 0;
  }
  50% {
    transform: translateY(-8px) scale(1.15);
    opacity: 1;
  }
  70% {
    transform: translateY(3px) scale(0.95);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes lyrics-preview-bouncy-playful {
  0% {
    transform: translateY(12px) scale(0.88) rotate(-2deg);
    opacity: 0;
  }
  40% {
    transform: translateY(-6px) scale(1.12) rotate(2deg);
    opacity: 1;
  }
  65% {
    transform: translateY(2px) scale(0.96) rotate(-1deg);
  }
  85% {
    transform: translateY(-1px) scale(1.02) rotate(0.5deg);
  }
  100% {
    transform: translateY(0) scale(1) rotate(0);
    opacity: 1;
  }
}

@keyframes lyrics-preview-elastic-soft {
  0% {
    transform: scale(0.85);
    opacity: 0;
  }
  50% {
    transform: scale(1.12);
    opacity: 1;
  }
  75% {
    transform: scale(0.97);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes lyrics-preview-elastic-strong {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  40% {
    transform: scale(1.2);
    opacity: 1;
  }
  60% {
    transform: scale(0.92);
  }
  80% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* 平滑流畅动画预览 */
@keyframes lyrics-preview-smooth {
  0% {
    transform: translateY(8px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* 快速动画预览 */
@keyframes lyrics-preview-fast {
  0% {
    transform: translateY(5px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* 慢速动画预览 */
@keyframes lyrics-preview-slow {
  0% {
    transform: translateY(12px) scale(0.95);
    opacity: 0;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}